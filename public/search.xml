<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Collecting commonly used websites</title>
    <url>/posts/7c22bd6a/</url>
    <content><![CDATA[<p><strong style="color : orange">Some commonly used or valuable websites .</strong> </p>
<span id="more"></span>

<div class="link-grid"><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>Hackway</p><p>计算机专业学习路线</p>
<a href="https://hackway.org/docs/cs/intro"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>cs-self-learning</p><p>CS自学指南</p>
<a href="https://csdiy.wiki"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>名校公开课程评价网</p><p>CS Courses</p>
<a href="https://conanhujinming.github.io/comments-for-awesome-courses/"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>CS公开课程学习群</p><p>一个QQ群</p>
<a href="https://zhuanlan.zhihu.com/p/253232863"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>编程指北</p><p>计算机学习路线</p>
<a href="https://csguide.cn/"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>Hello FakeGPT</p><p>ChatGPT加速器</p>
<a href="chat.zhille.io"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>Hello 算法</p><p>算法学习入门教程</p>
<a href="https://www.hello-algo.com/"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>Brian (Bojie) Li (01.me)</p><p>https://01.me/</p>
<a href="https://01.me/"></a>
</div></div>]]></content>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>Cpp新知</title>
    <url>/posts/3ecf09f5/</url>
    <content><![CDATA[<p>……</p>
<span id="more"></span>

<h3 id="C-矩阵运算-运算符重载"><a href="#C-矩阵运算-运算符重载" class="headerlink" title="C++矩阵运算(运算符重载)"></a>C++矩阵运算(运算符重载)</h3><p><a href="https://mp.weixin.qq.com/s/C1c5XChVyVT4OSeNvpmaqQ">Link</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Matrix</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> rows , cols ;</span><br><span class="line"></span><br><span class="line">        std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">        <span class="built_in">Matrix</span>(<span class="type">int</span> rows, <span class="type">int</span> cols , std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data): <span class="built_in">rows</span>(rows), <span class="built_in">cols</span>(cols) , <span class="built_in">data</span>(data)&#123;&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">get_elem</span><span class="params">(<span class="type">int</span> row , <span class="type">int</span> col)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> data[row][col];</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; rows ; i++)&#123;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; cols ; j++)&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;%d  &quot;</span> , data[i][j]);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Matrix <span class="keyword">operator</span>+(<span class="type">const</span> Matrix&amp; A) <span class="type">const</span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="function">Matrix <span class="title">result</span><span class="params">(rows , cols , data)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; rows ; i++)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; cols ; j++)&#123;</span><br><span class="line"></span><br><span class="line">                    result.data[i][j] += A.data[i][j];</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">        Matrix <span class="keyword">operator</span>-(<span class="type">const</span> Matrix&amp; A) <span class="type">const</span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="function">Matrix <span class="title">result</span><span class="params">(rows , cols , data)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; rows ; i++)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; cols ; j++)&#123;</span><br><span class="line"></span><br><span class="line">                    result.data[i][j] -= A.data[i][j];</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">        Matrix <span class="keyword">operator</span>*(<span class="type">const</span> Matrix&amp; A) <span class="type">const</span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(cols != A.rows)&#123;</span><br><span class="line"></span><br><span class="line">                std::cout &lt;&lt; <span class="string">&quot;Invalid matrix dimensions&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function">Matrix <span class="title">result</span><span class="params">(rows , A.cols , std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; (rows , std::vector&lt;<span class="type">int</span>&gt;(A.cols,<span class="number">0</span>)))</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; rows ; i++)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; A.cols ; j++)</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span> ; k &lt; cols ; k++)&#123;</span><br><span class="line"></span><br><span class="line">                        result.data[i][j] += data[i][k] * A.data[k][j];</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">        <span class="function">Matrix <span class="title">transpose</span><span class="params">()</span><span class="type">const</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="function">Matrix <span class="title">res</span><span class="params">(cols , rows , data)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; cols ; i++)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; rows ; j++)&#123;</span><br><span class="line"></span><br><span class="line">                    res.data[i][j] = data[j][i];</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data = &#123; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125; , &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125; , &#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data1 = &#123; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125; , &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125; , &#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125; , &#123;<span class="number">6</span>,<span class="number">6</span>,<span class="number">6</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data2 = &#123; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125; , &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125; , &#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function">Matrix <span class="title">A</span><span class="params">(<span class="number">3</span>,<span class="number">4</span>,data2)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Matrix <span class="title">B</span><span class="params">(<span class="number">4</span>,<span class="number">3</span>,data1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Matrix <span class="title">C</span><span class="params">(<span class="number">3</span>,<span class="number">3</span>,data)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// C = A + B;</span></span><br><span class="line"></span><br><span class="line">    C = A * B;</span><br><span class="line"></span><br><span class="line">    A.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    B.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    C.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    C.<span class="built_in">transpose</span>().<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="C-11-tuple"><a href="#C-11-tuple" class="headerlink" title="C++11 tuple"></a>C++11 tuple</h3><p><a href="https://mp.weixin.qq.com/s/oPOqr5J0ES0NGO-L3eKvzA">Link</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;tuple&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string name = <span class="string">&quot;Alice&quot;</span>;</span><br><span class="line">    <span class="type">int</span> age = <span class="number">21</span>;</span><br><span class="line">    <span class="type">double</span> grade = <span class="number">100.0</span>;</span><br><span class="line">    <span class="keyword">auto</span> student_tuple = std::<span class="built_in">make_tuple</span>(name , age , grade);</span><br><span class="line"></span><br><span class="line">    std::string name_from_student = std::<span class="built_in">get</span>&lt;<span class="number">0</span>&gt;(student_tuple);</span><br><span class="line">    <span class="type">int</span> age_of_student = std::<span class="built_in">get</span>&lt;<span class="number">1</span>&gt;(student_tuple);</span><br><span class="line">    <span class="type">double</span> grade_of_student = std::<span class="built_in">get</span>&lt;<span class="number">2</span>&gt;(student_tuple);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;name : &quot;</span> &lt;&lt; name_from_student &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;age  : &quot;</span> &lt;&lt; age_of_student    &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;grade: &quot;</span> &lt;&lt; grade_of_student  &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自动补全背后的算法-字典树"><a href="#自动补全背后的算法-字典树" class="headerlink" title="自动补全背后的算法(字典树)"></a>自动补全背后的算法(字典树)</h3><p><a href="https://mp.weixin.qq.com/s/L42BCgw-WczbWsiY9C0MeA">Link</a></p>
<p>Trie树（又称前缀树或字典树）是一种用于快速检索字符串数据集中的键的树形数据结构。这种结构非常适合处理字符串集合，特别是实现自动补全或拼写检查等功能。下面，我将通过一个具体的例子来解释Trie树的结构和工作原理。</p>
<p>假设我们有一个Trie树，我们要在其中存储单词“CAT”，“CAN”，和“BAT”。Trie树的结构将如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">      Root</span><br><span class="line">     /    \</span><br><span class="line">    B      C</span><br><span class="line">    |      |</span><br><span class="line">    A      A</span><br><span class="line">   / \    / \</span><br><span class="line">  T   *  T   N</span><br><span class="line"> /         /</span><br><span class="line">*         *  </span><br></pre></td></tr></table></figure>

<p>在这个图形化表示中：</p>
<ul>
<li>每个节点代表一个字符。</li>
<li>根节点（Root）不包含字符，它是所有单词的起始点。</li>
<li>每条从根节点到某个标记为“<em>”的节点的路径代表一个单词。例如，从根节点到第一个“</em>”的路径是“BAT”。</li>
<li>分支表示单词的不同字符。例如，“BAT”和“CAT”共享第一个字符，但第二个字符不同，因此在第二层分开。</li>
</ul>
<p>现在，如果我们要添加另一个单词比如“CAR”，Trie树将会更新为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">      Root</span><br><span class="line">     /    \</span><br><span class="line">    B      C</span><br><span class="line">    |      |</span><br><span class="line">    A      A</span><br><span class="line">   / \    / \</span><br><span class="line">  T   *  T   R</span><br><span class="line"> /       /   |</span><br><span class="line">*       *    *</span><br><span class="line">             |</span><br><span class="line">             *  </span><br></pre></td></tr></table></figure>

<p>在这个新的结构中，“CAT”和“CAR”共享前两个字符“CA”，但第三个字符不同，在“CAR”中为“R”，因此在第三层分叉。</p>
<p><strong>操作说明</strong></p>
<ol>
<li><strong>插入</strong>：当插入一个新单词时，从根节点开始，为单词的每个字符创建一个新的子节点（除非该字符已经存在）。到达单词的最后一个字符时，标记这个节点表示一个单词的结束。</li>
<li><strong>搜索</strong>：为了查找一个单词，从根节点开始，沿着单词的字符移动。如果能够在每一步都找到相应的字符，并且最后一个字符被标记为一个单词的结尾，那么该单词存在于Trie树中。</li>
<li><strong>前缀搜索</strong>：前缀搜索与全词搜索类似，但不需要最后一个字符被标记为单词的结尾。如果能够顺着前缀的字符在树中移动到最后一个字符，那么这个前缀存在于树中。</li>
</ol>
<p>Trie树在处理大量字符串，尤其是进行快速前缀查找和词汇自动补全时非常有效。由于它基于共享前缀来存储单词，因此相比于其他数据结构，它在空间效率上通常更优。</p>
<p><strong>TrieNode 设计</strong></p>
<p><code>TrieNode</code> 用于表示Trie树中的每个节点。接下来详细解释这个代码片段，包括<code>TrieNode</code>的设计以及每个成员的作用。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">trie_node</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">bool</span> is_end_of_word;</span><br><span class="line">        std::unordered_map&lt;<span class="type">char</span> , trie_node*&gt; children;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">trie_node</span>(): <span class="built_in">is_end_of_word</span>(<span class="literal">false</span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol>
<li><code>bool isEndOfWord;</code>：这是一个布尔型成员变量，用于标记当前节点是否代表一个单词的结束。如果<code>isEndOfWord</code>为<code>true</code>，则表示从根节点到当前节点的路径构成一个完整的单词。</li>
<li><code>unordered_map&lt;char, TrieNode*&gt; children;</code>：这是一个无序映射（<code>unordered_map</code>），用于存储当前节点的子节点。Trie树的一个关键特性是每个节点可以有多个子节点，每个子节点对应一个字符。这个<code>unordered_map</code>允许我们将字符映射到相应的子节点。</li>
<li><code>TrieNode() : isEndOfWord(false) &#123;&#125;</code>：这是<code>TrieNode</code>类的构造函数。构造函数用于初始化新创建的<code>TrieNode</code>对象。在这里，构造函数将<code>isEndOfWord</code>初始化为<code>false</code>，表示节点默认不是单词的结束。</li>
</ol>
<p>现在让我们通过一个示例来解释如何使用这个<code>TrieNode</code>类来构建Trie树：</p>
<p>假设我们要在Trie树中插入单词”CAT”，首先我们创建一个根节点。然后，我们从根节点开始，在每个字符位置上创建一个新的<code>TrieNode</code>对象，将<code>isEndOfWord</code>设置为<code>false</code>。在这个过程中，我们将字符映射到相应的子节点，如下所示：</p>
<ol>
<li>创建根节点，<code>isEndOfWord</code>为<code>false</code>。</li>
<li>在根节点下创建字符’C’对应的子节点，<code>isEndOfWord</code>为<code>false</code>。</li>
<li>在字符’C’对应的子节点下创建字符’A’对应的子节点，<code>isEndOfWord</code>为<code>false</code>。</li>
<li>在字符’A’对应的子节点下创建字符’T’对应的子节点，<code>isEndOfWord</code>为<code>true</code>，因为”CAT”的最后一个字符表示单词的结束。</li>
</ol>
<p>这就是如何使用<code>TrieNode</code>类来构建Trie树的一部分。这个类的设计允许我们轻松地在每个节点上附加字符和标记单词的结束。随着插入更多的单词，Trie树的结构会不断扩展。</p>
<p><strong>完整代码</strong></p>
<p>这段代码实现了一个称为“Trie”（也被称为前缀树或字典树）的数据结构:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">trie_node</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">bool</span> is_end_of_word;</span><br><span class="line">        std::unordered_map&lt;<span class="type">char</span> , trie_node*&gt; children;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">trie_node</span>(): <span class="built_in">is_end_of_word</span>(<span class="literal">false</span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">trie</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        trie_node* root;</span><br><span class="line">        <span class="comment">//Recursively cleans up memory</span></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">clear_memory</span><span class="params">(trie_node* node)</span></span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> pair : node-&gt;children)</span><br><span class="line">                <span class="built_in">clear_memory</span>(pair.second);</span><br><span class="line">            <span class="keyword">delete</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">trie</span>()&#123;</span><br><span class="line">            root = <span class="keyword">new</span> trie_node;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(std::string word)</span></span>&#123;</span><br><span class="line">            trie_node* current = root;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> ch : word)&#123;</span><br><span class="line">                <span class="keyword">if</span>(current-&gt;children.<span class="built_in">find</span>(ch) == current-&gt;children.<span class="built_in">end</span>())&#123;</span><br><span class="line">                    current-&gt;children[ch] = <span class="keyword">new</span> trie_node;</span><br><span class="line">                &#125;</span><br><span class="line">                current = current-&gt;children[ch];</span><br><span class="line">            &#125;</span><br><span class="line">            current-&gt;is_end_of_word = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//search whether word is in trie tree or not</span></span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">search</span><span class="params">(std::string word)</span></span>&#123;</span><br><span class="line">            trie_node* current = root;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> ch : word)&#123;</span><br><span class="line">                <span class="keyword">if</span>(current-&gt;children.<span class="built_in">find</span>(ch) == current-&gt;children.<span class="built_in">end</span>())</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                current = current-&gt;children[ch]; </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> current != <span class="literal">nullptr</span> &amp;&amp; current-&gt;is_end_of_word;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//search whether prefix is the prefix of the word in trie tree or not</span></span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">start_with</span><span class="params">(std::string prefix)</span></span>&#123;</span><br><span class="line">            trie_node* current = root;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> ch : prefix)&#123;</span><br><span class="line">                <span class="keyword">if</span>(current-&gt;children.<span class="built_in">find</span>(ch) == current-&gt;children.<span class="built_in">end</span>())&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                current = current-&gt;children[ch];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        ~<span class="built_in">trie</span>()&#123;</span><br><span class="line">            <span class="built_in">clear_memory</span>(root);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    trie trie_tree;</span><br><span class="line">    trie_tree.<span class="built_in">insert</span>(<span class="string">&quot;nudt&quot;</span>);</span><br><span class="line">    trie_tree.<span class="built_in">insert</span>(<span class="string">&quot;hust&quot;</span>);</span><br><span class="line">    std::cout &lt;&lt; trie_tree.<span class="built_in">search</span>(<span class="string">&quot;hust&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; trie_tree.<span class="built_in">start_with</span>(<span class="string">&quot;nud&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="c-Python调用shell命令"><a href="#c-Python调用shell命令" class="headerlink" title="c++&#x2F;Python调用shell命令"></a>c++&#x2F;Python调用shell命令</h3><p><a href="https://mp.weixin.qq.com/s/ahXrzTlIJcQGW_ONPvRgJQ">参考链接</a><br><code>C++</code>调用<code>shell</code>命令:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* command = <span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="type">char</span>)*<span class="number">100</span>);</span><br><span class="line">	<span class="built_in">snprintf</span>(command , <span class="number">100</span> , <span class="string">&quot;sed -i &#x27;13c `define M_c %d&#x27; ../sim/testbench/mau_sau_tb_fp64.sv&quot;</span> , max_row);</span><br><span class="line">	<span class="built_in">system</span>(command);</span><br><span class="line">	<span class="built_in">free</span>(command);</span><br></pre></td></tr></table></figure>

<p><code>python</code>调用<code>shell</code>命令</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">os.system(<span class="string">&quot;echo &#x27;hello world&#x27;&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="遍历数组的背后"><a href="#遍历数组的背后" class="headerlink" title="遍历数组的背后"></a>遍历数组的背后</h3><p><a href="https://mp.weixin.qq.com/s/36ouxHNRoX4ZZJ4dxmkjeg">数组有序与否对遍历的影响</a></p>
<p><a href="https://mp.weixin.qq.com/s/Mm8PqPM1vULK9Yr8tOnOgg">数组按行与按列遍历的差距</a> </p>
<p>上面这篇文章写得很详细了，以下是总结与代码实现。</p>
<ul>
<li>数组有序与否影响的是CPU的动态预测，有序的数组动态预测准确度很高。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SIZE 1e8</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">calc</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;q)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> a = <span class="number">0</span> , b = <span class="number">0</span> , len = q.<span class="built_in">size</span>() ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; len ; i++)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(q[i] &lt; <span class="number">500</span>)  a++ ;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> b++ ;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a - b ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">   std::vector&lt;<span class="type">int</span>&gt; q ;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; SIZE ; i++)&#123;</span><br><span class="line"></span><br><span class="line">        q.<span class="built_in">push_back</span>(<span class="built_in">rand</span>() % <span class="number">1000</span>) ; <span class="comment">//无序数组</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// q.push_back(i) ; //有序数组</span></span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">clock_t</span> start = <span class="built_in">clock</span>() ;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">calc</span>(q) ;</span><br><span class="line"></span><br><span class="line">    <span class="type">clock_t</span> end = <span class="built_in">clock</span>() ;    </span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> cost = (<span class="type">double</span>) (end - start) / CLOCKS_PER_SEC ;</span><br><span class="line"></span><br><span class="line">    std::<span class="built_in">printf</span>(<span class="string">&quot;Time cost : %.3fs\n&quot;</span> , cost) ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//After sort</span></span><br><span class="line"></span><br><span class="line">    std::<span class="built_in">sort</span>(q.<span class="built_in">begin</span>() , q.<span class="built_in">end</span>() ) ;</span><br><span class="line"></span><br><span class="line">    <span class="type">clock_t</span> start1 = <span class="built_in">clock</span>() ;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">calc</span>(q) ;</span><br><span class="line"></span><br><span class="line">    <span class="type">clock_t</span> end1 = <span class="built_in">clock</span>() ;    </span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> cost1 = (<span class="type">double</span>) (end1 - start1) / CLOCKS_PER_SEC ;</span><br><span class="line"></span><br><span class="line">    std::<span class="built_in">printf</span>(<span class="string">&quot;Time cost after sort : %.3fs\n&quot;</span> , cost1) ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Time cost : 0.570s<br>Time cost after sort : 0.129s</p>
</blockquote>
<h3 id="传参尽量传引用"><a href="#传参尽量传引用" class="headerlink" title="传参尽量传引用"></a>传参尽量传引用</h3><p>传参用引用！</p>
<ul>
<li>如果我们用以下方式传参</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; M)</span></span></span><br></pre></td></tr></table></figure>

<p>子函数中就会初始化一个变量<code>M</code>，并将形参<code>M</code>复制一份给新的<code>M</code> , 这样会损失性能。</p>
<p><strong>传引用的本质就是传地址</strong> ， 这样可以避免复制</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;M)</span></span></span><br></pre></td></tr></table></figure>

<p>如果考虑到为防止在<code>func</code>中误操作修改了主函数的<code>M</code> ， 可以这样：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">const</span> vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;M)</span></span></span><br></pre></td></tr></table></figure>

<p>这样在<code>func</code>的作用域中，M便不可修改，不会影响主函数中的<code>M</code> .</p>
<ul>
<li>实例</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> vector&lt;<span class="type">int</span>&gt; vi ;</span><br><span class="line"><span class="keyword">typedef</span> vector&lt;<span class="type">float</span>&gt; vf ;</span><br><span class="line"><span class="keyword">typedef</span> vector&lt;vf&gt; matrix ;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">encode_CS45D</span><span class="params">(<span class="type">const</span> matrix &amp;M , vf &amp;val , vi &amp;nr , vi &amp;ptr , vi &amp;idx)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> m = M.<span class="built_in">size</span>() , n = M[<span class="number">0</span>].<span class="built_in">size</span>() ;</span><br><span class="line">    <span class="type">int</span> NNZ = <span class="number">0</span> , <span class="type">nr_t</span> = <span class="number">-1</span> , t = <span class="number">0</span> ;</span><br><span class="line">    <span class="comment">//NNZ : numble of zeros in each slash</span></span><br><span class="line">    <span class="comment">//nr_t : nr_temp</span></span><br><span class="line">    <span class="comment">//t indicate whenther there are all zeros in the slash</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> , j = <span class="number">0</span> ; i &lt; m ; i++)&#123;</span><br><span class="line">        t = <span class="number">0</span> , <span class="type">nr_t</span>++ ;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = i , l = <span class="number">0</span> ; (l &lt; n &amp;&amp; k &gt;= <span class="number">0</span>) ; k-- , l++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(M[k][l] != <span class="number">0</span>)&#123;</span><br><span class="line">                val.<span class="built_in">push_back</span>(M[k][l]) ;</span><br><span class="line">                idx.<span class="built_in">push_back</span>(l) ;</span><br><span class="line">                NNZ++ , t = <span class="number">1</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(t)   nr.<span class="built_in">push_back</span>(<span class="type">nr_t</span>) ;</span><br><span class="line">        <span class="keyword">if</span>(NNZ != ptr.<span class="built_in">back</span>())   ptr.<span class="built_in">push_back</span>(NNZ) ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = m <span class="number">-1</span> , j = <span class="number">1</span> ; j &lt; n ; j++)&#123;</span><br><span class="line">        t = <span class="number">0</span> , <span class="type">nr_t</span>++ ;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = i , l = j ; l &lt; n ; l++ , k--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(M[k][l] != <span class="number">0</span>)&#123;</span><br><span class="line">                val.<span class="built_in">push_back</span>(M[k][l]) ;</span><br><span class="line">                idx.<span class="built_in">push_back</span>(l) ;</span><br><span class="line">                NNZ++ , t = <span class="number">1</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(t)   nr.<span class="built_in">push_back</span>(<span class="type">nr_t</span>) ;</span><br><span class="line">        <span class="keyword">if</span>(NNZ != ptr.<span class="built_in">back</span>())   ptr.<span class="built_in">push_back</span>(NNZ) ;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果在传参中，M的传参方式是<code>matrix M</code> , 在<code>Gdb</code>调试中，无法<code>step</code>进<code>encode_CS45D</code>这个函数，而是会进入<code>M</code>的<strong>拷贝子程序</strong>中(未知，较为底层)<br>#cpp </p>
]]></content>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>DataStructure</title>
    <url>/posts/ba907200/</url>
    <content><![CDATA[<p style = "color : #f03752 ; font-size : 24px">It's the note I made when learned data structure . </p>

<p>Ref : <a href="https://www.bilibili.com/video/BV1nJ411V7bd/?spm_id_from=333.337.search-card.all.click&vd_source=da5120fea3f8bb8d2fe1984a02a9a745">数据结构与算法基础（青岛大学-王卓）_哔哩哔哩_bilibili</a></p>
<span id="more"></span>

<h1 id="Representation-and-Implementation-of-ADT"><a href="#Representation-and-Implementation-of-ADT" class="headerlink" title="Representation and Implementation of ADT"></a>Representation and Implementation of ADT</h1><p><strong>EX :  Arithmetic Operations on Complex Numbers</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">float</span> real;</span><br><span class="line">    <span class="type">float</span> imag;</span><br><span class="line">&#125; Complex;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">assign</span><span class="params">(Complex &amp;A, <span class="type">float</span> real, <span class="type">float</span> imag)</span> </span>&#123;</span><br><span class="line">    A.real = real;</span><br><span class="line">    A.imag = imag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(Complex A)</span></span>&#123;</span><br><span class="line">    cout &lt;&lt; A.real &lt;&lt; <span class="string">&#x27;+&#x27;</span> &lt;&lt; A.imag &lt;&lt; <span class="string">&#x27;i&#x27;</span> &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(Complex &amp;A , Complex B , Complex C)</span></span>&#123;</span><br><span class="line">    A.real = B.real + C.real ;</span><br><span class="line">    A.imag = B.imag + C.imag ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">minus</span><span class="params">(Complex &amp;A , Complex B , Complex C)</span></span>&#123;</span><br><span class="line">    A.real = B.real - C.real ;</span><br><span class="line">    A.imag = B.imag - C.imag ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">multiply</span><span class="params">(Complex &amp;A , Complex B , Complex C)</span></span>&#123;</span><br><span class="line">    A.real = B.real * C.real - B.imag * C.imag ;</span><br><span class="line">    A.imag = B.real * C.imag + B.imag * C.real ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">divide</span><span class="params">(Complex &amp;A , Complex B , Complex C)</span></span>&#123;</span><br><span class="line">    A.real = (B.real * C.real + B.imag * C.imag) / (C.real * C.real + C.imag * C.imag) ;</span><br><span class="line">    A.imag = ( - B.real * C.imag + B.imag * C.real ) / (C.real * C.real + C.imag * C.imag) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Complex A , B , C ;</span><br><span class="line">    <span class="built_in">assign</span>(A , <span class="number">1</span> , <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">assign</span>(B , <span class="number">3</span> , <span class="number">4</span>) ;</span><br><span class="line">    <span class="built_in">assign</span>(C , <span class="number">5</span> , <span class="number">6</span>) ;</span><br><span class="line">    <span class="built_in">divide</span>(A , B , C) ;</span><br><span class="line">    <span class="built_in">print</span>(A) ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Linear-List"><a href="#Linear-List" class="headerlink" title="Linear List"></a>Linear List</h1><h2 id="Squence-Linear-List"><a href="#Squence-Linear-List" class="headerlink" title="Squence Linear List"></a>Squence Linear List</h2><h3 id="EX1-Horner’s-rules-or-Qin-Jiushao-秦九韶-’s-algorithm"><a href="#EX1-Horner’s-rules-or-Qin-Jiushao-秦九韶-’s-algorithm" class="headerlink" title="EX1. Horner’s rules or Qin Jiushao(秦九韶)’s algorithm"></a><strong>EX1. Horner’s rules or Qin Jiushao(秦九韶)’s algorithm</strong></h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 9 </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> K 1e7 <span class="comment">// numbers of loop</span></span></span><br><span class="line"><span class="type">double</span> a[<span class="number">10</span>] = &#123; <span class="number">2.1</span> , <span class="number">3.4</span> , <span class="number">2</span> , <span class="number">1.3</span> , <span class="number">3</span> , <span class="number">8.8</span> , <span class="number">4.3</span> , <span class="number">5.3</span> , <span class="number">5.3</span> , <span class="number">4.3</span>&#125; ;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">func1</span><span class="params">(<span class="type">double</span> x , <span class="type">double</span> *a )</span></span>&#123;</span><br><span class="line">    <span class="type">double</span> res = a[<span class="number">0</span>] ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= N ; i++)&#123;</span><br><span class="line">        res += a[i] * <span class="built_in">pow</span>(x , i) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res ;</span><br><span class="line">    <span class="comment">//std:: cout &lt;&lt; &quot;the result of polynominal by func1 is &quot; &lt;&lt; res &lt;&lt; std::endl ; </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">func2</span><span class="params">(<span class="type">double</span> x , <span class="type">double</span> *a)</span></span>&#123;</span><br><span class="line">    <span class="comment">// Qin Jiushao&#x27;s algorithm</span></span><br><span class="line">    <span class="type">double</span> res = a[<span class="number">9</span>] ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = N ; i &gt; <span class="number">0</span> ; i--)&#123;</span><br><span class="line">        res = a[i - <span class="number">1</span>] + res * x ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res ;</span><br><span class="line">    <span class="comment">//std::cout &lt;&lt; &quot;the resulr of polynominal by func2 is &quot; &lt;&lt; res &lt;&lt; std::endl ;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">time_func1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">clock_t</span> start , stop ;</span><br><span class="line">    start = <span class="built_in">clock</span>() ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; K ; i++)&#123;</span><br><span class="line">        <span class="built_in">func1</span>( <span class="number">2.4</span> , a ) ;   </span><br><span class="line">    &#125;</span><br><span class="line">    stop = <span class="built_in">clock</span>() ;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;func1 cost &quot;</span> &lt;&lt; (<span class="built_in">double</span>(stop - start)) / CLK_TCK / K &lt;&lt; <span class="string">&quot; s per time&quot;</span> &lt;&lt; std::endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">time_func2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">clock_t</span> start , stop ;</span><br><span class="line">    start = <span class="built_in">clock</span>() ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; K ; i++)&#123;</span><br><span class="line">        <span class="built_in">func2</span>( <span class="number">2.4</span> , a ) ;   </span><br><span class="line">    &#125;</span><br><span class="line">    stop = <span class="built_in">clock</span>() ;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;func2 cost &quot;</span> &lt;&lt; (<span class="built_in">double</span>(stop - start)) / CLK_TCK / K  &lt;&lt; <span class="string">&quot; s per time&quot;</span> &lt;&lt; std::endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">double</span> x ; </span><br><span class="line">    std::cin &gt;&gt; x ; </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;the result of func1 is &quot;</span> &lt;&lt; <span class="built_in">func1</span>(x , a) &lt;&lt; std::endl ;    </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;the result of func2 is &quot;</span> &lt;&lt; <span class="built_in">func2</span>(x , a) &lt;&lt; std::endl ;    </span><br><span class="line">    <span class="built_in">func2</span>(x , a) ;</span><br><span class="line">    <span class="built_in">time_func1</span>() ;</span><br><span class="line">    <span class="built_in">time_func2</span>() ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="C-dynamic-memory-allocation"><a href="#C-dynamic-memory-allocation" class="headerlink" title="C++ dynamic memory allocation"></a>C++ dynamic memory allocation</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span> ;</span><br><span class="line"><span class="type">int</span>* p2 = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">10</span>] ; <span class="comment">//allocate 10 int memory to p2</span></span><br><span class="line"><span class="keyword">delete</span> p , p2;</span><br></pre></td></tr></table></figure>

<h3 id="Convenient-way-of-passing-values-in-C"><a href="#Convenient-way-of-passing-values-in-C" class="headerlink" title="Convenient way of passing values in C++"></a>Convenient way of passing values in C++</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap_1</span><span class="params">(<span class="type">int</span>&amp; a , <span class="type">int</span>&amp; b)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = a ;</span><br><span class="line">    a = b ;</span><br><span class="line">    b = temp ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">2</span> , b = <span class="number">9</span> ;</span><br><span class="line">    <span class="built_in">swap_1</span>(a , b) ;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;a = &quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot; b = &quot;</span> &lt;&lt; b &lt;&lt; endl ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Representation-of-LinearList"><a href="#Representation-of-LinearList" class="headerlink" title="Representation of LinearList"></a>Representation of LinearList</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ElementType int </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 20 </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">SqList</span>&#123;</span><br><span class="line">    ElementType  *element ;</span><br><span class="line">    <span class="type">int</span> length ;</span><br><span class="line">&#125;SqList ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitList_Sq</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="comment">//Initial the Squence Linear List</span></span><br><span class="line">    L.element = <span class="keyword">new</span> ElementType[MaxSize] ;</span><br><span class="line">    <span class="keyword">if</span>(!L.element)  &#123;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        L.length = <span class="number">0</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DestroyList</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L.element)   <span class="keyword">delete</span> L.element ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ClearList</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    L.length = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetLength</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span>  L.length ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">IsEmpty</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L.length)    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">else</span>    <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetEle</span><span class="params">(SqList &amp;L , <span class="type">int</span> i , ElementType &amp;e)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">1</span> || i &gt; L.length)   <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">else</span> e = L.element[i] ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">LocateEle</span> <span class="params">(SqList &amp;L , ElementType e)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; L.length ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(L.element[i] == e)   <span class="keyword">return</span> i ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ListInsert_Sq</span><span class="params">(SqList &amp;L , ElementType e , <span class="type">int</span> i )</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; L.length || (L.length + <span class="number">1</span>) &gt; MaxSize)   <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = L.element[L.length - <span class="number">1</span>] ; j &gt;= i ; j--)&#123;</span><br><span class="line">        L.element[j + <span class="number">1</span>] = L.element[j] ;</span><br><span class="line">    &#125;</span><br><span class="line">    L.element[i] = e ;</span><br><span class="line">    L.length++ ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintList_Sq</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; L.length ; i++)&#123;</span><br><span class="line">        cout &lt;&lt; L.element[i] &lt;&lt; <span class="string">&quot; &quot;</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ListDelete_Sq</span><span class="params">(SqList &amp;L , <span class="type">int</span> i )</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; L.length - <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span> ; j &lt; L.length ; j++)&#123;</span><br><span class="line">        L.element[j - <span class="number">1</span>] = L.element[j] ; </span><br><span class="line">    &#125;</span><br><span class="line">    L.length-- ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">union_list</span><span class="params">(SqList &amp;La , SqList Lb)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> length = <span class="built_in">GetLength</span>(Lb) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="built_in">GetLength</span>(Lb) ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">LocateEle</span>(La , Lb.element[i]) == <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="built_in">ListInsert_Sq</span>(La , Lb.element[i] , <span class="built_in">GetLength</span>(La)) ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_list_Sq</span><span class="params">(SqList &amp;Lc , SqList La , SqList Lb )</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> length_a = <span class="built_in">GetLength</span>(La) , length_b = <span class="built_in">GetLength</span>(Lb) ;</span><br><span class="line">    Lc.length = length_a + length_b ;</span><br><span class="line">    Lc.element = <span class="keyword">new</span> ElementType[Lc.length] ;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span> , j = <span class="number">0</span> , k = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; length_a &amp;&amp; j &lt; length_b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(La.element[i] &lt; Lb.element[j])&#123;</span><br><span class="line">            Lc.element[k++] = La.element[i++] ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> Lc.element[k++] = Lb.element[j++] ;</span><br><span class="line">    &#125;</span><br><span class="line">    pc-&gt;next = pa ? pa : pb ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqList L ;</span><br><span class="line">    <span class="built_in">InitList_Sq</span>(L) ; </span><br><span class="line">    <span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span> , <span class="number">3</span> , <span class="number">5</span> , <span class="number">7</span> , <span class="number">9</span>&#125; ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">5</span> ; i++)&#123;</span><br><span class="line">        L.element[i] = a[i] ;</span><br><span class="line">    &#125;</span><br><span class="line">    L.length = <span class="number">5</span> ;</span><br><span class="line">    <span class="built_in">ListDelete_Sq</span>(L , <span class="number">4</span>) ;</span><br><span class="line">    <span class="built_in">PrintList_Sq</span>(L) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Advantages and Disadvantages of Squence Linear List :</strong></p>
<p><strong>Advantages :</strong></p>
<ul>
<li><strong>Storing physical location relationships represents logical relationships .</strong></li>
<li><strong>Can get any elements quickly .</strong></li>
</ul>
<p><strong>Disadvantage:</strong></p>
<ul>
<li><strong>Too many steps to move elements  in the option of Insert and Delete elements .</strong></li>
</ul>
<h2 id="Linked-Linear-List"><a href="#Linked-Linear-List" class="headerlink" title="Linked Linear List"></a>Linked Linear List</h2><p>I write a new article about linked linear list <a href="">HERE</a></p>
]]></content>
  </entry>
  <entry>
    <title>Customized Website Article Link</title>
    <url>/posts/4bc5178d/</url>
    <content><![CDATA[<h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h3><p>In the default setting of Hexo and Next , my article ‘s usl is long and ugly ,  so I want to customize my article’s lick ,which is concise and static .  Fortunately , I finally find a hexo plugin called <code>hexo-abbrlink</code> , which is really amazing !   Here is the link :  <a href="https://github.com/rozbo/hexo-abbrlink">rozbo&#x2F;hexo-abbrlink: create one and only link for every post for hexo (github.com)</a></p>
<span id="more"></span>

<h3 id="Install-and-Configure-it"><a href="#Install-and-Configure-it" class="headerlink" title="Install and Configure it"></a>Install and Configure it</h3><ol>
<li><strong>Add plugin to Hexo :</strong></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>Modify <code>config.yml</code></strong></li>
</ol>
<p><strong>Change the origin code</strong> </p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br></pre></td></tr></table></figure>

<p><strong>into</strong>(You can choose one of two ways below :)</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink/</span></span><br></pre></td></tr></table></figure>

<p><strong>or</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:addrlink.html</span></span><br></pre></td></tr></table></figure>

<p><strong style = "color = red ">Be careful : </strong> </p>
<p>There is a <code>/</code> in the end of <code>permalink: posts/:abbrlink/</code> ,  and not in <code>permalink: posts/:addrlink.html</code> !    This <code>/</code>  is really important .</p>
<ol start="3">
<li><strong>Add the codes below in the end of file <code>config.yml</code></strong></li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># abbrlink config</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>      <span class="comment">#support crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>        <span class="comment">#support dec(default) and hex</span></span><br><span class="line">  <span class="attr">drafts:</span> <span class="literal">false</span>   <span class="comment">#(true)Process draft,(false)Do not process draft. false(default) </span></span><br><span class="line">  <span class="comment"># Generate categories from directory-tree</span></span><br><span class="line">  <span class="comment"># depth: the max_depth of directory-tree you want to generate, should &gt; 0</span></span><br><span class="line">  <span class="attr">auto_category:</span></span><br><span class="line">     <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment">#true(default)</span></span><br><span class="line">     <span class="attr">depth:</span>        <span class="comment">#3(default)</span></span><br><span class="line">     <span class="attr">over_write:</span> <span class="literal">false</span> </span><br><span class="line">  <span class="attr">auto_title:</span> <span class="literal">false</span> <span class="comment">#enable auto title, it can auto fill the title by path</span></span><br><span class="line">  <span class="attr">auto_date:</span> <span class="literal">false</span> <span class="comment">#enable auto date, it can auto fill the date by time today</span></span><br><span class="line">  <span class="attr">force:</span> <span class="literal">false</span> <span class="comment">#enable force mode,in this mode, the plugin will ignore the cache, and calc the abbrlink for every post even it already had abbrlink. This only updates abbrlink rather than other front variables.</span></span><br></pre></td></tr></table></figure>

<p>You can modifly the parameters <code>alg</code> and <code>rep</code> according to your preference , and their meaning is as follow :</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">alg</span> <span class="string">--</span> <span class="string">Algorithm</span> <span class="string">(currently</span> <span class="string">support</span> <span class="string">crc16</span> <span class="string">and</span> <span class="string">crc32,</span> <span class="string">which</span> <span class="string">crc16</span> <span class="string">is</span> <span class="string">default)</span></span><br><span class="line"><span class="string">rep</span> <span class="string">--</span> <span class="string">Represent</span> <span class="string">(the</span> <span class="string">generated</span> <span class="string">link</span> <span class="string">could</span> <span class="string">be</span> <span class="string">presented</span> <span class="string">in</span> <span class="string">hex</span> <span class="string">or</span> <span class="string">dec</span> <span class="string">value)</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>Final Nagging</strong></li>
</ol>
<ul>
<li>If  your article ‘s  URL  is still the style <code>:year/:month/:day/:title/</code> ,  you may forget to change <code>permalink: :year/:month/:day/:title/</code>  into  <code>permalink: posts/:abbrlink/</code>  or <code>permalink: posts/:addrlink.html</code>  .   Another reason may be <code>&quot;GitHub just can&#39;t response at once&quot;</code>  , so just wait for minutes patiently ~</li>
<li>Just don’t forget the <code>/</code> in the end of <code>permalink: posts/:abbrlink/</code></li>
</ul>
<p><del>Actually , I had fallen into two traps mentioned above .</del></p>
<ul>
<li><strong>That’s all .</strong></li>
</ul>
]]></content>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>Git学习笔记</title>
    <url>/posts/a91eaa72/</url>
    <content><![CDATA[<p>Git学习笔记 by 《<a href="https://git-scm.com/book/zh/v2">ProGit</a>》</p>
<span id="more"></span>

<h1 id="Git设计理念"><a href="#Git设计理念" class="headerlink" title="Git设计理念"></a>Git设计理念</h1><ul>
<li><p><strong>Git直接记录快照，而非差异比较</strong></p>
</li>
<li><p>基于差异**(Delta-based)** , 像CSV、Subversion、Perforce。它们如何建立新版本：在版本1的基础上，建立一个记录<code>版本2(新版本)</code>与<code>版本1</code>差异的文件，我们称其为$\Delta1$ .当我们需要读取版本2时，可以通过**$版本1 + \Delta1$** 计算得出版本2。</p>
</li>
<li><p>Git快照流<strong>，提交后，建立一个新的快照：对</strong>修改过的文件<strong>建立一个新的快照并保存其索引，对</strong>未修改的文件<strong>并不重新存储</strong>，而是<strong>只保留一个链接</strong>指向旧文件</p>
</li>
</ul>
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="https://git-scm.com/book/en/v2/images/deltas.png" alt="基于差异比较"></div><div class="group-picture-column"><img src="https://git-scm.com/book/en/v2/images/snapshots.png" alt="数据流-快照"></div></div></div>

<h1 id="Git-基础"><a href="#Git-基础" class="headerlink" title="Git 基础"></a>Git 基础</h1><h2 id="Git工作状态"><a href="#Git工作状态" class="headerlink" title="Git工作状态"></a>Git工作状态</h2><p><strong>三种状态：</strong><code>已提交(committed)</code>、<code>已修改(modified)</code>、<code>已暂存(staged) </code>, 对应三个阶段：<code>工作区</code>、<code>暂存区</code>、<code>Git目录(仓库)</code>。</p>
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="https://git-scm.com/book/en/v2/images/areas.png" alt="Git三个阶段"></div><div class="group-picture-column"><img src="https://git-scm.com/book/en/v2/images/lifecycle.png" alt="文件状态变化周期"></div></div></div>

<h2 id="Git配置"><a href="#Git配置" class="headerlink" title="Git配置"></a>Git配置</h2><p>安装Git后添加用户信息：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;benkangpeng&quot;</span><br><span class="line">git config --global user.email benkangpeng@163.com</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> /c/user/my_project</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git init <span class="comment"># 初始化git</span></span></span><br></pre></td></tr></table></figure>

<h2 id="Git基本操作"><a href="#Git基本操作" class="headerlink" title="Git基本操作"></a>Git基本操作</h2><h3 id="获取mannul"><a href="#获取mannul" class="headerlink" title="获取mannul"></a>获取mannul</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git &lt;verb&gt; -h</span><br></pre></td></tr></table></figure>

<p>ex :  <code>git add -h</code></p>
<h3 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> /my_project/</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git init</span></span><br></pre></td></tr></table></figure>

<p>初始化Git仓库，此时会在my_project文件夹中生成<code>.git</code>子目录用于存放版本控制文件。注意：<strong>此时还没对项目文件进行跟踪</strong> , 还需要<code>git add</code>跟踪所需文件。</p>
<p>git add</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git *.c  <span class="comment"># 跟踪所有后缀为.c文件</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git README.md</span></span><br></pre></td></tr></table></figure>

<p><code>git add</code>内涵：</p>
<p>要暂存这次更新，需要运行 <code>git add</code> 命令。 这是个<strong>多功能</strong>命令：①可以用它开始跟踪新文件，②或者把已跟踪的文件放到暂存区，还能用于合并时把有冲突的文件标记为已解决状态等。 将这个命令理解为“<u>精确地将内容添加到<strong>下一次提交</strong>中</u>”而不是“将一个文件添加到项目中”要更加合适。 </p>
<h3 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h3><p>显示当前文件夹git状况。</p>
<blockquote>
<p>On branch master</p>
<p>No commits yet</p>
<p>Changes to be committed:<br>  (use “git rm –cached <file>…” to unstage)<br>        new file:   README.md</p>
<p>Untracked files:<br>  (use “git add <file>…” to include in what will be committed)<br>        CONTRIBUTING.md</p>
</blockquote>
<p>如上显示的是，<code>README.md</code>已被跟踪，而<code>CONTRIBUTING.md</code>未被跟踪。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add CONTRIBUTING.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> `My project` &gt; README.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git status</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>On branch master</p>
<p>No commits yet</p>
<p>Changes to be committed:<br>  (use “git rm –cached <file>…” to unstage)<br>        new file:   CONTRIBUTING.md<br>        new file:   README.md</p>
<p>Changes not staged for commit:<br>  (use “git add <file>…” to update what will be committed)<br>  (use “git restore <file>…” to discard changes in working directory)<br>        modified:   README.md</p>
</blockquote>
<ul>
<li>此时<code>CONTRIBUTING.md</code>已经被跟踪</li>
<li>提示有<code>待提交的修改</code> (changes to be committed) ,  <code>CONTRIBUTING.md</code>和<code>README.md</code>没有提交。(至于changes , 即<code>new file</code> , git将<code>创立文件</code>也视为<code>changes</code>)</li>
<li><code>Changes not staged for commit</code> ： 我们刚才向<code>README,md</code>写入了<code>My project</code> , 但没有将新版本的<code>README.md</code>添加进入暂存区<code>stage</code> 。可执行操作<code>git add README.md</code></li>
<li>上面这条再一次体现了<code>git add</code>的双重命令，或将其理解为<code>为文件提交(commit)做好预备</code></li>
</ul>
<h3 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h3><p>创建<code>.gitignore</code>文件忽略追踪</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">touch</span> .gitignore</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add .gitignore</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">You must add .gitignore into the staging area to make it work .</span></span><br></pre></td></tr></table></figure>

<p>常见语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 忽略所有的 .a 文件</span><br><span class="line">*.a</span><br><span class="line"># 但跟踪所有的 lib.a，即便你在前面忽略了 .a 文件</span><br><span class="line">!lib.a</span><br><span class="line"># 只忽略当前目录下的 TODO 文件，而不忽略 subdir/TODO</span><br><span class="line">/TODO</span><br><span class="line"># 忽略任何目录下名为 build 的文件夹</span><br><span class="line">build/</span><br><span class="line"># 忽略 doc/notes.txt，但不忽略 doc/server/arch.txt</span><br><span class="line">doc/*.txt</span><br><span class="line"># 忽略 doc/ 目录及其所有子目录下的 .pdf 文件</span><br><span class="line">doc/**/*.pdf</span><br></pre></td></tr></table></figure>

<h3 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h3><ul>
<li><p><code>git diff</code> 查看<strong>同一</strong>文件<code>已暂存</code>与<code>未暂存</code>的两个版本的差异</p>
<p>eg.  在<code>README.md</code>中添加一行<code>哈哈</code> ，no stage ,  使用命令查看:</p>
</li>
</ul>
<blockquote>
<p>$ git diff README.md<br>diff –git a&#x2F;README.md b&#x2F;README.md<br>index 6fcadd0..b2f8c83 100644<br>— a&#x2F;README.md<br>+++ b&#x2F;README.md<br>@@ -1 +1,3 @@<br>My project~<br>+<br>+哈哈<br>\ No newline at end of file</p>
</blockquote>
<ul>
<li><code>git diff --staged</code> 查看<code>已暂存文件</code>与<code>最后一次提交文件</code>的差异.</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git diff --staged README.md</span></span><br></pre></td></tr></table></figure>



<h3 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h3><p>每次准备提交前，先用 <code>git status</code> 看下，你所需要的文件是不是都<strong>已暂存</strong>起来了， 然后再运行提交命令 <code>git commit</code>：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -m <span class="string">&quot;the first commit&quot;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>-m</code> : 添加提交信息message</p>
</li>
<li><p>“the first commit” : 提交的信息，区分每一次提交做了哪些大体的修改</p>
</li>
<li><p><code>git commit -a</code>跳过暂存区，直接将为暂存的文件commit .</p>
</li>
</ul>
<h3 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm"></a>git rm</h3><ul>
<li>如果你想从磁盘根本删除<code>未暂存的文件</code>:</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">rm</span> PROJECT.md</span></span><br></pre></td></tr></table></figure>

<ul>
<li>从暂存区删除(取消跟踪)文件(仍保存在磁盘里）：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">rm</span> -f PROJECT.md <span class="comment">#-force , 强制删除</span></span></span><br></pre></td></tr></table></figure>

<h3 id="git-mv"><a href="#git-mv" class="headerlink" title="git mv"></a>git mv</h3><ul>
<li><code>git mv</code> 移动文件 or 重命名文件。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">mv</span> Project.md PROJECT.md</span></span><br></pre></td></tr></table></figure>

<p>上述命令相当于：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mv</span> Project.md PROJECT.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">rm</span> Project.md <span class="comment"># 从暂存区移除Project.md</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add PROJECT.md <span class="comment"># 跟踪PROJECT.md</span></span></span><br></pre></td></tr></table></figure>

<h3 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h3><ul>
<li><code>git log</code> 显示所有提交日志</li>
<li><code>git log -2</code> 显示最近两条日志</li>
<li><code>git log -p</code> 按补丁格式显示每个提交引入的差异</li>
<li><code>git log --pretty=oneline</code>显示格式为一行</li>
<li>此外还有一些参数过滤日志内容，例如<code>--since``--author</code>等，可查文档。</li>
</ul>
<h3 id="git-commit-–amend"><a href="#git-commit-–amend" class="headerlink" title="git commit –amend"></a>git commit –amend</h3><ul>
<li>提交后发现上一次提交有些许瑕疵，例如message写错了、没有跟踪上某个文件 ，但又不想再一次提交，想覆盖上一次提交。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit --amend -m <span class="string">&quot;the right message&quot;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h3><ul>
<li>强制重置(删除)某个commit, 例如<code>git reset --hard HEAD~1</code>删除上一次提交。</li>
<li>取消暂存的文件，例如将<code>CONTRIBUTING.md</code>文件取出&#96;&#96;stageing area<code>,</code>git reset HEAD CONTRIBUTING.md&#96;</li>
</ul>
<h3 id="文件版本回溯"><a href="#文件版本回溯" class="headerlink" title="*文件版本回溯"></a>*文件版本回溯</h3><p>案例：<code>commit log</code>如下，自从<code>git clone</code>以来，我提交了<code>version 1</code>和<code>version2</code>.整个项目只有两个文件：<code>check.md</code>和<code>README.md</code>. 我现在想将<code>check.md</code>还原到<code>version 1</code>的状态，但<code>README.md</code>不用还原。(可以理解为我后知后觉意识到<code>version2</code>中对<code>check.md</code>的修改是错误的。)</p>
<blockquote>
<p>$ git log –pretty&#x3D;oneline<br>bc03ee1185c084b514ff44a9520ab5d29777b600 (HEAD) version2<br>3d44a28a78ffba2eab8d0718e34c3f7463cfa2a1 version 1<br>86d413d821c361c0245859fddd9c6258f698f16f (tag: v1.0, origin&#x2F;main, origin&#x2F;HEAD) colle<br>ct some ways to github<br>1bfa40c95f5b2a5a086421889e60321ef056fbc0 (tag: v0.1) the first commit by git push<br>a41ee579c6756e653d380b2e08426ea74f77841d (tag: v0.0) Create README.md</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git reset 3d44a  <span class="comment"># 3d44a是version1的效验码，没写完整</span></span></span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">M       README.md</span><br><span class="line">M       check.md</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">到version1后,本地文件是没有发生变化的(仍是version2的snapshot),因此会提示`unstaged changes</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git status</span></span><br><span class="line">HEAD detached from 86d413d</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        modified:   README.md</span><br><span class="line">        modified:   check.md</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如何恢复check.md，上面的信息也提示我们了“git restore &lt;file&gt;”</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git restore check.md &amp;&amp; git add README.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --pretty=oneline</span></span><br><span class="line">3d44a28a78ffba2eab8d0718e34c3f7463cfa2a1 (HEAD) version 1</span><br><span class="line">86d413d821c361c0245859fddd9c6258f698f16f (tag: v1.0, origin/main, origin/HEAD) colle</span><br><span class="line">ct some ways to github</span><br><span class="line">1bfa40c95f5b2a5a086421889e60321ef056fbc0 (tag: v0.1) the first commit by git push</span><br><span class="line">a41ee579c6756e653d380b2e08426ea74f77841d (tag: v0.0) Create README.md</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">END</span></span><br></pre></td></tr></table></figure>

<p><del>但以上做法删除了version2的提交信息。是否存在方法，只进行单个文件的版本回溯呢？现在还没解决……</del></p>
<h3 id="单文件版本回溯"><a href="#单文件版本回溯" class="headerlink" title="*单文件版本回溯"></a>*单文件版本回溯</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --pretty=oneline</span></span><br><span class="line">05bfc3c25ca3ee80247f3ec24b4936d2d7e7d2c1 (HEAD) version3</span><br><span class="line">245a8ddd0c2bfc01c2444930e2ed11b04320d354 version2</span><br><span class="line">3d44a28a78ffba2eab8d0718e34c3f7463cfa2a1 version 1</span><br><span class="line">86d413d821c361c0245859fddd9c6258f698f16f (tag: v1.0, origin/main, origin/HEAD) colle</span><br><span class="line">ct some ways to github</span><br><span class="line">1bfa40c95f5b2a5a086421889e60321ef056fbc0 (tag: v0.1) the first commit by git push</span><br><span class="line">a41ee579c6756e653d380b2e08426ea74f77841d (tag: v0.0) Create README.md</span><br></pre></td></tr></table></figure>

<ul>
<li>将<code>check.md</code>回溯到版本1，其他文件不变，<code>git checkout &lt;hash&gt; check.md</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout 3d44a28a check.md</span></span><br><span class="line">Updated 1 path from aab7394</span><br></pre></td></tr></table></figure>

<h3 id="与远程仓库联动"><a href="#与远程仓库联动" class="headerlink" title="与远程仓库联动"></a>与远程仓库联动</h3><ul>
<li><code>git remote add &lt;name&gt; &lt;url&gt;</code> 添加远程仓库，例如<code>git remote add getback https://github.com/BenkangPeng/GetBack.git</code> , 之后可用名称<code>getback</code>代替网址进行操作。类似于<code>C</code>里的<code>#define</code></li>
<li><code>git remote -v</code>显示已添加的远程仓库, <code>git remote</code>简略显示。</li>
<li><code>git remote rename name1 name2</code> 修改仓库<strong>代称</strong>，实际远程仓库(比如Github上的仓库）名称没被修改。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote add getback https://github.com/BenkangPeng/GetBack.git</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote -v</span></span><br><span class="line">getback https://github.com/BenkangPeng/GetBack.git (fetch)</span><br><span class="line">getback https://github.com/BenkangPeng/GetBack.git (push)</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote rename getback GetBack</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote</span></span><br><span class="line">GetBack</span><br></pre></td></tr></table></figure>

<ul>
<li><code>git fetch</code> 获取仓库的更新。例如，你在1年以前<code>clone</code>了仓库<code>A</code> , 但在过去一年内，仓库<code>A</code>其他开源贡献者提交了许多内容，甚至产生了分支，<code>git fetch &lt;url&gt;</code>将仓库<code>A</code>的这些更新数据下载到本地，但不会改变本地状态：<strong>不会自动合并分支或修改你当前的工作</strong>。当然你可以手动合并分支、更新本地仓库。</li>
<li><code>git clone &lt;url&gt;</code>克隆仓库。将<code>&lt;url&gt;</code>对应的仓库克隆到本地，与<code>git fetch</code>不同的是，它将覆盖本地工作。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/BenkangPeng/GetBack.git</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> GetBack/</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote -v</span></span><br><span class="line">origin  https://github.com/BenkangPeng/GetBack.git (fetch)</span><br><span class="line">origin  https://github.com/BenkangPeng/GetBack.git (push)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">克隆完仓库后，git会自动创建一个origin的远程仓库，对应的就是克隆的仓库url</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">对GetBack进行修改……</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push origin main</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">将本地的main分支(主支)提交到远程仓库origin</span></span><br></pre></td></tr></table></figure>

<p>关于<code>主分支</code> <code>master</code>改为<code>main</code>，还颇有意味。<a href="https://github.com/github/renaming">github&#x2F;renaming</a>        <a href="https://zhuanlan.zhihu.com/p/257179306">乐子 on 知乎</a></p>
<h3 id="Tag"><a href="#Tag" class="headerlink" title="Tag"></a>Tag</h3><ul>
<li><code>git tag -a &lt;v1.0&gt; -m &quot;version 1.0&quot;</code> 添加<code>annotated tag</code> , <code>git tag v1.0</code>添加<code>lightweight</code>标签。</li>
<li><code>git tag</code>显示所有标签，<code>git show &lt;v1.0&gt; </code>显示某个标签信息</li>
<li><code>git tag &lt;version&gt; &lt;verify code&gt;</code>为之前某一次<code>commit</code>补充<code>tag</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --pretty=oneline</span></span><br><span class="line">dd0a36aec54a58a9f3427f5f33b1ee97802949b0 (HEAD -&gt; master, tag: v1.0) </span><br><span class="line">3d4057629e1e3515667c7e826817a9ab5a29f306 the second commit</span><br><span class="line">349775b9754e9113e549a9d734707bff38f2e3b4 the first commit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag v0.0 34977</span></span><br></pre></td></tr></table></figure>

<ul>
<li>默认情况下，<code>git push</code>不会顺带将每一个<code>commit</code> 的<code>tag</code>提交，需手动设置。<code>git push origin &lt;tagname&gt;</code>上传单个<code>tag</code>  ,  <code>git push origin --tags </code>推送所有<code>tags</code></li>
<li><code>git tag -d &lt;tagname&gt;</code>删除标签，但不会删除远程仓库(&#96;&#96;remote<code>)的</code>tags<code> , 需用</code>git push origin –delete <tagname>&#96;</li>
</ul>
<h1 id="Git分支"><a href="#Git分支" class="headerlink" title="Git分支"></a>Git分支</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch testing	<span class="comment">#创立分支testing</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout testing  <span class="comment">#切换到testing</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">以上两条命令可合并为 git checkout -b testing</span> </span><br><span class="line">Switched to branch &#x27;testing&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">do</span> some changes</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout main  <span class="comment">#回到主分支</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch <span class="comment">#显示所有分支</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>git merge &lt;branch&gt;</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">touch</span> polynorminal.cpp</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">edit polynorminal.cpp</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add polynorminal.cpp</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -m <span class="string">&quot;touch a new .cpp file&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout -b AddFunc2</span></span><br><span class="line">Switched to a new branch &#x27;AddFunc2&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">edit polynorminal.cpp</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -a -m <span class="string">&quot;have added the func2&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout main</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge AddFunc2</span></span><br><span class="line">Updating 87ba74e..869b2a7</span><br><span class="line">Fast-forward</span><br><span class="line"> polynorminal.cpp | 11 ++++++++++-</span><br><span class="line"> 1 file changed, 10 insertions(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>

<div class="note info"><p>在<code>main</code>中合并分支时，可能出现合并冲突，这是因为分支中文件修改过大，<code>git</code>不知道如何将<code>main</code>与<code>branch</code>两个文件版本合并，此时需手动合并、修改文件，并<code>commit</code></p>
</div>

<ul>
<li><code>git branch -d &lt;branch&gt;</code>删除分支（但不能删除未合并的分支）</li>
<li><code>git branch --no-merged</code>查看未合并的分支</li>
</ul>
<h3 id="Git版本回溯-by-branch"><a href="#Git版本回溯-by-branch" class="headerlink" title="Git版本回溯(by branch)"></a>Git版本回溯(by branch)</h3><p>我一直是用<code>git reset --hard &lt;hash_id&gt;</code>进行版本回溯，但这样会丢失之后的commit，导致版本混乱。现在想到一个方法，可以用分支来进行回溯查看。(当然，如果我们确定要回到某个commit重新工作，并确定要丢失之后的commit，也可以硬重置。)</p>
<p><strong>查看当前分支</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --oneline --decorate --graph --all</span></span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">| * 831fee6 (testing) 87ab2</span><br><span class="line">|/</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae 完成稠密</span><br><span class="line">| * bfbf7ce (HEAD -&gt; sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 完成主体</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br></pre></td></tr></table></figure>

<p>现在我们正在<code>sparse</code>分支上，因为改动较大，想回到稠密版本上查看稠密版本的源码：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout -b check_dense_version e339fae</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">= git branch check_dense_version e339fae &amp;&amp; git checkout check_denser_version</span></span><br><span class="line">Switched to a new branch &#x27;check_dense_version&#x27;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --oneline --decorate --graph --all</span></span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">| * 831fee6 (testing) 87ab2</span><br><span class="line">|/</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae (HEAD -&gt; check_dense_version) 完成稠密</span><br><span class="line">| * bfbf7ce (sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 完成主体</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br></pre></td></tr></table></figure>

<p>这时整个工作目录的文件都变成了<code>e3319fae</code>时的版本。在这个版本下，如果我们运行代码导致一些文件发生了修改，工作目录不干净，是不能直接<code>switch</code>回<code>sparse</code>的：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch sparse</span> </span><br><span class="line">error: Your local changes to the following files would be overwritten by checkout:</span><br><span class="line">        a.txt</span><br><span class="line">Please commit your changes or stash them before you switch branches.</span><br><span class="line">Aborting</span><br></pre></td></tr></table></figure>

<p>提示显示如果我们要更换分支，需要<code>commit</code> 或者<code>stash</code></p>
<ul>
<li>如果我们不需要提交，可以将文件变更取消掉，再<code>switch</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git restore .  <span class="comment">#将所有被修改的文件复原</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch sparse</span> </span><br><span class="line">Switched to branch &#x27;sparse&#x27;</span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">| * 831fee6 (testing) 87ab2</span><br><span class="line">|/</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae (check_dense_version) 完成稠密</span><br><span class="line">| * bfbf7ce (HEAD -&gt; sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 完成主体</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br></pre></td></tr></table></figure>

<p><strong><code>git stash</code></strong></p>
<p>如果我们在<code>sparse</code>分支下工作目录有修改未提交，那么切换分支之前需要将修改存入<code>stash</code>。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --oneline --decorate --graph --all</span></span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae 完成稠密</span><br><span class="line">| * bfbf7ce (HEAD -&gt; sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 完成主体</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch temp e339fae</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch temp</span></span><br><span class="line">error: Your local changes to the following files would be overwritten by checkout:</span><br><span class="line">        a.txt</span><br><span class="line">Please commit your changes or stash them before you switch branches.</span><br><span class="line">Aborting</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --oneline --decorate --graph --all</span></span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae (temp) 完成稠密</span><br><span class="line">| * bfbf7ce (HEAD -&gt; sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 完成主体</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git stash save <span class="string">&quot;uncommit modify in sparse&quot;</span></span></span><br><span class="line">Saved working directory and index state On sparse: uncommit modify in sparse</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch temp</span></span><br><span class="line">Switched to branch &#x27;temp&#x27;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch sparse</span> </span><br><span class="line">Switched to branch &#x27;sparse&#x27;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On sparse: uncommit modify in sparse</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git stash pop 0</span></span><br><span class="line">On branch sparse</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        modified:   a.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br><span class="line">Dropped refs/stash@&#123;0&#125; (6679d6d8daf8a44c45d289fe82c7aab9a5430eb0)</span><br></pre></td></tr></table></figure>

<p><strong>git stash相关命令</strong></p>
<ol>
<li><code>git stash save [message]</code>：将当前工作目录的修改保存到一个stash列表中，并附带一条可选的描述信息。</li>
<li><code>git stash list</code>：列出所有的stash列表。</li>
<li><code>git stash apply [stash_id]</code>：将指定的stash应用到当前工作目录，但不从stash列表中删除。</li>
<li><code>git stash pop [stash_id]</code>：将指定的stash应用到当前工作目录，并从stash列表中删除。</li>
<li><code>git stash drop [stash_id]</code>：从stash列表中删除指定的stash。</li>
<li><code>git stash branch [branch_name] [stash_id]</code>：基于指定的stash创建一个新的分支，并将stash应用到新分支上。</li>
<li><code>git stash pop --index [stash_id]</code>：将指定的stash应用到当前工作目录和索引（暂存区），并从stash列表中删除</li>
</ol>
]]></content>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>Gdb学习笔记</title>
    <url>/posts/a06a32e/</url>
    <content><![CDATA[<p>以前学过一个C的调试工具<code>gdb</code>，重新看了一下资料复习。资料是<code>LinuxC</code>书上的一个章节，当然这本书也是十分推荐。<a href="https://link.zhihu.com/?target=http://staff.ustc.edu.cn/~guoyan/os12/LinuxC.pdf">Download Pdf</a>    <a href="https://akaedu.github.io/book/">View Online</a>  <a href="https://www.zhihu.com/question/34069391">相关讨论</a></p>
<span id="more"></span>

<h1 id="单步执行"><a href="#单步执行" class="headerlink" title="单步执行"></a>单步执行</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//示例程序</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add_range</span><span class="params">(<span class="type">int</span> low, <span class="type">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i, sum;</span><br><span class="line">    <span class="keyword">for</span> (i = low; i &lt;= high; i++)</span><br><span class="line">        sum = sum + i;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> result[<span class="number">100</span>];</span><br><span class="line">    result[<span class="number">0</span>] = <span class="built_in">add_range</span>(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    result[<span class="number">1</span>] = <span class="built_in">add_range</span>(<span class="number">1</span>, <span class="number">100</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;result[0]=%d\nresult[1]=%d\n&quot;</span>, result[<span class="number">0</span>], result[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>生成并进入<code>gdb</code></strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">g++ -g test.cpp -o main</span> </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gdb main</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>单步执行</strong><ul>
<li><code>list</code>列出源程序. <code>list 23</code>表示从第23行开始列出源程序。简写为<code>l</code></li>
<li><code>回车</code>重复执行上一次的指令</li>
<li><code>n</code> 表示<code>next</code>下一步</li>
<li><code>s</code> ， <code>step</code>, 进入被调用函数</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">start <span class="comment"># 开始运行程序</span></span></span><br><span class="line">Thread 1 hit Temporary breakpoint 1, main () at test.cpp:12</span><br><span class="line">12          result[0] = add_range(1, 10);</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">n <span class="comment"># next单步运行到下一步</span></span></span><br><span class="line">(gdb) n</span><br><span class="line">13          result[1] = add_range(1, 100);</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">如果我们要进入子函数add_range查看运行过程呢  -&gt; `s`表示step</span></span><br><span class="line">(gdb) s</span><br><span class="line">add_range (low=1, high=100) at test.cpp:5</span><br><span class="line">5           for (i = low; i &lt;= high; i++)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>打印参数值</strong><ul>
<li><code>i locals</code>显示当前栈帧变量信息</li>
<li><code>p &lt;variable&gt;</code> 打印变量</li>
<li><code>set var &lt;variable&gt; = &lt;data&gt;</code>修改变量</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Thread 1 hit Temporary breakpoint 1, main () at test.cpp:12</span><br><span class="line">12          result[0] = add_range(1, 10);</span><br><span class="line">(gdb) s</span><br><span class="line">add_range (low=1, high=10) at test.cpp:5</span><br><span class="line">5           for (i = low; i &lt;= high; i++)</span><br><span class="line">(gdb) i locals  # info local 显示当前栈帧中的变量</span><br><span class="line">i = 32760</span><br><span class="line">sum = 501247388</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">此处就可以发现程序的问题：没有赋初值</span></span><br><span class="line">(gdb) n</span><br><span class="line">6               sum = sum + i;</span><br><span class="line">(gdb) i locals</span><br><span class="line">i = 1</span><br><span class="line">sum = 501247388</span><br><span class="line">(gdb) set var sum = 0 # 修改sum的值</span><br><span class="line">(gdb) n</span><br><span class="line">5           for (i = low; i &lt;= high; i++)</span><br><span class="line">(gdb) p sum # print sum</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">1 = 1 <span class="comment"># $1是临时变量，临时显示</span></span></span><br><span class="line">(gdb)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>栈帧</strong><ul>
<li><code>bt</code>显示栈帧</li>
<li><code>f &lt;numble&gt;</code>选中、进入栈帧</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Thread <span class="number">1</span> hit Temporary breakpoint <span class="number">1</span>, <span class="built_in">main</span> () at test.c:<span class="number">10</span></span><br><span class="line"><span class="number">10</span>          <span class="type">int</span> result[<span class="number">5</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">11</span>          result[<span class="number">0</span>] = <span class="built_in">Sum</span>(<span class="number">1</span> , <span class="number">10</span>) ;</span><br><span class="line">(gdb) <span class="function">s</span></span><br><span class="line"><span class="function"><span class="title">Sum</span> <span class="params">(low=<span class="number">1</span>, high=<span class="number">10</span>)</span> at test.c:<span class="number">3</span></span></span><br><span class="line"><span class="function"><span class="number">3</span>           int i =</span> <span class="number">0</span> , sum = <span class="number">0</span> ;</span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">4</span>           <span class="keyword">for</span>(i = low ; i &lt;= high ; i++)&#123;</span><br><span class="line">(gdb)</span><br><span class="line"><span class="number">5</span>               sum += i ;</span><br><span class="line">(gdb) p result</span><br><span class="line">No symbol <span class="string">&quot;result&quot;</span> in current context.</span><br><span class="line"><span class="comment">// 当前栈帧没有&quot;result&quot;</span></span><br><span class="line">(gdb) bt <span class="comment">// 显示当前栈帧 backtrace</span></span><br><span class="line">#<span class="number">0</span>  <span class="built_in">Sum</span> (low=<span class="number">1</span>, high=<span class="number">10</span>) at test.c:<span class="number">5</span></span><br><span class="line">#<span class="number">1</span>  <span class="number">0x00000000004015c2</span> <span class="function">in <span class="title">main</span> <span class="params">()</span> at test.c:<span class="number">11</span></span></span><br><span class="line"><span class="function">(gdb) f <span class="number">1</span> // frame <span class="number">1</span> , <span class="number">1</span>为bt列出来的栈帧编号</span></span><br><span class="line"><span class="function">#<span class="number">1</span>  <span class="number">0x00000000004015c2</span> in main () at test.c:<span class="number">11</span></span></span><br><span class="line"><span class="function"><span class="number">11</span>          result[<span class="number">0</span>] =</span> <span class="built_in">Sum</span>(<span class="number">1</span> , <span class="number">10</span>) ;</span><br><span class="line">(gdb) p result</span><br><span class="line">$<span class="number">1</span> = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;</span><br></pre></td></tr></table></figure>



<h1 id="断点调试"><a href="#断点调试" class="headerlink" title="断点调试"></a>断点调试</h1><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> input[<span class="number">8</span>] ;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, input);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">        sum = sum*<span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;input=%d\n&quot;</span>, sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上C程序的功能是：输入<code>字符型</code>的数字(<code>最高七位</code>），输出对应的<code>整数</code>，如此循环。</p>
<p>但又是类似的结果，第一次输出正确，之后的输出错误。(其实一眼能看出sum没有置零)</p>
<p>接下来进行<code>debug</code>:</p>
<ul>
<li><code>display &lt;variable&gt;</code> 设置变量显示 ， <code>undisplay &lt;variable&gt;</code>关闭某个变量显示</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span>           <span class="type">int</span> sum = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">7</span>               <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, input);</span><br><span class="line">(gdb)</span><br><span class="line"><span class="number">1234</span></span><br><span class="line"><span class="number">8</span>               <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">(gdb) display sum	<span class="comment">//显示变量</span></span><br><span class="line"><span class="number">1</span>: sum = <span class="number">0</span></span><br><span class="line">(gdb) display input[i]</span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">49</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">9</span>               sum = sum*<span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="number">1</span>: sum = <span class="number">0</span></span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">49</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">8</span>               <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line"><span class="number">1</span>: sum = <span class="number">1</span></span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">49</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line">(gdb)</span><br><span class="line"><span class="number">9</span>               sum = sum*<span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="number">1</span>: sum = <span class="number">1</span></span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">50</span> <span class="string">&#x27;2&#x27;</span></span><br><span class="line">(gdb)</span><br><span class="line"><span class="number">8</span>               <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line"><span class="number">1</span>: sum = <span class="number">12</span></span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">50</span> <span class="string">&#x27;2&#x27;</span></span><br></pre></td></tr></table></figure>



<p><strong>就这样跟踪了几个循环似乎没有错误。如果我们不像这样重复跟踪，可以设置断点，让程序自然运行到我们想要停止的位置。</strong></p>
<ul>
<li><code>b &lt;lineNumber&gt;</code>设置断点 , <code>b</code> :  <code>breakpoint</code> </li>
<li><code>c</code> 连续执行，直到断点处 <code>continue</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line">[New Thread 18408.0x4c14]</span><br><span class="line">input=1234</span><br><span class="line"></span><br><span class="line">Thread 1 hit Breakpoint 2, main () at test.c:7</span><br><span class="line">7               scanf(&quot;%s&quot;, input);</span><br><span class="line">1: sum = 1234</span><br><span class="line">2: input[i] = 0 &#x27;\000&#x27;</span><br><span class="line">(gdb) n</span><br><span class="line">5678</span><br><span class="line">8               for (i = 0; input[i] != &#x27;\0&#x27;; i++)</span><br><span class="line">1: sum = 1234</span><br><span class="line">(gdb) n</span><br><span class="line">9               sum = sum*10 + input[i] - &#x27;0&#x27;;</span><br><span class="line">1: sum = 1234</span><br></pre></td></tr></table></figure>

<p><strong>如此便找到问题所在：下一次循环中，sum会在上一次循环输入的基础上进行累加</strong></p>
<p>只要在每一次输入输出结束后将sum置零即可，如下：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> input[<span class="number">8</span>] ;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, input);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">        sum = sum*<span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;input=%d\n&quot;</span>, sum);</span><br><span class="line">        sum = <span class="number">0</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>i b</code> 查看所有断点信息<code>info breakpoints</code></li>
<li><code>delete breakpoints &lt;num&gt;</code> 删除所指的编号断点</li>
<li><code>disable breakpoints &lt;num&gt;</code>禁用所指编号断点</li>
<li><code>enable breakpoints &lt;num&gt;</code></li>
<li><code>run</code> 从头开始连续而非单步执行程序</li>
<li><code> b &lt;num&gt; if &lt;command&gt;</code> 设立触发断点的条件，例如<code>b 7 if sum != 0</code></li>
</ul>
<h1 id="观察点"><a href="#观察点" class="headerlink" title="观察点"></a>观察点</h1><p>依然是之前的例子：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="type">char</span> input[<span class="number">5</span>] ;</span><br><span class="line">   <span class="type">int</span> sum ;</span><br><span class="line">   <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    sum = <span class="number">0</span> ;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span> , input) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; input[i] != <span class="string">&#x27;\0&#x27;</span> ; i++)&#123;</span><br><span class="line">        sum = sum * <span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;input = &quot;</span> &lt;&lt; sum &lt;&lt; endl ;</span><br><span class="line">   &#125; </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>如果我们没有注意到数组长度，输入了长度大于4的字符串，<code>input</code>产生了越界会发生什么</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Thread 1 hit Temporary breakpoint 6, main () at test.cpp:7</span><br><span class="line">7           sum = 0 ;</span><br><span class="line">(gdb) n</span><br><span class="line">8           scanf(&quot;%s&quot; , input) ;</span><br><span class="line">(gdb)</span><br><span class="line">12345</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line">input = 123407</span><br></pre></td></tr></table></figure>

<p><strong>我们发现输出也是不对的 ， 但 ：</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">(gdb) n</span><br><span class="line">8           scanf(&quot;%s&quot; , input) ;</span><br><span class="line">(gdb)</span><br><span class="line">12345</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) p input</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">13 = <span class="string">&quot;12345&quot;</span></span></span><br><span class="line">(gdb) x/8b input # 以byte为单位，打印input后8个byte地址的信息</span><br><span class="line">0x61fe13:       49      50      51      52      53      0       0       0</span><br></pre></td></tr></table></figure>

<p><strong>我们输入<code>12345</code>后，查看input内的值，发现按照程序逻辑，<code>for</code>循环也会在<code>i = 5</code>处结束</strong></p>
<p><strong>结果应该仍为12345</strong> ,  <strong>莫非<code>input[5]有变化？</code></strong></p>
<ul>
<li><code>watch &lt;varible&gt;</code>观察点变量被访问修改时，程序中断</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Thread 1 hit Temporary breakpoint 11, main () at test.cpp:7</span><br><span class="line">7           sum = 0 ;</span><br><span class="line">(gdb) n</span><br><span class="line">8           scanf(&quot;%s&quot; , input) ;</span><br><span class="line">(gdb)</span><br><span class="line">12345</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) i watchpoints</span><br><span class="line">No watchpoints.</span><br><span class="line">(gdb) watch input [5]</span><br><span class="line">Hardware watchpoint 12: input [5]</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line"></span><br><span class="line">Thread 1 hit Hardware watchpoint 12: input [5]</span><br><span class="line"></span><br><span class="line">Old value = 0 &#x27;\000&#x27;</span><br><span class="line">New value = 1 &#x27;\001&#x27;</span><br><span class="line">0x0000000000401607 in main () at test.cpp:9</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line"></span><br><span class="line">Thread 1 hit Hardware watchpoint 12: input [5]</span><br><span class="line"></span><br><span class="line">Old value = 1 &#x27;\001&#x27;</span><br><span class="line">New value = 2 &#x27;\002&#x27;</span><br><span class="line">0x0000000000401607 in main () at test.cpp:9</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line"></span><br><span class="line">Thread 1 hit Hardware watchpoint 12: input [5]</span><br><span class="line"></span><br><span class="line">Old value = 2 &#x27;\002&#x27;</span><br><span class="line">New value = 3 &#x27;\003&#x27;</span><br><span class="line">0x0000000000401607 in main () at test.cpp:9</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br></pre></td></tr></table></figure>

<p><strong>我们发现每一次for循环运行时<code>input[5]</code>会＋1 ， 可知 i &#x3D; 5 时 ， sum &#x3D; 12345 * 10  + 5 - 48  &#x3D; 123407</strong></p>
<p><strong>也就是说<code>input[5]对应的就是i</code> , 换句话说，i的地址是 &amp;input[5]</strong></p>
<p><strong>修改</strong>：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="type">char</span> input[<span class="number">5</span>] ;</span><br><span class="line">   <span class="type">int</span> sum ;</span><br><span class="line">   <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    sum = <span class="number">0</span> ;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span> , input) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; input[i] != <span class="string">&#x27;\0&#x27;</span> ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(input[i] &lt; <span class="string">&#x27;0&#x27;</span> || input[i] &gt; <span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;invalid input !&quot;</span> &lt;&lt; endl ;</span><br><span class="line">            sum = <span class="number">-1</span> ;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sum = sum * <span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;input = &quot;</span> &lt;&lt; sum &lt;&lt; endl ;</span><br><span class="line">   &#125; </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>Deploy your website</title>
    <url>/posts/f1f00c7b/</url>
    <content><![CDATA[<h3 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h3><p>我们在使用<a href="https://benkangpeng.gitee.io/2023/09/18/Hello%20Hexo-NEXT/">Hexo+NexT搭建</a>好个人博客后,只能在本地端口访问，其他人无法访问(有一种内网穿透的方法可以将电脑端口暴露，从而达到”上线“的功能。尚未了解    找到了:<a href="https://www.bilibili.com/video/BV1z14y1r7Fc/?spm_id_from=333.999.0.0&vd_source=da5120fea3f8bb8d2fe1984a02a9a745">Here</a>)。</p>
<p>我们可以使用<code>Github pages</code> 和<code>Gitee pages</code> 上线网站从而白嫖一台只能搭载<code>静态网页</code>的服务器  （<del>是不是有种白嫖的快乐</del>）以下是上线步骤。</p>
<span id="more"></span>

<h3 id="Github-pages"><a href="#Github-pages" class="headerlink" title="Github pages"></a>Github pages</h3><h4 id="主要步骤"><a href="#主要步骤" class="headerlink" title="主要步骤"></a>主要步骤</h4><ul>
<li><p><strong>注册GitHub、新建仓库</strong></p>
<p>新建一个仓库，注意仓库名一定是用户名与github.io的组合，例如<code>benkangpeng.github.io</code></p>
</li>
<li><p><strong>生成ssh-key</strong></p>
<p>如果未配置过git ，未获得<code>ssh key</code> 的话，需要配置<code>git</code>并获得<code>ssh key</code>(我理解为电脑硬件、邮箱对应的编码。通过该编码可以找到唯一的计算机，<code>GitHub</code>就是通过<code>ssh key</code>与计算机进行加密数据传输的。计算机网络没学 ，一定得补补:cry:)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;benkangpeng&quot;</span><br><span class="line">git config --global user.email &quot;benkangpeng@163.com&quot;</span><br><span class="line">ssh-keygen -t rsa -C &quot;benkangpeng@163.com&quot;  # 之后三次回车</span><br></pre></td></tr></table></figure>

<p>根据终端输出的信息找到<code>id_rsa.pub</code>的位置,或者通过以下命令查看：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Connect computer with GitHub by ssh-key</strong></p>
<p><strong>将ssh-key加入到github上</strong>：点击<code>个人头像进入个人空间</code> → <code>SSH and GPG keys</code>→ <code>New SSH key </code>,Title随意(最好标明是哪台电脑），<code>Key</code>粘上刚才复制的<code>id_rsa.pub</code> ，添加成功后会收到Github的邮件。</p>
<p><strong>尝试本机与Github通信</strong>：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Hi BenkangPeng! You’ve successfully authenticated, but GitHub does not provide shell access.</p>
</blockquote>
<p>若显示以上结果，则表明通信成功。</p>
</li>
<li><p>修改<code>Hexo</code> 配置文件</p>
<p><code>_config.yml </code>文件中找到<code>deploy</code>一项，修改为</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">https://github.com/benkangpeng/benkangpeng.github.io.git</span></span><br></pre></td></tr></table></figure>

<p>其中，<code>type</code>表示<code>the type of site deploying</code> , 即网站发布的方式，我们通过<code>git</code>发布</p>
<p><code>repository</code>则填写之前建立的仓库的地址，后加上后缀<code>.git</code></p>
</li>
<li><p>安装<code>hexo部署插件</code>(最好在根目录安装插件)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP-FR84659 MINGW64 /d/Hexo/blog (master)</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>将文件上传到<code>Github</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g  # hexo generate</span><br><span class="line">hexo d  # hexo deploy</span><br></pre></td></tr></table></figure>

<p>此时相关文件已上传到对应的仓库中，但如果此时你输入<code>https:\\benkangpeng.github.io</code>结果是<code>404</code>，原因是未将该仓库设置为<code>GitHub pages</code> .</p>
<p>在仓库页面右边的侧边栏中有一个<code>设置</code>的齿轮图标，点击→勾选<code>Use your GitHub Pages website</code>→<code>Save Changes</code></p>
</li>
<li><p><strong>大功告成</strong>，输入<code>https:\\benkangpeng.github.io</code>查看网页吧！</p>
</li>
</ul>
<h3 id="Gitee-pages"><a href="#Gitee-pages" class="headerlink" title="Gitee pages"></a>Gitee pages</h3><p>因为Gitee pages的部署与Github类似(<del>毕竟抄来的</del>)，以下步骤较为简略，可参考着Github的配置步骤进行。</p>
<h4 id="主要步骤-1"><a href="#主要步骤-1" class="headerlink" title="主要步骤:"></a>主要步骤:</h4><ul>
<li><p><strong>Gitee注册账号</strong>并实名认证(对，就是这么狗:dog:)</p>
</li>
<li><p><strong>新建仓库</strong></p>
<p>此处一定要注意仓库名与用户名一致，例如我的是<code>benkangpeng</code>,与Github不同(GitHub是benkangpeng.github.io)</p>
</li>
<li><p><strong>Git全局设置、获取ssh-key</strong>(同上面的Github)</p>
<p>已经设置过全局设置、获取过ssh-key，则无需进行操作。重复操作会改变计算机的ssh-key，与之前在Github绑定的ssh-key不同了，导致Github与计算机无法通信。最优解：固定计算机的ssh-key不变，Github、Gitee共用一个。此后也不要变更ssh-key.</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;benkangpeng&quot;</span><br><span class="line">git config --global user.email &quot;benkangpeng@163.com&quot;</span><br><span class="line">ssh-keygen -t rsa -C &quot;benkangpeng@163.com&quot;  # 之后三次回车</span><br></pre></td></tr></table></figure>

<p>根据终端输出的信息找到<code>id_rsa.pub</code>的位置,或者通过以下命令查看：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>SSH-key填入Gitee</strong></p>
<p>点头像→设置→SSH公钥</p>
</li>
<li><p><strong>第一次通信</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh -T git@gitee.com</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Hi BenkangPeng(@benkangpeng)! You’ve successfully authenticated, but GITEE.COM does not provide shell access.</p>
</blockquote>
<p><del>咱也不懂<code>does not provide shell access</code>是啥意思，Gitee垃圾就完事了</del></p>
</li>
<li><p><strong>修改<code>hexo</code>  <code>_config.yml</code></strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="comment">#repository: https://github.com/benkangpeng/benkangpeng.github.io.git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">https://gitee.com/benkangpeng/benkangpeng.git</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>安装hexo部署插件</strong>(安装过的无需重复安装)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>部署、上传到Gitee</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>此时可以看到相关文件已上传到Gitee仓库中。</p>
</li>
<li><p><strong>将仓库设置为Gitee Pages</strong></p>
<p>①进入仓库→上面的边框 <code>管理</code>→向下滑，勾选<code>开源</code>→<code>保存</code></p>
<p>②进入仓库→上面的边框 <code>服务</code>→<code>Gitee Pages</code> → 勾选<code>强制使用HTTPS</code>→<code>启动</code></p>
</li>
</ul>
]]></content>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello Hexo-NexT</title>
    <url>/posts/b3bdf13b/</url>
    <content><![CDATA[<h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h3><p><strong style="color : rgb(128,109,158) ; font-size : 24px">Hello Hexo and NexT !</strong></p>
<p><strong style = "color : rgb(128,109,158) ; font-size : 24px"> Hexo and NexT yyds ! </strong></p>
<p>基于Hexo和NexT主题，我的第一个个人网站诞生啦！</p>
<p>这篇文章记录了建立网站的点点滴滴，并持续更新我对心肝宝贝<a href="https://benkangpeng.github.io/">My Website</a>的持续美化、修缮。</p>
<span id="more"></span>

<h3 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h3><p>Hexo对中文的支持十分友好：<a href="https://hexo.io/zh-cn/">Hexo</a>  ,   直接按照<a href="https://hexo.io/zh-cn/docs/">Hexo官方文档</a>进行即可。</p>
<h4 id="1-安装前提"><a href="#1-安装前提" class="headerlink" title="1. 安装前提"></a>1. 安装前提</h4><p>首先确保计算机上已经安装<a href="https://nodejs.org/en">Node.js</a> 和<a href="https://git-scm.com/download/win">Git</a>。进不去网站的话，安装包已经屯好了：<a href="https://pan.baidu.com/s/1fJ36mQkLS5qLYJSBXTeb0g?pwd=91bs">百度网盘</a>   <a href="https://pbk.lanzoum.com/i0b4O19nlu3i">蓝奏云</a></p>
<h4 id="2-建立Hexo初始网站"><a href="#2-建立Hexo初始网站" class="headerlink" title="2. 建立Hexo初始网站"></a>2. 建立Hexo初始网站</h4><ul>
<li><strong>安装Hexo(任意位置)</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>建立一个文件夹存放所有博客文件：</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">pwd</span></span></span><br><span class="line">/d/Hexo</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>在&#x2F;d&#x2F;Hexo文件夹使用如下方法创建一个blog(可修改名称) , 并进入：</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo init blog</span></span><br><span class="line"></span><br><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> ./blog/</span></span><br></pre></td></tr></table></figure>

<p>blog文件夹内存放的就是网站blog源文件,如果想再建立一个网站，同样在Hexo文件夹下使用<code>hexo init blog_2</code>创建blog_2文件夹……</p>
<ul>
<li><strong>在blog文件夹中加入hexo相关配置：</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo/blog</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>查看网页</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo/blog</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo g &amp;&amp; hexo s  <span class="comment"># 完整写法： hexo generate &amp;&amp; hexo server</span></span></span><br></pre></td></tr></table></figure>

<p>进入INFO中的端口<code>http://localhost:4000/</code>即可看到hexo博客框架:</p>
<div style = "display : flex ; align-items : center ; justify-content: center;">
    <img src="https://pic.imgdb.cn/item/650fe8a2c458853aef63bf52.jpg" alt = "hexo初始网页.jpg" style = "width : 80% ">
</div>
* **写文章**

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo new <span class="string">&quot;第一篇文章&quot;</span></span></span><br></pre></td></tr></table></figure>

<p>Hexo即在<code>/blog/source/_posts/</code>创建了一个<code>第一篇文章.md</code> 。</p>
<p>实时编辑，在<code>https://localhost:4000</code>端口中刷新便可实时显示。</p>
<p>设置hexo主题</p>
<p>我们选择hexo-NexT主题——一个简洁、使用人数多、插件丰富的主题。更多主题可在<a href="https://hexo.io/themes/">Themes | Hexo</a>找到。</p>
<h3 id="配置NexT主题"><a href="#配置NexT主题" class="headerlink" title="配置NexT主题"></a>配置NexT主题</h3><p>我们选择hexo-NexT主题——一个简洁、使用人数多、插件丰富的主题。</p>
<p>Next的最新官网是<a href="https://theme-next.js.org/">NexT - Theme for Hexo (theme-next.js.org)</a> ， 而不是<a href="https://theme-next.org/">Home Page | Theme-Next</a> ， 原因详见：<a href="https://github.com/next-theme/hexo-theme-next/issues/4#issuecomment-626205848">Issue</a></p>
<ul>
<li><strong>安装NexT</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo/blog</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install hexo-theme-next</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>配置网站</strong></li>
</ul>
<p>你会发现文件中有两个配置文件，在blog中有一个<code>_config.yml</code> ， 即Hexo的配置文件 ， <code>\Hexo\blog_test\node_modules\hexo-theme-next</code>中有一个<code>_config.yml</code> ， 即NexT主题的配置文件。</p>
<blockquote>
<p>However, we do not recommend directly modifying the NexT config file. It is quite often running into conflict status when updating NexT theme via <code>git pull</code>, or need to merge configurations manually when upgrading to new releases. For the theme installed through npm, it is also difficult to modify the NexT config file in <code>node_modules</code>.</p>
</blockquote>
<p>In order to resolve this issue, we recommend using the <a href="https://theme-next.js.org/docs/getting-started/configuration">Alternate Theme Config</a> feature to configure theme NexT.</p>
<p>官网提示我们，在修改NexT配置文件时不要直接修改 <code>\Hexo\blog_test\node_modules\hexo-theme-next</code> ， 否则可能引起冲突。官方提供给我们一个方法<a href="https://theme-next.js.org/docs/getting-started/configuration">Alternate Theme Config</a> ， 简而言之将 <code>\Hexo\blog_test\node_modules\hexo-theme-next\_config.yml</code>复制到<code>blog\</code>下，更名为<code>_config.next.yml</code> , 这样直接修改<code>blog\</code>下的两个配置文件即可对Hexo和NexT均进行配置。</p>
<p>可手动配置，也可在相应位置执行命令：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo/blog</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> node_modules/hexo-theme-next/_config.yml _config.next.yml</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Hexo Configuration</strong></li>
</ul>
<p>Edit <code>_config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Benkang</span> <span class="string">Peng</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;Personal Website&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Benkang</span> <span class="string">Peng</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">en</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;Asia/Shanghai&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># theme: landscape  记得修改主题为NexT</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>NexT Configuration</strong></li>
</ul>
<p>Edit：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">minify:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br><span class="line"><span class="attr">darkmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Configuring Favicon</strong></li>
</ul>
<p>We can visit <a href="https://www.logosc.cn/logo/favicon">Favicon.ico图标生成器</a> to generate our favicon by inputting characters .</p>
<p>Put  the favicon files in <code>Hexo\blog_test\node_modules\hexo-theme-next\source\images</code> , then edit <code>NexT config file </code> according to the filename:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/favicon-16x16.png</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/favicon-32x32.png</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/apple-touch-icon.png</span></span><br><span class="line">  <span class="comment">#safari_pinned_tab: /images/logo.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /manifest.json</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Also add the avatar :</strong></li>
</ul>
<p>For example , I add <code>GNU-Linux-Logo-Penguin-SVG.jpg</code> to <code>Hexo\blog_test\node_modules\hexo-theme-next\source\images</code></p>
<p>Edit <code>_config.next.yml</code>:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/GNU-Linux-Logo-Penguin-SVG.jpg</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Configuring Menu</strong></li>
</ul>
<p>We can add the <code>Menu items </code> by removing the comments in <code>_config.next.yml</code> :</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-pie-chart</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="comment">#categories: /categories/ || fa fa-th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || fa fa-heartbeat</span></span><br></pre></td></tr></table></figure>

<p>Menu settings item’s format :  <code>key: /link/ || icon</code> .    <code>Key</code> is the name of menu items(home , tags , etc.) ,  and link is the target link to relative url inside your site .  For example , if the menu item is <code>other: /other/ || icon</code> , it will go to <code>https://benkangpeng.github.io/other/</code> when you click it . </p>
<blockquote>
<p>Except home and archives, all custom pages under menu section need to be created manually.</p>
</blockquote>
<p>Tips above means that , when you add new menu items , you should also create relative files except <code>home and archives</code> as they can create relative files automatically .</p>
<p>For example , three steps to add menu item <code>tags</code> :</p>
<p><strong>①Removing the comment of tags :</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-pie-chart</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br></pre></td></tr></table></figure>

<p><strong>②Create relative files :</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">hexo</span> <span class="string">new</span> <span class="string">page</span> <span class="string">tags</span></span><br></pre></td></tr></table></figure>

<p><strong>③Editting the markdown file <code>index.md</code> of <code>\blog_test\source\tags\</code></strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">Tags</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2023-09-18 09:10:10</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;tags&quot;</span></span><br></pre></td></tr></table></figure>

<p>That’s all .  As for the ways of the offical doc ,  I’m  absolutely confused ……</p>
<h3 id="Beautify"><a href="#Beautify" class="headerlink" title="Beautify"></a>Beautify</h3><h4 id="Custom-pages"><a href="#Custom-pages" class="headerlink" title="Custom pages"></a>Custom pages</h4><p>If we want to add a <code>.html</code> to the website and don’t want NexT to influence that <code>.html</code> ‘ s style , which means <code>.html</code> can be displayed on its own style ,  how do we do ?</p>
<p>The answer is : <strong>Prevent Hexo from rendering my .html files.</strong></p>
<ul>
<li>Now create a new page :</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo new page Other</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Edit the <code>_config.next.yml</code> to display <code>Other</code> in menu</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Other:</span> <span class="string">/other/index.html</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-external-link</span></span><br></pre></td></tr></table></figure>

<p>Find the name of  font-awesome icons from <a href="https://fontawesome.dashgame.com/">Font Awesome</a></p>
<ul>
<li>Edit the <code>_config.yml</code> to make sure folder <code>/Other</code> cann’t be rendered by Hexo .</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">&quot;Other/**&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Delete the <code>index.md</code> in <code>/source/Other</code> , and create <code>index.html</code></li>
</ul>
<p>We can write something in <code>index.html</code> , which will keep its style and not be rendered by hexo .</p>
<h4 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h4><p>It’s a common need to show some part of article in home page and a <code>Read more</code> button to view more .</p>
<p>The best way is : Use <code>&lt;!-- more --&gt;</code> in the article to break the article manually .</p>
<h4 id="Post-Wordcount"><a href="#Post-Wordcount" class="headerlink" title="Post Wordcount"></a>Post Wordcount</h4><p>Install plugin <code>hexo-word-counter</code> :</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install hexo-word-counter</span></span><br></pre></td></tr></table></figure>

<p>Edit <code>_config.yml</code>:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">symbols:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">time:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_symbols:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_time:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude_codeblock:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">awl:</span> <span class="number">2</span>    </span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">275</span></span><br><span class="line">  <span class="attr">suffix:</span> <span class="string">&quot;mins.&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="Tag-Icon"><a href="#Tag-Icon" class="headerlink" title="Tag Icon"></a>Tag Icon</h4><p>By default, tags at the bottom of posts have a symbol # at there left side.</p>
<p>If you prefer icon instead of symbol, edit <code>_config.next.yml</code> like following:</p>
<h4 id="Codeblock-Style"><a href="#Codeblock-Style" class="headerlink" title="Codeblock Style"></a>Codeblock Style</h4><p>You can go to <a href="https://theme-next.js.org/highlight/">Highlight (theme-next.js.org)</a> to choose the theme you like and it will give the way to edit the <code>.yml</code> .</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.yml</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> </span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"></span><br><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Code Highlight theme</span></span><br><span class="line">  <span class="comment"># All available themes: https://theme-next.js.org/highlight/</span></span><br><span class="line">  <span class="attr">theme:</span></span><br><span class="line">    <span class="attr">light:</span> <span class="string">atom-one-dark</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">atom-one-dark</span></span><br><span class="line">  <span class="attr">prism:</span></span><br><span class="line">    <span class="attr">light:</span> <span class="string">prism</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">prism-dark</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line">  <span class="attr">copy_button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">show_result:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Available values: default | flat | mac</span></span><br><span class="line">    <span class="attr">style:</span> <span class="string">mac</span></span><br><span class="line">  <span class="comment"># Fold code block</span></span><br><span class="line">  <span class="attr">fold:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">500</span></span><br></pre></td></tr></table></figure>



<h4 id="Back-To-Top"><a href="#Back-To-Top" class="headerlink" title="Back To Top"></a>Back To Top</h4><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="attr">back2top:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="Reading-Progress"><a href="#Reading-Progress" class="headerlink" title="Reading Progress"></a>Reading Progress</h4><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="comment"># Reading progress bar</span></span><br><span class="line"><span class="attr">reading_progress:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Available values: left | right</span></span><br><span class="line">  <span class="attr">start_at:</span> <span class="string">left</span></span><br><span class="line">  <span class="comment"># Available values: top | bottom</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span></span><br><span class="line">  <span class="attr">reversed:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;#37c6c0&quot;</span></span><br><span class="line">  <span class="attr">height:</span> <span class="string">3px</span></span><br></pre></td></tr></table></figure>

<h4 id="GitHub-Banner"><a href="#GitHub-Banner" class="headerlink" title="GitHub Banner"></a>GitHub Banner</h4><p>NexT provide <code>Follow me on GitHub</code> banner on the right-top corner .</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="comment"># `Follow me on GitHub` banner in the top-right corner.</span></span><br><span class="line"><span class="attr">github_banner:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">permalink:</span> <span class="string">https://github.com/benkangpeng</span></span><br></pre></td></tr></table></figure>



<h3 id="Tag-Plugin"><a href="#Tag-Plugin" class="headerlink" title="Tag Plugin"></a>Tag Plugin</h3><h4 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h4><p>NexT provide the tag plugin <code>button</code> , which can jump to corresponding link .</p>
<ul>
<li><strong>Usage</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% button url , text , icon[class] , [title] %&#125;</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% btn url, text, icon [class], [title] %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><ul>
<li><code>url</code> : Absolute or relative path to URL.</li>
<li><code>text</code> : Button text. Required if no icon specified.</li>
<li><code>icon</code> : Font Awesome icon name. Required if no text specified.</li>
<li><code>[class]</code> : <em>Optional parameter.</em> Font Awesome class(es): <code>fa-fw</code> | <code>fa-lg</code> | <code>fa-2x</code> | <code>fa-3x</code> | <code>fa-4x</code> | <code>fa-5x</code></li>
<li><code>[title]</code> : <em>Optional parameter.</em> Tooltip at mouseover.</li>
</ul>
</li>
</ul>
<p>eg.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% btn # , Text , home , mouseover %&#125;&#123;% btn # , Superpowers , fa fa-external-link , mouseon %&#125;</span><br></pre></td></tr></table></figure>

<a class="btn" href="# " title="mouseover"><i class="fa fa-home"></i>Text</a><a class="btn" href="# " title="mouseon"><i class="fa-superpowers"></i>Superpowers</a>

<div style = "display : flex ; align-items : center ; justify-content: center;"><a class="btn" href="https://github.com" title="GitHub"><i class="fab fa-github fa-fw fa-lg"></i>GitHub</a></div>

<ul>
<li><strong>We can also use <code>Button</code> inside text , for example :</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">For search engineer , I prefer &#123;% btn https://cn.bing.com , Bing , fa fa-search , Bing %&#125; instead of &#123;% btn https://baidu.com , Baidu , fa fa-bomb , Baidu %&#125;</span><br></pre></td></tr></table></figure>

<p>For search engineer , I prefer <a class="btn" href="https://cn.bing.com " title="Bing"><i class="fa fa-search"></i>Bing</a> instead of <a class="btn" href="https://baidu.com " title="Baidu"><i class="fa fa-bomb"></i>Baidu</a>.</p>
<ul>
<li><p><strong>Button margin</strong></p>
<p>Well , maybe this feature is useful for me to build a aggregation of commonly used website .</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div style = &quot;display : flex ; align-items : center ; justify-content : center&quot;&gt;</span><br><span class="line">		&lt;div&gt;&#123;% btn #,, heading %&#125;&#123;% btn #,, fab fa-edge %&#125;&#123;% btn #,, times %&#125;&#123;% btn #,, circle-notch %&#125;&lt;/div&gt;</span><br><span class="line">		&lt;div&gt;&#123;% btn #,, italic %&#125;&#123;% btn #,, fab fa-scribd %&#125;&lt;/div&gt;</span><br><span class="line">		&lt;div&gt;&#123;% btn #,, fab fa-google %&#125;&#123;% btn #,, fab fa-chrome %&#125;&#123;% btn #,, fab fa-opera %&#125;&#123;% btn #,, gem</span><br><span class="line">			fa-rotate-270 %&#125;&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<div style = "display : flex ; align-items : center ; justify-content : center">
        <div><a class="btn" href="#"><i class="fa fa-heading"></i></a><a class="btn" href="#"><i class="fab fa-edge"></i></a><a class="btn" href="#"><i class="fa fa-times"></i></a><a class="btn" href="#"><i class="fa fa-circle-notch"></i></a></div>
        <div><a class="btn" href="#"><i class="fa fa-italic"></i></a><a class="btn" href="#"><i class="fab fa-scribd"></i></a></div>
        <div><a class="btn" href="#"><i class="fab fa-google"></i></a><a class="btn" href="#"><i class="fab fa-chrome"></i></a><a class="btn" href="#"><i class="fab fa-opera"></i></a><a class="btn" href="#"><i class="fa fa-gem fa-rotate-270"></i></a></div>
    </div>



<h4 id="Group-Pictures"><a href="#Group-Pictures" class="headerlink" title="Group Pictures"></a>Group Pictures</h4><p><code>Group Pictures</code> is also an awesome plugin ! Maybe I will use <code>group picture</code> to build my photo repo .</p>
<ul>
<li>Usage</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% gp [number]-[layout] %&#125;</span><br><span class="line">&#123;% endgp %&#125;</span><br></pre></td></tr></table></figure>

<p><code>[number]</code> : optional . Total number of pictures .</p>
<p><code>[layout]</code> : optional . The index of the layout, which can be obtained according to the figure below. For example, if you want to apply the second layout to 4 pictures, then use .</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% grouppicture 4-2 %&#125;&#123;% endgrouppicture %&#125;</span><br></pre></td></tr></table></figure>

<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="https://theme-next.js.org/images/group-picture-1.png" alt="group-picture-1.png"></div><div class="group-picture-column"><img src="https://theme-next.js.org/images/group-picture-2.png" alt="group-picture-2.png"></div></div></div>

<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div></div><div class="group-picture-row"><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div></div><div class="group-picture-row"><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div></div></div>

<div class="note info"><p>It’s recommended to enable <code>fancybox</code> before using <code>group pictures</code> .</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</div>



<h4 id="Link-Grid"><a href="#Link-Grid" class="headerlink" title="Link Grid"></a>Link Grid</h4><p><code>Link Grid</code> is simple to <code>group pictures</code> , which may be called “Group Links” . It may be really awesome to code a page containing some commonly used links by <code>link grid</code> , I think .</p>
<ul>
<li>Usage</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% lg [image] [delimiter] [comment] %&#125;</span><br><span class="line">&#123;% endlg %&#125;</span><br></pre></td></tr></table></figure>

<p><code>[image]</code> : Optional parameter. Default image URL.<br><code>[delimiter]</code> : Optional parameter. If the optional delimiter parameter is given, it is interpreted as the delimiter of items in each line.<br><code>[comment]</code> : Optional parameter. If the optional comment parameter is given, it is interpreted as the symbol to comment out a line.</p>
<p><code>&#123;% lg [image]  %&#125;</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% lg %&#125;</span><br><span class="line">Theme NexT | https://theme-next.js.org/ | Stay Simple. Stay NexT. | https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg</span><br><span class="line">Theme NexT | https://theme-next.js.org/ | Stay Simple. Stay NexT. | https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg</span><br><span class="line">Theme NexT | https://theme-next.js.org/ | Stay Simple. Stay NexT. | https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg</span><br><span class="line">Theme NexT | https://theme-next.js.org/ | Stay Simple. Stay NexT. | https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg</span><br><span class="line">&#123;% endlg %&#125;</span><br></pre></td></tr></table></figure>

<p>Well , maybe I get in trouble …… I can’t add the code above here , otherwise there are many bugs after running <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> .  But in other file , such as <code>External-link</code> in menu ,  it works .I can’t solve this problem ……</p>
<h4 id="Mermaid-WaveDrom"><a href="#Mermaid-WaveDrom" class="headerlink" title="Mermaid &amp; WaveDrom"></a>Mermaid &amp; WaveDrom</h4><p>Two plugins above is useful for flow chart painting .</p>
<h4 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h4><ul>
<li><strong>Settings</strong></li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># NexT config file</span></span><br><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">simple</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Usage</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] [summary] %&#125;</span><br><span class="line">Content</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<p><code>[class]</code> : Optional . Supported values : <code>default</code> | <code>primary</code> | <code>success</code> | <code>info</code> | <code>warning</code> | <code>danger</code> </p>
<p><code>[no-icon]</code> : Optional . Disable icon in note .</p>
<p><code>[summary]</code> : Optional . Summary of note .</p>
<ul>
<li><strong>Examples</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note %&#125;</span><br><span class="line">without define class style</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note "><p>without define class style</p>
</div>





<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note default %&#125;</span><br><span class="line">default style</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note default"><p>default style</p>
</div>





<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note primary %&#125;</span><br><span class="line">#### Primary Header</span><br><span class="line">**Welcome** to [Hexo!](https://hexo.io)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note primary"><h4 id="Primary-Header"><a href="#Primary-Header" class="headerlink" title="Primary Header"></a>Primary Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io/">Hexo!</a></p>
</div>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note info %&#125;</span><br><span class="line">#### Info Header</span><br><span class="line">**Welcome** to [Hexo!](https://hexo.io)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note info"><h4 id="Info-Header"><a href="#Info-Header" class="headerlink" title="Info Header"></a>Info Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io/">Hexo!</a></p>
</div>





<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note success %&#125;</span><br><span class="line">#### Success Header</span><br><span class="line">**Welcome** to [Hexo!](https://hexo.io)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note success"><h4 id="Success-Header"><a href="#Success-Header" class="headerlink" title="Success Header"></a>Success Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io/">Hexo!</a></p>
</div>





<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note danger %&#125;</span><br><span class="line">#### Danger Header</span><br><span class="line">**Welcome** to [Hexo!](https://hexo.io)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note danger"><h4 id="Danger-Header"><a href="#Danger-Header" class="headerlink" title="Danger Header"></a>Danger Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io/">Hexo!</a></p>
</div>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note info no-icon %&#125;</span><br><span class="line">#### No icon note</span><br><span class="line">Note **without** icon: `note info no-icon`</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note info no-icon"><h4 id="No-icon-note"><a href="#No-icon-note" class="headerlink" title="No icon note"></a>No icon note</h4><p>Note <strong>without</strong> icon: <code>note info no-icon</code></p>
</div>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note primary This is a summary %&#125;</span><br><span class="line">#### Details and summary</span><br><span class="line">Note with summary: `note primary This is a summary`</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<details class="note primary"><summary><p>This is a summary</p>
</summary>
<h4 id="Details-and-summary"><a href="#Details-and-summary" class="headerlink" title="Details and summary"></a>Details and summary</h4><p>Note with summary: <code>note primary This is a summary</code></p>

</details>

<h4 id="PDF"><a href="#PDF" class="headerlink" title="PDF"></a>PDF</h4><p>NexT also provide the <code>PDF</code> plugin which can add the pdf viewer in the website .</p>
<h3 id="Third-Party-Plugins"><a href="#Third-Party-Plugins" class="headerlink" title="Third Party Plugins"></a>Third Party Plugins</h3><h4 id="Pjax"><a href="#Pjax" class="headerlink" title="Pjax"></a>Pjax</h4><blockquote>
<blockquote>
<p>Easily enable fast AJAX navigation on any website (using pushState() + XHR)</p>
</blockquote>
<p>Pjax is <strong>a standalone JavaScript module</strong> that uses <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/AJAX">AJAX</a> (XmlHttpRequest) and <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history">pushState()</a> to deliver a fast browsing experience.</p>
<p><em>It allows you to completely transform the user experience of standard websites (server-side generated or static ones) to make users feel like they are browsing an app, especially for those with low bandwidth connections.</em></p>
<p><strong>No more full page reloads. No more multiple HTTP requests.</strong></p>
<p><em>Pjax does not rely on other libraries, like jQuery or similar. It is written entirely in vanilla JS.</em></p>
</blockquote>
<p><code>&quot;Make users feel like they are browsing an app&quot; </code> ?  True or False ?  Unbelievable !</p>
<p>Just Edit in <code>_config.next.yml</code>:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pjax:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="Math-Equations"><a href="#Math-Equations" class="headerlink" title="Math Equations"></a>Math Equations</h4><p>NexT also provide some plugins to render math equations . As I don’t plan to write math notes on my blog (It’s convient to write them in LaTex , isn’t it ?) , so maybe next time !</p>
<h4 id="Lazyload"><a href="#Lazyload" class="headerlink" title="Lazyload"></a>Lazyload</h4><p>It delays loading of images in long web pages. Images outside of viewport will not be loaded before user scrolls to them. </p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="attr">lazyload:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h4><p>NexT provide the animation behavoir . But for me , it’s unnecessary , and I can close animation function to speed my website .</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">motion:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">async:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">transition:</span></span><br><span class="line">    <span class="comment"># All available transition variants: https://theme-next.js.org/animate/</span></span><br><span class="line">    <span class="attr">menu_item:</span> <span class="string">fadeInDown</span></span><br><span class="line">    <span class="attr">post_block:</span> <span class="string">fadeIn</span></span><br><span class="line">    <span class="attr">post_header:</span> <span class="string">fadeInDown</span></span><br><span class="line">    <span class="attr">post_body:</span> <span class="string">fadeInDown</span></span><br><span class="line">    <span class="attr">coll_header:</span> <span class="string">fadeInLeft</span></span><br><span class="line">    <span class="comment"># Only for Pisces | Gemini.</span></span><br><span class="line">    <span class="attr">sidebar:</span> <span class="string">fadeInUp</span></span><br></pre></td></tr></table></figure>

<h4 id="Quicklink"><a href="#Quicklink" class="headerlink" title="Quicklink"></a>Quicklink</h4><p><a href="https://github.com/GoogleChromeLabs/quicklink">Quicklink</a> is a JavaScript plugin that faster subsequent page-loads by prefetching in-viewport links during idle time. Chrome, Firefox, Edge are supported without polyfills.</p>
<p>You can enable it by setting value <code>quicklink.enable</code> to <code>true</code> in NexT config file.</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="attr">quicklink:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Home page and archive page can be controlled through home and archive options below.</span></span><br><span class="line">  <span class="comment"># This configuration item is independent of `enable`.</span></span><br><span class="line">  <span class="attr">home:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archive:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">Me:</span> <span class="literal">true</span> </span><br><span class="line">  <span class="comment"># &quot;Me&quot; is a menu item I add .</span></span><br><span class="line">  <span class="comment"># Default (true) will initialize quicklink after the load event fires.</span></span><br><span class="line">  <span class="attr">delay:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Custom a time in milliseconds by which the browser must execute prefetching.</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">3000</span></span><br><span class="line">  <span class="comment"># Default (true) will attempt to use the fetch() API if supported (rather than link[rel=prefetch]).</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="AddToAny"><a href="#AddToAny" class="headerlink" title="AddToAny"></a>AddToAny</h4><p>Share your artical to external patform by <code>AddToAny</code> .</p>
<p>On my view , it’s useless ………</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># AddToAny Share. See: https://www.addtoany.com</span></span><br><span class="line"><span class="attr">addtoany:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">buttons:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">wechat</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">facebook</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">twitter</span></span><br></pre></td></tr></table></figure>

<h4 id="Local-Search"><a href="#Local-Search" class="headerlink" title="Local Search"></a>Local Search</h4><p>Plugin <code>hexo-generator-searchdb</code> provide our website with a local search engineer .</p>
<ul>
<li>Installation</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install hexo-generator-searchdb</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Edit in <code>_config.yml</code></li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Edit in <code>_config.next.yml</code></li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>



<p><strong style="color : orange ; font-size : 30px">All right , it’s all about Hexo beautifying !</strong></p>
]]></content>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>Instruction Of Typora</title>
    <url>/posts/bfc69175/</url>
    <content><![CDATA[<p>Typora是一个基于markdown语法的轻量级软件，以下是我在学习markdown语法时的一些笔记。</p>

<span id="more"></span>

<p><a href="https://pan.baidu.com/s/1A0PSXm8SgOlyFYxgQ7yaDg?pwd=jwuf#list/path=%2F">Typora软件分享</a>提取码：jwuf</p>
<h3 id="Living-preview"><a href="#Living-preview" class="headerlink" title="Living preview"></a>Living preview</h3><p>Living preview(实时预览)这也算是Typora的一个特点吧相当于有道云笔记中的右窗口预览，<strong>可自动隐去格式说明中的格式语句</strong> 。 注意一定要在符号与正文之间<strong>加空格</strong>，目的在于区分内容与格式符。文字换行也与一般不同，要<strong>先加空格再enter</strong>。</p>
<h3 id="具体符号"><a href="#具体符号" class="headerlink" title="具体符号"></a>具体符号</h3><h4 id="headers"><a href="#headers" class="headerlink" title="headers"></a>headers</h4><p>随着标题的井字符数量的增加，标题优先级逐渐下降。</p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 大标题  （ Ctrl + 1 ） </span><br><span class="line">## 第二号标题 （ Ctrl + 2 ) </span><br><span class="line">### 第三号标题  </span><br><span class="line">一直可以到第六号标题</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Blockquote"><a href="#Blockquote" class="headerlink" title="Blockquote"></a>Blockquote</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法 ： &gt; 引用内容  </span><br><span class="line">例如输入下列语句：</span><br><span class="line">&gt; 心志要坚，意趣要乐。  </span><br><span class="line">输出结果为</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>心志要坚，意趣要乐</p>
</blockquote>
<h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">就如平常一样输入序号就行了，此后换行就会自动排序。  </span><br><span class="line">格式 ：1. 第一点        </span><br><span class="line">2. 第二点</span><br><span class="line">3. * 空圆</span><br><span class="line">   - 方形</span><br><span class="line">* 实圆</span><br></pre></td></tr></table></figure>
</blockquote>
<ol>
<li>第一点</li>
<li>第二点</li>
<li><ul>
<li><h2 id="星号"><a href="#星号" class="headerlink" title="星号"></a>星号</h2></li>
</ul>
</li>
</ol>
<p>- </p>
<h4 id="Task-List"><a href="#Task-List" class="headerlink" title="Task List"></a>Task List</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">格式 </span><br><span class="line">- [ ] 未完成任务    - [x] 已完成任务</span><br><span class="line">可点击任务点完成任务  </span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>未完成任务    </li>
<li>已完成任务</li>
</ul>
<h4 id="Code-Block"><a href="#Code-Block" class="headerlink" title="Code Block"></a>Code Block</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">格式  </span><br><span class="line">​```language</span><br><span class="line">代码段</span><br><span class="line">​```  </span><br><span class="line">其实后面那三个顿号电脑会自动显示的（注意是顿号，  </span><br><span class="line">英文输入法下的Esc下边那个键）  </span><br><span class="line">代码段也有一个神奇的功能，就是能完整显示Typora的代码符，   </span><br><span class="line">要不然本文的一个个事例又是怎么保留住这些Typora符呢。想想也知道，  </span><br><span class="line">设计一个这样的文本格式，  </span><br><span class="line">当然也要兼顾代码的特殊符号呀，比如代码里的#、*是不能参与Typora的格式符的。  </span><br><span class="line">代码语句的输入  </span><br><span class="line">格式 </span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Reverse Bits Ordering</span><br><span class="line">module top_module(</span><br><span class="line">    input [99:0] in ,</span><br><span class="line">    output [99:0] out </span><br><span class="line">) ;</span><br><span class="line">    genvar i ;</span><br><span class="line">    generate</span><br><span class="line">        for(i = 0 ; i &lt; 100 ; i++) begin : generate_name</span><br><span class="line">            assign out[i] = in [99 - i] ;</span><br><span class="line">        end</span><br><span class="line">    endgenerate</span><br><span class="line">endmodule</span><br></pre></td></tr></table></figure>

<h4 id="Math-Blocks"><a href="#Math-Blocks" class="headerlink" title="Math Blocks"></a>Math Blocks</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ 单行输入 $</span><br><span class="line">$ \mathbf&#123;V&#125;_1 \times \mathbf&#123;V&#125;_2 =  \begin&#123;vmatrix&#125;</span><br><span class="line">\mathbf&#123;i&#125; &amp; \mathbf&#123;j&#125; &amp; \mathbf&#123;k&#125; \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial u&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial u&#125; &amp; 0 \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial v&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial v&#125; &amp; 0 \\</span><br><span class="line">\end&#123;vmatrix&#125;  </span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h4 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| A  | B |</span><br><span class="line">| C  | D |</span><br><span class="line">| E  | F |  </span><br><span class="line">点击表格内有功能选择</span><br></pre></td></tr></table></figure>
</blockquote>
<table>
<thead>
<tr>
<th align="center">A</th>
<th align="center">B</th>
</tr>
</thead>
<tbody><tr>
<td align="center">C</td>
<td align="center">D</td>
</tr>
<tr>
<td align="center">E</td>
<td align="center">F</td>
</tr>
</tbody></table>
<h4 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">格式 </span><br><span class="line">--- </span><br><span class="line">或者 </span><br><span class="line">*** </span><br><span class="line">例如 </span><br><span class="line">我是分割线 </span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">我是分割线 </span><br><span class="line"></span><br><span class="line">***</span><br></pre></td></tr></table></figure>
</blockquote>
<p>我是分割线 </p>
<hr>
<p>我是分割线 </p>
<hr>
<h4 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">格式 </span><br><span class="line">输入[toc]再回车就行了 （table of content) </span><br><span class="line">就会生成一个目录，点击相应标记即可跳转 </span><br><span class="line">例如 </span><br><span class="line">[toc] </span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">格式 </span><br><span class="line">[给链接起个名字](写上具体网址)</span><br><span class="line">[知乎](https://www.zhihu.com/) 注意用英文输入法下的括号  </span><br><span class="line">在markdown文件中按住Ctrl键同时点击网址即可直接打开</span><br></pre></td></tr></table></figure>
</blockquote>
<p><a href="www.zhihu.com">知乎</a></p>
<h4 id="Insert-Pictures"><a href="#Insert-Pictures" class="headerlink" title="Insert Pictures"></a>Insert Pictures</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">格式  </span><br><span class="line">![起个名字](存储位置) </span><br><span class="line">例如 </span><br><span class="line">![思维导图](D:\desktop\Typora.png) </span><br><span class="line">当然啦，直接把图片拖过来复制一下不香吗</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>可将typora设置如下，可避免图片丢失导致markdown文件中图片无法查看（也可以使用网络图床存储）</p>
<p><img src="file://D:/Software/Typora/Pictures/1693142385073.png?lastModify=1695005959" alt="img"></p>
</li>
</ul>
]]></content>
      <tags>
        <tag>Software</tag>
      </tags>
  </entry>
  <entry>
    <title>HDLBits Solutions</title>
    <url>/posts/4ff0bc03/</url>
    <content><![CDATA[<h3>Abstract</h3>

<p>The solutions and my notes of <a href="[Problem sets - HDLBits (01xz.net)](https://hdlbits.01xz.net/wiki/Problem_sets)">HDLBits</a> are written in this document .</p>

<span id="more"></span>

<p>[TOC]</p>
<h1 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h1><h3 id="Getting-Started-1"><a href="#Getting-Started-1" class="headerlink" title="Getting Started"></a>Getting Started</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( <span class="keyword">output</span> one );</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span> one = <span class="number">1&#x27;b1</span>;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="Output-Zero"><a href="#Output-Zero" class="headerlink" title="Output Zero"></a>Output Zero</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module ( <span class="keyword">output</span> zero );</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span> zero = <span class="number">1&#x27;b0</span>;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>



<h1 id="Verilog-Language"><a href="#Verilog-Language" class="headerlink" title="Verilog Language"></a>Verilog Language</h1><h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><h3 id="Simple-wire"><a href="#Simple-wire" class="headerlink" title="Simple wire"></a>Simple wire</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( <span class="keyword">input</span> in, <span class="keyword">output</span> out );</span><br><span class="line">	<span class="keyword">assign</span> out = in;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Four-wires"><a href="#Four-wires" class="headerlink" title="Four wires"></a>Four wires</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">	<span class="keyword">input</span> a,</span><br><span class="line">	<span class="keyword">input</span> b,</span><br><span class="line">	<span class="keyword">input</span> c,</span><br><span class="line">	<span class="keyword">output</span> w,</span><br><span class="line">	<span class="keyword">output</span> x,</span><br><span class="line">	<span class="keyword">output</span> y,</span><br><span class="line">	<span class="keyword">output</span> z  );</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span> w = a;</span><br><span class="line">	<span class="keyword">assign</span> x = b;</span><br><span class="line">	<span class="keyword">assign</span> y = b;</span><br><span class="line">	<span class="keyword">assign</span> z = c;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// If we&#x27;re certain about the width of each signal, using </span></span><br><span class="line">	<span class="comment">// the concatenation operator is equivalent and shorter:</span></span><br><span class="line">	<span class="comment">// assign &#123;w,x,y,z&#125; = &#123;a,b,b,c&#125;;</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Inverter"><a href="#Inverter" class="headerlink" title="Inverter"></a>Inverter</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">	<span class="keyword">input</span> in,</span><br><span class="line">	<span class="keyword">output</span> out</span><br><span class="line">);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span> out = ~in;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="AND-gate"><a href="#AND-gate" class="headerlink" title="AND gate"></a>AND gate</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> a, </span><br><span class="line">    <span class="keyword">input</span> b, </span><br><span class="line">    <span class="keyword">output</span> out );</span><br><span class="line">	<span class="keyword">assign</span> out = a &amp; b ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="NOR-gate"><a href="#NOR-gate" class="headerlink" title="NOR gate"></a>NOR gate</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> a, </span><br><span class="line">    <span class="keyword">input</span> b, </span><br><span class="line">    <span class="keyword">output</span> out );</span><br><span class="line">    <span class="keyword">assign</span> out = ! (a | b) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="XNOR-gate"><a href="#XNOR-gate" class="headerlink" title="XNOR gate"></a>XNOR gate</h3><h3 id="Declaring-wires"><a href="#Declaring-wires" class="headerlink" title="Declaring wires"></a>Declaring wires</h3><h3 id="7458-chip"><a href="#7458-chip" class="headerlink" title="7458 chip"></a>7458 chip</h3><h2 id="Vectors"><a href="#Vectors" class="headerlink" title="Vectors"></a>Vectors</h2><h3 id="Vectors-1"><a href="#Vectors-1" class="headerlink" title="Vectors"></a>Vectors</h3><h2 id="More-Verilog-Features"><a href="#More-Verilog-Features" class="headerlink" title="More Verilog Features"></a>More Verilog Features</h2><h3 id="Combinational-for-loop-Vector-reversal-2"><a href="#Combinational-for-loop-Vector-reversal-2" class="headerlink" title="*Combinational for-loop : Vector reversal 2"></a>*Combinational for-loop : Vector reversal 2</h3><blockquote>
<p>Given a 100-bit input vector [99:0], reverse its bit ordering.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">// False Vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] out </span><br><span class="line">) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">100</span> ; i++) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">assign</span> out[i] = in [<span class="number">99</span> - i] ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Error (10170): Verilog HDL syntax error at top_module.v(6) near text: &quot;for&quot;;  expecting &quot;endmodule&quot;. </span><br></pre></td></tr></table></figure>
</blockquote>
<p>为什么是这样的报错呢？显示在for循环那一行前缺少一个endmodule</p>
<blockquote>
<p>在module内部，只能<strong>声明输入</strong>、<strong>输出端口、内部信号以及使用连续赋值</strong>（<code>assign</code> 语句）来描述硬件电路的连续逻辑</p>
</blockquote>
<p>因此，<code>verilog</code>编译器认为，<code>for</code>循环前应该有一个<code>endmodule</code>以结束该<code>module</code>,此后才能开始<code>for-loop</code>的声明。</p>
<p><strong>为什么Verilog规定Module内部不能声明for-loop?</strong></p>
<blockquote>
<p>当涉及到硬件描述语言（HDL）如Verilog时，有一些关键的设计原则和语法规则是不同于通用编程语言（如C、Python）的。</p>
<p>Verilog 是为硬件设计而设计的，其目的是描述硬件电路的结构和行为，而不是传统意义上的“编程”。在硬件电路中，信号是在不同的时间步长上并行计算的，而不是按顺序执行的像在软件中一样。这导致了一些语法规则的不同。</p>
<p>具体来说，以下是为什么在 Verilog 中不能直接将 <code>for</code> 循环放在模块内部的原因：</p>
<ol>
<li><strong>并行性：</strong> Verilog 中的代码被解释为电路，其中不同的信号在相同的时间步长上并行地计算。这与传统编程语言中的迭代循环不同，后者按顺序执行。在硬件电路中，不同的信号和逻辑是同时计算的，因此 <code>for</code> 循环的概念与硬件的并行性不一致。</li>
<li><strong>延迟和时间问题：</strong> 在 Verilog 中，信号的传播和逻辑运算都需要考虑时间延迟。循环的迭代次数可能需要在编译时已知，但在硬件中，延迟可能会影响电路的行为。如果允许在模块内部使用 <code>for</code> 循环，编译器就需要处理如何在时间上正确地展开循环和处理延迟的问题。</li>
</ol>
<p>为了符合硬件的特性，Verilog 引入了生成语句（generate statements），允许在编译时生成不同的硬件结构，这包括使用 <code>for</code> 循环来生成多个类似的硬件逻辑。生成语句允许在不同的时间步长上并行生成硬件，而不会引入运行时的顺序问题。</p>
</blockquote>
<p>简单说就是：<code>for-loop</code>内不同层次(i &#x3D; 1 , 2 ,3 ……)，体现了顺序的先后，是软件编程的思维；而<code>verilog</code>中<code>assign</code>描述的各硬件是并行运行的，是硬件编程的思维；二者需要区分开来:smile:</p>
<p>我们使用<code>generate</code>来实现(generate生成多个并行计算模块)：[generate介绍](<a href="https://zhuanlan.zhihu.com/p/107047600">Verilog中generate的使用 - 知乎 (zhihu.com)</a>)</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] out </span><br><span class="line">) ;</span><br><span class="line">    <span class="keyword">genvar</span> i ;<span class="comment">//state a variable i </span></span><br><span class="line">    <span class="keyword">generate</span></span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span> ; i &lt; <span class="number">100</span> ; i++) <span class="keyword">begin</span> : generate_name</span><br><span class="line">            <span class="keyword">assign</span> out[i] = in [<span class="number">99</span> - i] ; <span class="comment">// type of out is wire</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>或者将<code>for-loop</code>写在<code>always</code>中：</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">99</span>:<span class="number">0</span>] out </span><br><span class="line">) ;</span><br><span class="line">    <span class="keyword">always</span> @(*)<span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="built_in">$bits</span>(out) ; i++ ) <span class="keyword">begin</span></span><br><span class="line">            <span class="comment">//$bits(signal)获取信号位长</span></span><br><span class="line">            out[i] = in [ <span class="built_in">$bits</span>(out) - <span class="number">1</span> - i ] ; </span><br><span class="line">            <span class="comment">//type of out is reg</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="Combinational-for-loop-255-bit-population-count"><a href="#Combinational-for-loop-255-bit-population-count" class="headerlink" title="Combinational for-loop:255-bit population count"></a>Combinational for-loop:255-bit population count</h3><blockquote>
<p>A “population count” circuit counts the number of ‘1’s in an input vector. Build a population count circuit for a 255-bit input vector.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">254</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] out );</span><br><span class="line">    <span class="keyword">always</span> @(*) <span class="keyword">begin</span></span><br><span class="line">       out = <span class="number">0</span> ;<span class="comment">//寄存器型变量在always块中初始化</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">255</span> ; i++) <span class="keyword">begin</span></span><br><span class="line">            out = out + in[i] ; </span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Generate-for-loop-1000-bit-binary-adder-2"><a href="#Generate-for-loop-1000-bit-binary-adder-2" class="headerlink" title="Generate for-loop:1000-bit binary adder 2"></a>Generate for-loop:1000-bit binary adder 2</h3><blockquote>
<p>Create a 100-bit binary ripple-carry adder by instantiating 100 <a href="https://hdlbits.01xz.net/wiki/Fadd">full adders</a>. The adder adds two 100-bit numbers and a carry-in to produce a 100-bit sum and carry out. To encourage you to actually instantiate full adders, also output the carry-out from <em>each</em> full adder in the ripple-carry adder. cout[99] is the final carry-out from the last full adder, and is the carry-out you usually see.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] cout,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] sum );</span><br><span class="line">	<span class="keyword">generate</span></span><br><span class="line">        <span class="keyword">genvar</span> i ;<span class="comment">//好像在for循环内声明genvar i 会报错</span></span><br><span class="line">        <span class="keyword">assign</span> sum[<span class="number">0</span>] = a[<span class="number">0</span>] ^ b[<span class="number">0</span>] ^ cin ;</span><br><span class="line">        <span class="keyword">assign</span> cout[<span class="number">0</span>] = a[<span class="number">0</span>] &amp; b[<span class="number">0</span>] | a[<span class="number">0</span>] &amp; cin | b[<span class="number">0</span>] &amp; cin ;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span> ; i &lt; <span class="number">100</span> ; i++) <span class="keyword">begin</span> : generate_name </span><br><span class="line">            <span class="keyword">assign</span> sum[i] = a[i] ^ b[i] ^ cout[i-<span class="number">1</span>] ;</span><br><span class="line">            <span class="keyword">assign</span> cout[i] = a[i] &amp; b[i] | a[i] &amp; cout[i-<span class="number">1</span>] | b[i] &amp; cout[i-<span class="number">1</span>] ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Generate-for-loop-100-digit-BCD-adder"><a href="#Generate-for-loop-100-digit-BCD-adder" class="headerlink" title="*Generate for-loop:100-digit BCD adder"></a>*Generate for-loop:100-digit BCD adder</h3><blockquote>
<p>You are provided with a BCD one-digit adder named <code>bcd_fadd</code> that adds two BCD digits and carry-in, and produces a sum and carry-out.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">module bcd_fadd (</span><br><span class="line">    input [3:0] a,</span><br><span class="line">    input [3:0] b,</span><br><span class="line">    input     cin,</span><br><span class="line">    output   cout,</span><br><span class="line">    output [3:0] sum );</span><br></pre></td></tr></table></figure>

<p>Instantiate 100 copies of <code>bcd_fadd</code> to create a 100-digit BCD ripple-carry adder. Your adder should add two 100-digit BCD numbers (packed into 400-bit vectors) and a carry-in to produce a 100-digit sum and carry out.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//False Verion </span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">399</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> cout,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">399</span>:<span class="number">0</span>] sum );</span><br><span class="line">    <span class="keyword">genvar</span> i , j ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">99</span>:<span class="number">0</span>] temp_cout ;</span><br><span class="line">    <span class="keyword">assign</span> cout = temp_cout[<span class="number">99</span>] ;</span><br><span class="line">    <span class="keyword">generate</span></span><br><span class="line">        bcd_fadd U0( a[<span class="number">3</span>:<span class="number">0</span>] , b[<span class="number">3</span>:<span class="number">0</span>] , cin , temp_cout[<span class="number">0</span>] , sum[<span class="number">3</span>:<span class="number">0</span>]) ;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">7</span> , j = <span class="number">0</span>; i &lt; <span class="number">400</span> ;  i = i + <span class="number">4</span> , j++) <span class="keyword">begin</span> : name </span><br><span class="line">            bcd_fadd U1( a[i:i-<span class="number">3</span>] , b[i:i-<span class="number">3</span>] , temp_cout[j] , sum[i:i-<span class="number">3</span>]) ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>报错信息：Error (10170): Verilog HDL syntax error at top_module.v(12) near text: “,”;  expecting “;”</p>
</blockquote>
<p>没有查到相关信息(先留一个坑)，猜测：<code>for-loop</code>中不能有两个<code>genvar</code>,于是不能出现<code>,</code> ,提示你要用<code>;</code></p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Right Verion </span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">399</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> cout,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">399</span>:<span class="number">0</span>] sum );</span><br><span class="line">    <span class="keyword">genvar</span> i ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">99</span>:<span class="number">0</span>] temp_cout ;</span><br><span class="line">    <span class="keyword">assign</span> cout = temp_cout[<span class="number">99</span>] ;</span><br><span class="line">    <span class="keyword">generate</span></span><br><span class="line">        bcd_fadd U0( a[<span class="number">3</span>:<span class="number">0</span>] , b[<span class="number">3</span>:<span class="number">0</span>] , cin , temp_cout[<span class="number">0</span>] , sum[<span class="number">3</span>:<span class="number">0</span>]) ;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">7</span> ; i &lt; <span class="number">400</span> ;  i = i + <span class="number">4</span> ) <span class="keyword">begin</span> : name </span><br><span class="line">            bcd_fadd U1( a[i:i-<span class="number">3</span>] , b[i:i-<span class="number">3</span>] , temp_cout[(i + <span class="number">1</span>) / <span class="number">4</span> - <span class="number">2</span>] , temp_cout[(i + <span class="number">1</span>) / <span class="number">4</span> - <span class="number">1</span>] , sum[i:i-<span class="number">3</span>]) ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p><strong>此处实现一下<code>bcd_fadd</code></strong></p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> bcd_fadd(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span> : <span class="number">0</span>] a , b ,</span><br><span class="line">    <span class="keyword">input</span> cin , </span><br><span class="line">    <span class="keyword">output</span> cout ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] sum</span><br><span class="line">) ;</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">4</span>:<span class="number">0</span>] temp ;</span><br><span class="line">    <span class="keyword">assign</span> temp = a + b + cin ;</span><br><span class="line">    <span class="keyword">assign</span> &#123;cout , sum&#125; = (temp&gt;<span class="number">9</span>) ? (temp+<span class="number">6</span>) : temp ; </span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>



<h1 id="Circuits"><a href="#Circuits" class="headerlink" title="Circuits"></a>Circuits</h1><h2 id="Combinational-Logic"><a href="#Combinational-Logic" class="headerlink" title="Combinational Logic"></a>Combinational Logic</h2><h3 id="Basic-Gates"><a href="#Basic-Gates" class="headerlink" title="Basic Gates"></a>Basic Gates</h3><h4 id="Even-longer-vectors"><a href="#Even-longer-vectors" class="headerlink" title="Even longer vectors"></a>Even longer vectors</h4><blockquote>
<p>See also the shorter version: <a href="https://hdlbits.01xz.net/wiki/gatesv">Gates and vectors</a>.</p>
<p>You are given a 100-bit input vector in[99:0]. We want to know some relationships between each bit and its neighbour:</p>
<ul>
<li><strong>out_both</strong>: Each bit of this output vector should indicate whether <em>both</em> the corresponding input bit and its neighbour to the <strong>left</strong> are ‘1’. For example, <code>out_both[98]</code> should indicate if <code>in[98]</code> and <code>in[99]</code> are both 1. Since <code>in[99]</code> has no neighbour to the left, the answer is obvious so we don’t need to know <code>out_both[99]</code>.</li>
<li><strong>out_any</strong>: Each bit of this output vector should indicate whether <em>any</em> of the corresponding input bit and its neighbour to the <strong>right</strong> are ‘1’. For example, <code>out_any[2]</code> should indicate if either <code>in[2]</code> or <code>in[1]</code> are 1. Since <code>in[0]</code> has no neighbour to the right, the answer is obvious so we don’t need to know <code>out_any[0]</code>.</li>
<li><strong>out_different</strong>: Each bit of this output vector should indicate whether the corresponding input bit is different from its neighbour to the <strong>left</strong>. For example, <code>out_different[98]</code> should indicate if <code>in[98]</code> is different from <code>in[99]</code>. For this part, treat the vector as wrapping around, so <code>in[99]</code>‘s neighbour to the left is <code>in[0]</code>.</li>
</ul>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//My vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">98</span>:<span class="number">0</span>] out_both,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">1</span>] out_any,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] out_different );</span><br><span class="line">    <span class="keyword">genvar</span> i ;</span><br><span class="line">	<span class="keyword">generate</span></span><br><span class="line">        <span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">99</span> ; i++ ) <span class="keyword">begin</span> : generate_name</span><br><span class="line">            <span class="keyword">assign</span> out_both[i] = in[i] &amp; in[i+<span class="number">1</span>] ;</span><br><span class="line">            <span class="keyword">assign</span> out_any[i+<span class="number">1</span>]= in[i+<span class="number">1</span>] | in[i] ;</span><br><span class="line">            <span class="keyword">assign</span> out_different[i] = in[i] ^ in[i+<span class="number">1</span>] ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">assign</span> out_different[<span class="number">99</span>] = in[<span class="number">99</span>] ^ in[<span class="number">0</span>] ;</span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Offical vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">98</span>:<span class="number">0</span>] out_both,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">1</span>] out_any,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] out_different );</span><br><span class="line">    <span class="keyword">assign</span> out_both = in[<span class="number">98</span>:<span class="number">0</span>] &amp; in[<span class="number">99</span>:<span class="number">1</span>] ;</span><br><span class="line">    <span class="keyword">assign</span> out_any  = in[<span class="number">99</span>:<span class="number">1</span>] | in[<span class="number">98</span>:<span class="number">0</span>] ;</span><br><span class="line">    <span class="keyword">assign</span> out_different = in ^ &#123; in[<span class="number">0</span>] , in[<span class="number">99</span>:<span class="number">1</span>] &#125; ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="Multiplexers"><a href="#Multiplexers" class="headerlink" title="Multiplexers"></a>Multiplexers</h3><h4 id="9-to-1-multiplexer"><a href="#9-to-1-multiplexer" class="headerlink" title="9-to-1 multiplexer"></a>9-to-1 multiplexer</h4><blockquote>
<p>Create a 16-bit wide, 9-to-1 multiplexer. sel&#x3D;0 chooses a, sel&#x3D;1 chooses b, etc. For the unused cases (sel&#x3D;9 to 15), set all output bits to ‘1’.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Flase vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">15</span>:<span class="number">0</span>] a, b, c, d, e, f, g, h, i,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] sel,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] out );</span><br><span class="line">    <span class="keyword">always</span> @(*)<span class="keyword">begin</span> </span><br><span class="line">    <span class="keyword">case</span>(sel)</span><br><span class="line">        <span class="number">4&#x27;b0000</span> : out = a ;</span><br><span class="line">        <span class="number">4&#x27;b0001</span> : out = b ;</span><br><span class="line">        <span class="number">4&#x27;b0010</span> : out = c ;</span><br><span class="line">        <span class="number">4&#x27;b0011</span> : out = d ;</span><br><span class="line">        <span class="number">4&#x27;b0100</span> : out = e ;</span><br><span class="line">        <span class="number">4&#x27;b0101</span> : out = f ;</span><br><span class="line">        <span class="number">4&#x27;b0110</span> : out = g ;</span><br><span class="line">        <span class="number">4&#x27;b0111</span> : out = h ;</span><br><span class="line">        <span class="number">4&#x27;b1000</span> : out = i ;</span><br><span class="line">     	<span class="keyword">default</span> : out = <span class="number">16&#x27;hFFFF</span> ;<span class="comment">//十六进制应该为4&#x27;hFFFF</span></span><br><span class="line">        <span class="comment">//踩过的坑 ： out = 1 ; out = 0xFFFF ; out = 4&#x27;hFFFF</span></span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    <span class="keyword">end</span>      </span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>



<h4 id="256-to-1-4-bit-multiplexer"><a href="#256-to-1-4-bit-multiplexer" class="headerlink" title="256-to-1 4-bit multiplexer"></a>256-to-1 4-bit multiplexer</h4><blockquote>
<p>Create a 4-bit wide, 256-to-1 multiplexer. The 256 4-bit inputs are all packed into a single 1024-bit input vector. sel&#x3D;0 should select bits <code>in[3:0]</code>, sel&#x3D;1 selects bits <code>in[7:4]</code>, sel&#x3D;2 selects bits <code>in[11:8]</code>, etc.</p>
</blockquote>
<blockquote>
<p>Hint</p>
<ul>
<li>With this many options, a case statement isn’t so useful.</li>
<li>Vector indices can be variable, as long as the synthesizer can figure out that the width of the bits being selected is constant. It’s not always good at this. An error saying “… is not a constant” means it couldn’t prove that the select width is constant. In particular, <code>in[ sel*4+3 : sel*4 ]</code> does not work. &#x2F;&#x2F; verilog 索引不支持全为变量</li>
<li>Bit slicing (“Indexed vector part select”, since Verilog-2001) has an even more compact syntax.</li>
</ul>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">1023</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] sel,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] out );</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">assign</span> out = in[sel * <span class="number">4</span> + <span class="number">3</span> : sel * <span class="number">4</span>] ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>error : sel is not a constant File ;</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//True</span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">1023</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] sel,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] out );</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">assign</span> out = in[sel * <span class="number">4</span>  +: <span class="number">4</span>] ;<span class="comment">//从sel*4向上四位</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Arithmetic-Circuits"><a href="#Arithmetic-Circuits" class="headerlink" title="Arithmetic Circuits"></a>Arithmetic Circuits</h3><h4 id="3-bit-binary-adder"><a href="#3-bit-binary-adder" class="headerlink" title="3-bit binary adder"></a>3-bit binary adder</h4><blockquote>
<p>Now that you know how to build a <a href="https://hdlbits.01xz.net/wiki/Fadd">full adder</a>, make 3 instances of it to create a 3-bit binary ripple-carry adder. The adder adds two 3-bit numbers and a carry-in to produce a 3-bit sum and carry out. To encourage you to actually instantiate full adders, also output the carry-out from <em>each</em> full adder in the ripple-carry adder. cout[2] is the final carry-out from the last full adder, and is the carry-out you usually see.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">2</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">2</span>:<span class="number">0</span>] cout,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">2</span>:<span class="number">0</span>] sum );</span><br><span class="line">    full_adder ripple_adder_1( a[<span class="number">0</span>] , b[<span class="number">0</span>] , cin , cout[<span class="number">0</span>] , sum[<span class="number">0</span>] ) ;</span><br><span class="line">    full_adder ripple_adder_2( a[<span class="number">1</span>] , b[<span class="number">1</span>] , cout[<span class="number">0</span>] , cout[<span class="number">1</span>] , sum[<span class="number">1</span>] ) ;</span><br><span class="line">    full_adder ripple_adder_3( a[<span class="number">2</span>] , b[<span class="number">2</span>] , cout[<span class="number">1</span>] , cout[<span class="number">2</span>] , sum[<span class="number">2</span>] ) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> full_adder(</span><br><span class="line">    <span class="keyword">input</span> a , b , cin , </span><br><span class="line">    <span class="keyword">output</span> cout , sum</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">assign</span> cout= a &amp; b | a &amp; cin | b &amp; cin ;</span><br><span class="line">    <span class="keyword">assign</span> sum = a ^ b ^ cin ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Signed-addition-overflow"><a href="#Signed-addition-overflow" class="headerlink" title="Signed addition overflow"></a>Signed addition overflow</h4><blockquote>
<p>Assume that you have two 8-bit 2’s complement numbers, a[7:0] and b[7:0]. These numbers are added to produce s[7:0]. Also compute whether a (signed) overflow has occurred.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Flase vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] s,</span><br><span class="line">    <span class="keyword">output</span> overflow</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">assign</span> &#123; overflow , s &#125; = a + b ;</span><br><span class="line">    <span class="comment">//注意题中的signed overflow , 并不等于进位cout</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如何检测符号溢出(<strong>signed overflow</strong>) : 符号不同，相加不会溢出  ； 符号相同，可能溢出，需要设置检测。</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//True vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a , b ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span> : <span class="number">0</span>] s ,</span><br><span class="line">    <span class="keyword">output</span> overflow</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">assign</span> s = a + b ;</span><br><span class="line">    <span class="keyword">assign</span> overflow = ( a[<span class="number">7</span>] == b[<span class="number">7</span>] ) ? (a[<span class="number">7</span>] ^ s[<span class="number">7</span>]) : <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="100-bit-binary-adder"><a href="#100-bit-binary-adder" class="headerlink" title="100-bit binary adder"></a>100-bit binary adder</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">	<span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] a,</span><br><span class="line">	<span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] b,</span><br><span class="line">	<span class="keyword">input</span> cin,</span><br><span class="line">	<span class="keyword">output</span> cout,</span><br><span class="line">	<span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] sum</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// The concatenation &#123;cout, sum&#125; is a 101-bit vector.</span></span><br><span class="line">	<span class="keyword">assign</span> &#123;cout, sum&#125; = a+b+cin;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-digit-BCD-adder"><a href="#4-digit-BCD-adder" class="headerlink" title="4-digit BCD adder"></a>4-digit BCD adder</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module ( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">15</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> cout,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">15</span>:<span class="number">0</span>] sum );</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">2</span>:<span class="number">0</span>] temp_cout ;</span><br><span class="line">    bcd_fadd U0 ( a[<span class="number">3</span>:<span class="number">0</span>] , b[<span class="number">3</span>:<span class="number">0</span>] , cin ,  temp_cout[<span class="number">0</span>] , sum[<span class="number">3</span>:<span class="number">0</span>] ) ;</span><br><span class="line">    bcd_fadd U1 ( a[<span class="number">7</span>:<span class="number">4</span>] , b[<span class="number">7</span>:<span class="number">4</span>] , temp_cout[<span class="number">0</span>] ,  temp_cout[<span class="number">1</span>] , sum[<span class="number">7</span>:<span class="number">4</span>] ) ;</span><br><span class="line">    bcd_fadd U2 ( a[<span class="number">11</span>:<span class="number">8</span>] , b[<span class="number">11</span>:<span class="number">8</span>] , temp_cout[<span class="number">1</span>] ,  temp_cout[<span class="number">2</span>] , sum[<span class="number">11</span>:<span class="number">8</span>] ) ;</span><br><span class="line">    bcd_fadd U3 ( a[<span class="number">15</span>:<span class="number">12</span>] , b[<span class="number">15</span>:<span class="number">12</span>] , temp_cout[<span class="number">2</span>] ,  cout , sum[<span class="number">15</span>:<span class="number">12</span>] ) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Karnaugh-Map-to-Citcuit"><a href="#Karnaugh-Map-to-Citcuit" class="headerlink" title="Karnaugh Map to Citcuit"></a>Karnaugh Map to Citcuit</h3><h4 id="3-variable"><a href="#3-variable" class="headerlink" title="3-variable"></a>3-variable</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">	<span class="keyword">input</span> a, </span><br><span class="line">	<span class="keyword">input</span> b,</span><br><span class="line">	<span class="keyword">input</span> c,</span><br><span class="line">	<span class="keyword">output</span> out</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// SOP form: Three prime implicants (1 term each), summed.</span></span><br><span class="line">	<span class="comment">// POS form: One prime implicant (of 3 terms)</span></span><br><span class="line">	<span class="comment">// In this particular case, the result is the same for both SOP and POS.</span></span><br><span class="line">    <span class="comment">// it&#x27;s easier by using SOP</span></span><br><span class="line">	<span class="keyword">assign</span> out = (a | b | c);</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-variable"><a href="#4-variable" class="headerlink" title="4-variable"></a>4-variable</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out  ); </span><br><span class="line">    <span class="keyword">assign</span> out = (!b &amp; !c) | (!a &amp; !d) | (!a &amp; b &amp; c) | (a &amp; c &amp; d)  ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-variable-1"><a href="#4-variable-1" class="headerlink" title="4-variable"></a>4-variable</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out  ); </span><br><span class="line">    <span class="keyword">assign</span> out = a | (!b &amp; c) ;</span><br><span class="line">    <span class="comment">//用0去算！f更简单</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-variable-2"><a href="#4-variable-2" class="headerlink" title="4-variable"></a>4-variable</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Stupid vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out  ); </span><br><span class="line">    <span class="keyword">assign</span> out = (!a &amp; !b) &amp; (c ^ d) | (!a &amp; b) &amp; !(c ^ d) | a &amp; b &amp; (c ^ d) | (a &amp; !b) &amp; !(c ^ d);</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Wise vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out  ); </span><br><span class="line">	<span class="keyword">assign</span> out = a ^ b ^ c ^ d ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p><strong>如果会奇偶校验便能一眼看出：<code>abcd</code>中有奇数个<code>1</code>，卡诺图为<code>1</code> .反之为<code>0</code>.</strong></p>
<h4 id="Minimum-SOP-and-POS"><a href="#Minimum-SOP-and-POS" class="headerlink" title="Minimum SOP and POS"></a>Minimum SOP and POS</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out_sop,</span><br><span class="line">    <span class="keyword">output</span> out_pos</span><br><span class="line">); </span><br><span class="line">	<span class="keyword">assign</span> out_sop = c &amp; d | !a &amp; !b &amp; c ;</span><br><span class="line">    <span class="keyword">assign</span> out_pos = c &amp; (!a | b) &amp; (!b | d) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Karnaugh-map"><a href="#Karnaugh-map" class="headerlink" title="Karnaugh map"></a>Karnaugh map</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">4</span>:<span class="number">1</span>] x, </span><br><span class="line">    <span class="keyword">output</span> f );</span><br><span class="line">    <span class="keyword">assign</span> f = !x[<span class="number">1</span>] &amp; x[<span class="number">3</span>] | x[<span class="number">1</span>] &amp; x[<span class="number">2</span>] &amp; !x[<span class="number">3</span>] ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Karnaugh-map-1"><a href="#Karnaugh-map-1" class="headerlink" title="Karnaugh map"></a>Karnaugh map</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">4</span>:<span class="number">1</span>] x,</span><br><span class="line">    <span class="keyword">output</span> f</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">assign</span> f = (x[<span class="number">3</span>] | !x[<span class="number">4</span>]) &amp; (!x[<span class="number">2</span>] | x[<span class="number">3</span>] | x[<span class="number">4</span>]) &amp; (!x[<span class="number">1</span>] | x[<span class="number">2</span>] | !x[<span class="number">4</span>]) &amp; (!x[<span class="number">1</span>] | !x[<span class="number">2</span>] | x[<span class="number">4</span>]) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="K-map-implemented-with-a-multiplexer"><a href="#K-map-implemented-with-a-multiplexer" class="headerlink" title="K-map implemented with a multiplexer"></a>K-map implemented with a multiplexer</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] mux_in</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">always</span> @(*)<span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">case</span>( &#123; c , d &#125; )</span><br><span class="line">            <span class="number">2&#x27;b00</span> : mux_in = <span class="number">4&#x27;b0100</span> ;</span><br><span class="line">            <span class="number">2&#x27;b01</span> : mux_in = <span class="number">4&#x27;b0001</span> ;</span><br><span class="line">            <span class="number">2&#x27;b11</span> : mux_in = <span class="number">4&#x27;b1001</span> ;</span><br><span class="line">            <span class="number">2&#x27;b10</span> : mux_in = <span class="number">4&#x27;b0101</span> ;</span><br><span class="line">            <span class="keyword">default</span> : mux_in = <span class="number">4&#x27;b0000</span> ;</span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Sequential-Logic"><a href="#Sequential-Logic" class="headerlink" title="Sequential Logic"></a>Sequential Logic</h2><h3 id="Latches-and-Flip-Flops"><a href="#Latches-and-Flip-Flops" class="headerlink" title="Latches and Flip-Flops"></a>Latches and Flip-Flops</h3><h4 id="DFFs-and-gates"><a href="#DFFs-and-gates" class="headerlink" title="*DFFs and gates"></a>*DFFs and gates</h4><p>concise solution :</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> x,</span><br><span class="line">    <span class="keyword">output</span> z</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>] Q ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        Q[<span class="number">0</span>] &lt;= x ^ Q[<span class="number">0</span>] ;</span><br><span class="line">        Q[<span class="number">1</span>] &lt;= x &amp; ~Q[<span class="number">1</span>] ;</span><br><span class="line">        Q[<span class="number">2</span>] &lt;= x | ~Q[<span class="number">2</span>] ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">assign</span> z = ~ (|Q) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>my solution</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> x,</span><br><span class="line">    <span class="keyword">output</span> z</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">2</span>:<span class="number">0</span>] Q ;</span><br><span class="line">    DFF_ U0( <span class="variable">.clk</span>(clk) , <span class="variable">.d</span>(x ^ Q[<span class="number">0</span>]) , <span class="variable">.q</span>(Q[<span class="number">0</span>]) ) ;</span><br><span class="line">    DFF_ U1( <span class="variable">.clk</span>(clk) , <span class="variable">.d</span>(x &amp; ~Q[<span class="number">1</span>]) , <span class="variable">.q</span>(Q[<span class="number">1</span>]) ) ;</span><br><span class="line">    DFF_ U2( <span class="variable">.clk</span>(clk) , <span class="variable">.d</span>(x | ~Q[<span class="number">2</span>]) , <span class="variable">.q</span>(Q[<span class="number">2</span>]) ) ;</span><br><span class="line">    <span class="keyword">assign</span> z = ~ (| Q ) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> DFF_(</span><br><span class="line">    <span class="keyword">input</span> clk , d ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> q</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       q &lt;= d ; </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Detect-an-edge"><a href="#Detect-an-edge" class="headerlink" title="*Detect an edge"></a>*Detect an edge</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] pedge</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] last_in ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       last_in &lt;= in ;</span><br><span class="line">       pedge &lt;= ~last_in &amp; in ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Detect-both-edges"><a href="#Detect-both-edges" class="headerlink" title="*Detect both edges"></a>*Detect both edges</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] anyedge</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] last_in ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       last_in &lt;= in ;</span><br><span class="line">       anyedge &lt;= last_in ^ in ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Edge-capture-register"><a href="#Edge-capture-register" class="headerlink" title="*Edge capture register"></a>*Edge capture register</h4><p>&#x3D;&#x3D;Tips&#x3D;&#x3D; : After clk’s change from 1 to 0 , register q &#x3D; 1 . And then , q is still <code>1</code>  until <code>reset = 1</code> ; </p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">31</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">31</span>:<span class="number">0</span>] out</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">integer</span> i ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">31</span>:<span class="number">0</span>] last_in ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       last_in &lt;= in ;</span><br><span class="line">        <span class="keyword">if</span>(reset) out &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">for</span>(i = <span class="number">0</span> ; i &lt; <span class="number">32</span> ; i++)</span><br><span class="line">                out[i] &lt;= last_in[i] &amp; ~in[i] ? <span class="number">1</span> : out[i] ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;My error solution&#x3D;&#x3D;</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">31</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">31</span>:<span class="number">0</span>] out</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">integer</span> i ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">31</span>:<span class="number">0</span>] last_in ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       last_in &lt;= in ;</span><br><span class="line">        <span class="keyword">if</span>(reset) out &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            <span class="comment">////////////////////////</span></span><br><span class="line">            out &lt;= last_in &amp; ~in ;</span><br><span class="line">            <span class="comment">///////////////////////</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Dual-edge-triggered-filp-flop"><a href="#Dual-edge-triggered-filp-flop" class="headerlink" title="*Dual-edge triggered filp-flop"></a>*Dual-edge triggered filp-flop</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> q</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">reg</span> q0 , q1 ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       q0 &lt;= d ; </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">negedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       q1 &lt;= d ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">assign</span> q = clk ? q0 : q1 ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="Counters"><a href="#Counters" class="headerlink" title="Counters"></a>Counters</h3><h4 id="Counter-1-12"><a href="#Counter-1-12" class="headerlink" title="*Counter 1-12"></a>*Counter 1-12</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">input</span> enable,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] Q,</span><br><span class="line">    <span class="keyword">output</span> c_enable,</span><br><span class="line">    <span class="keyword">output</span> c_load,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] c_d</span><br><span class="line">); <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    count4 the_counter (clk, c_enable, c_load, c_d , Q);</span><br><span class="line">    <span class="keyword">assign</span> c_enable = enable ;</span><br><span class="line">    <span class="keyword">assign</span> c_load = (Q == <span class="number">12</span> &amp;&amp; enable) || reset ? <span class="number">1</span> : <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">assign</span> c_d = <span class="number">4&#x27;b0001</span> ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>**Count4.v **</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> count4(</span><br><span class="line">    <span class="keyword">input</span> clk , </span><br><span class="line">    <span class="keyword">input</span> enable ,</span><br><span class="line">    <span class="keyword">input</span> load ,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] d ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] Q</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(load)    Q &lt;= d ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(enable) Q &lt;= Q + <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Counter-1000"><a href="#Counter-1000" class="headerlink" title="Counter 1000"></a>Counter 1000</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//make sure OneHertz turn into 1 once time every 1000 clk.即分频器，1000Hz转1Hz</span></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">output</span> OneHertz,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">2</span>:<span class="number">0</span>] c_enable</span><br><span class="line">); <span class="comment">//</span></span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">11</span>:<span class="number">0</span>] Q ;</span><br><span class="line">    <span class="keyword">assign</span> &#123;OneHertz , c_enable&#125; = &#123; (Q[<span class="number">11</span>:<span class="number">0</span>] == <span class="number">12&#x27;h999</span>) , (Q[<span class="number">7</span>:<span class="number">0</span>] == <span class="number">8&#x27;h99</span>) ,(Q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>) , <span class="number">1&#x27;b1</span> &#125; ; </span><br><span class="line">    bcdcount counter0 (clk, reset, c_enable[<span class="number">0</span>] , Q[<span class="number">3</span>:<span class="number">0</span>]);</span><br><span class="line">    bcdcount counter1 (clk, reset, c_enable[<span class="number">1</span>] , Q[<span class="number">7</span>:<span class="number">4</span>]);</span><br><span class="line">    bcdcount counter2 (clk, reset, c_enable[<span class="number">2</span>] , Q[<span class="number">11</span>:<span class="number">8</span>]);</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-digit-decimal-counter"><a href="#4-digit-decimal-counter" class="headerlink" title="4-digit decimal counter"></a>4-digit decimal counter</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,   <span class="comment">// Synchronous active-high reset</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">1</span>] ena,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] q);</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">assign</span> ena = &#123;  (q[<span class="number">11</span>:<span class="number">0</span>] == <span class="number">12&#x27;h999</span>) , (q[<span class="number">7</span>:<span class="number">0</span>] == <span class="number">8&#x27;h99</span>) , (q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>) &#125; ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset) q &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            q[<span class="number">3</span>:<span class="number">0</span>] &lt;= (q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : (q[<span class="number">3</span>:<span class="number">0</span>] + <span class="number">1</span>) ;</span><br><span class="line">            <span class="keyword">if</span>(ena[<span class="number">1</span>])	q[<span class="number">7</span>:<span class="number">4</span>] &lt;= (q[<span class="number">7</span>:<span class="number">4</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : (q[<span class="number">7</span>:<span class="number">4</span>] + <span class="number">1</span> ) ;</span><br><span class="line">            <span class="keyword">if</span>(ena[<span class="number">2</span>])	q[<span class="number">11</span>:<span class="number">8</span>] &lt;= (q[<span class="number">11</span>:<span class="number">8</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : (q[<span class="number">11</span>:<span class="number">8</span>] + <span class="number">1</span> ) ;</span><br><span class="line">            <span class="keyword">if</span>(ena[<span class="number">3</span>])	q[<span class="number">15</span>:<span class="number">12</span>] &lt;= (q[<span class="number">15</span>:<span class="number">12</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : (q[<span class="number">15</span>:<span class="number">12</span>] + <span class="number">1</span> ) ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">endmodule</span> </span><br></pre></td></tr></table></figure>

<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//another solution , Init module</span></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,   <span class="comment">// Synchronous active-high reset</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">1</span>] ena,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] q);</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> en0 ;</span><br><span class="line">    <span class="keyword">assign</span> &#123;ena , en0&#125; = &#123; q[<span class="number">11</span>:<span class="number">0</span>] == <span class="number">12&#x27;h999</span> , q[<span class="number">7</span>:<span class="number">0</span>] == <span class="number">8&#x27;h99</span> , q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>, <span class="number">1&#x27;b1</span>&#125; ;</span><br><span class="line">    counter10 U0(clk , reset , en0    , q[<span class="number">3</span>:<span class="number">0</span>]) ;</span><br><span class="line">    counter10 U1(clk , reset , ena[<span class="number">1</span>] , q[<span class="number">7</span>:<span class="number">4</span>]) ;</span><br><span class="line">    counter10 U2(clk , reset , ena[<span class="number">2</span>] , q[<span class="number">11</span>:<span class="number">8</span>]) ;</span><br><span class="line">    counter10 U3(clk , reset , ena[<span class="number">3</span>] , q[<span class="number">15</span>:<span class="number">12</span>]) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> counter10(</span><br><span class="line">    <span class="keyword">input</span> clk ,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">input</span> ena ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] out </span><br><span class="line">);</span><br><span class="line">    <span class="comment">//assign reset = (out == 9) ;</span></span><br><span class="line">    <span class="keyword">always</span>@(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset)	out &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ena) out &lt;= (out == <span class="number">9</span>) ? <span class="number">0</span> : out + <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="12-hour-clock"><a href="#12-hour-clock" class="headerlink" title="12-hour clock"></a>12-hour clock</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> clk ,</span><br><span class="line">    <span class="keyword">input</span> reset ,</span><br><span class="line">    <span class="keyword">input</span> ena ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> pm ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] hh,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] mm,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] ss</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">1</span>:<span class="number">0</span>] carry ;</span><br><span class="line">    counter60 ss0(clk , reset , ena , carry[<span class="number">0</span>] , ss[<span class="number">7</span>:<span class="number">0</span>]) ;</span><br><span class="line">    counter60 mm0(clk , reset , carry[<span class="number">0</span>] , carry[<span class="number">1</span>] , mm[<span class="number">7</span>:<span class="number">0</span>]) ;</span><br><span class="line">    counter12 hh0(clk , reset , carry[<span class="number">1</span>] &amp;&amp; carry[<span class="number">0</span>] , pm       , hh[<span class="number">7</span>:<span class="number">0</span>]) ;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> counter60(</span><br><span class="line">    <span class="keyword">input</span> clk ,</span><br><span class="line">    <span class="keyword">input</span> reset ,</span><br><span class="line">    <span class="keyword">input</span> en ,</span><br><span class="line">    <span class="keyword">output</span> carry ,<span class="comment">//carry = 1 when Q = 8&#x27;h59 , which means carry out .</span></span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] Q</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">assign</span> carry = (Q == <span class="number">8&#x27;h59</span>) ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)   <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset)   Q &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(en) <span class="keyword">begin</span></span><br><span class="line">            Q[<span class="number">3</span>:<span class="number">0</span>] &lt;= (Q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : Q[<span class="number">3</span>:<span class="number">0</span>] + <span class="number">1</span> ;</span><br><span class="line">            <span class="keyword">if</span>(Q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>)  Q[<span class="number">7</span>:<span class="number">4</span>] &lt;= (Q[<span class="number">7</span>:<span class="number">4</span>] == <span class="number">4&#x27;h5</span>) ? <span class="number">0</span> : Q[<span class="number">7</span>:<span class="number">4</span>] + <span class="number">1</span> ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> counter12(</span><br><span class="line">    <span class="keyword">input</span> clk ,</span><br><span class="line">    <span class="keyword">input</span> reset ,</span><br><span class="line">    <span class="keyword">input</span> en ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> pm ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] Q  </span><br><span class="line">);</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)   <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset)   Q &lt;= <span class="number">8&#x27;b0001_0010</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(en) <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">case</span>(Q[<span class="number">3</span>:<span class="number">0</span>]) </span><br><span class="line">                <span class="number">4&#x27;b1001</span> : Q[<span class="number">7</span>:<span class="number">0</span>] &lt;= <span class="number">8&#x27;b0001_0000</span> ;</span><br><span class="line">                <span class="number">4&#x27;b0010</span> : <span class="keyword">begin</span></span><br><span class="line">                    <span class="keyword">if</span>(Q[<span class="number">7</span>:<span class="number">4</span>] == <span class="number">4&#x27;h1</span>)  Q &lt;= <span class="number">8&#x27;h01</span> ;</span><br><span class="line">                    <span class="keyword">else</span>    Q[<span class="number">3</span>:<span class="number">0</span>] &lt;= Q[<span class="number">3</span>:<span class="number">0</span>] + <span class="number">1</span> ;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">                <span class="keyword">default</span> : Q[<span class="number">3</span>:<span class="number">0</span>] &lt;= Q[<span class="number">3</span>:<span class="number">0</span>] + <span class="number">1</span> ;</span><br><span class="line">            <span class="keyword">endcase</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)   <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset)   pm &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(en &amp;&amp; Q[<span class="number">7</span>:<span class="number">0</span>] == <span class="number">8&#x27;h11</span>)  pm &lt;= ~pm ;</span><br><span class="line">        <span class="keyword">else</span> pm &lt;= pm ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>







<h2 id="Some-worthwhile-retry-practice"><a href="#Some-worthwhile-retry-practice" class="headerlink" title="Some worthwhile retry practice ;"></a>Some worthwhile retry practice ;</h2><ul>
<li><a href="https://hdlbits.01xz.net/wiki/edgedetect">Detect an edge</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/edgedetect2">Detect both edges</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/edgecapture">Edge capture register</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/dualedge">Dual-edge triggered flip-flop</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Countslow">Slow decade counter</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Exams/ece241_2014_q7a">Counter 1-12</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Exams/ece241_2014_q7b">Counter 1000</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Countbcd">4-digit decimal counter</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Count_clock">12-hour clock</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Exams/ece241_2013_q12">3-input LUT</a></li>
</ul>
]]></content>
      <tags>
        <tag>IC</tag>
      </tags>
  </entry>
  <entry>
    <title>centos学习笔记</title>
    <url>/posts/d2783502/</url>
    <content><![CDATA[<p>……</p>
<span id="more"></span>

<h3 id="强制修改密码"><a href="#强制修改密码" class="headerlink" title="强制修改密码"></a>强制修改密码</h3><p>如果将密码修改得很简单，<code>centos</code>会拒绝修改，可以如下强制修改：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo su</span><br><span class="line"><span class="comment"># echo &lt;password&gt; | passwd --stdin &lt;username&gt; </span></span><br></pre></td></tr></table></figure>

<p><a href="https://blog.csdn.net/chy555chy/article/details/112258353#:~:text=1%20%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%EF%BC%9A%20useradd,%3C%E7%94%A8%E6%88%B7%E5%90%8D%3E%202%20%E4%BF%AE%E6%94%B9%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%EF%BC%88%E5%AD%98%E5%9C%A8%E5%AE%89%E5%85%A8%E6%80%A7%E6%A0%A1%E9%AA%8C%EF%BC%89%EF%BC%9A%20passwd">Link</a></p>
<h3 id="重定向cd"><a href="#重定向cd" class="headerlink" title="重定向cd"></a>重定向cd</h3><p>在 CentOS 系统中，如果您希望在每次使用 <code>cd</code> 命令进入目录后不自动列出所有文件，可以通过修改 Bash 配置文件来实现。</p>
<p>您可以通过编辑用户的 <code>.bashrc</code> 或全局的 <code>/etc/profile</code> 文件来达到目的。请按照以下步骤操作：</p>
<ol>
<li><p>打开终端。</p>
</li>
<li><p>输入 <code>vi ~/.bashrc</code> 来编辑当前用户的 <code>.bashrc</code> 文件；或者使用 <code>vi /etc/profile</code> 来编辑全局的配置文件，这需要管理员权限（sudo）。</p>
</li>
<li><p>在文件末尾添加以下行：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">alias cd=&#x27;cd &gt;/dev/null 2&gt;&amp;1&#x27;</span><br></pre></td></tr></table></figure>
</li>
<li><p>保存并退出编辑器。如果是编辑的 <code>/etc/profile</code>，为了使更改立即生效，需要运行 <code>source /etc/profile</code> 或重新登录。<strong>有时<code>etc/profile</code>未生效，cd进入目录仍会<code>ls</code> , 这时重新<code>source /etc/profile</code>即可。</strong></p>
</li>
</ol>
<p>这样设置后，每次使用 <code>cd</code> 命令切换目录时，不会自动执行 <code>ls</code> 命令，从而不会显示目录下的文件列表。</p>
<p>请注意，上述方法会将 <code>cd</code> 命令的输出重定向到 <code>/dev/null</code>，这意味着即使 <code>cd</code> 命令有输出（通常不会有），也不会在终端上显示。如果您希望恢复默认的行为，只需删除或者注释掉 <code>.bashrc</code> 或 <code>/etc/profile</code> 文件中添加的那行别名配置即可。</p>
<h3 id="CentOS-7安装最新版git"><a href="#CentOS-7安装最新版git" class="headerlink" title="CentOS 7安装最新版git"></a>CentOS 7安装最新版git</h3><p>安装<a href="https://ius.io/setup">ius-release</a> </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">yum install \</span></span><br><span class="line"><span class="language-bash">https://repo.ius.io/ius-release-el7.rpm \</span></span><br><span class="line"><span class="language-bash">https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span></span><br></pre></td></tr></table></figure>

<p>查看git版本：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">yum provides git</span></span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.aliyun.com</span><br><span class="line"> * epel: mirror.nyist.edu.cn</span><br><span class="line"> * extras: mirrors.aliyun.com</span><br><span class="line"> * updates: mirrors.aliyun.com</span><br><span class="line">git-1.8.3.1-23.el7_8.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : base</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git-1.8.3.1-24.el7_9.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : updates</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git-1.8.3.1-25.el7_9.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : updates</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git236-2.36.5-1.el7.ius.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : ius</span><br><span class="line">Matched from:</span><br><span class="line">Provides    : git = 2.36.5-1.el7.ius</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git236-2.36.6-1.el7.ius.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : ius</span><br><span class="line">Matched from:</span><br><span class="line">Provides    : git = 2.36.6-1.el7.ius</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git236-2.36.6-1.el7.ius.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : @ius</span><br><span class="line">Matched from:</span><br><span class="line">Provides    : git = 2.36.6-1.el7.ius</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>安装git2.36:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">yum remove git -y <span class="comment">#卸载老版本</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">yum install git236 -y</span></span><br></pre></td></tr></table></figure>

<p>查看新版本</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git --version</span></span><br><span class="line">git version 2.36.6</span><br></pre></td></tr></table></figure>

<h3 id="CentOS-7-多版本gcc"><a href="#CentOS-7-多版本gcc" class="headerlink" title="CentOS 7 多版本gcc"></a>CentOS 7 多版本gcc</h3><p>担心<code>VCS</code>,<code>verdi</code>不兼容高版本<code>gcc</code> (现在vcs,verdi使用gcc-4.8编译) ， 想在centos上安装多个版本gcc，查询资料，决定用<code>Software Collections (SCL)</code>来管理多版本gcc。(SCL类似于anaconda)</p>
<ol>
<li><p>安装centos-release-scl</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo yum install centos-release-scl</span> </span><br></pre></td></tr></table></figure>
</li>
<li><p>安装特定版本的<code>devtoolset</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum install devtoolset-10-gcc*</span><br></pre></td></tr></table></figure>

<p>这里安装的是gcc-10.x版本，如果要安装其他版本的GCC，只需将<code>devtoolset-10</code>替换为相应的版本号，如<code>devtoolset-7</code>。</p>
</li>
<li><p>激活特定的devtoolset版本</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -v 2&gt;&amp;1 | <span class="built_in">tail</span> -n 1 <span class="comment">#激活前版本</span></span></span><br><span class="line">gcc version 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">scl <span class="built_in">enable</span> devtoolset-10 bash <span class="comment">#激活</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -v 2&gt;&amp;1 | <span class="built_in">tail</span> -n 1</span></span><br><span class="line">gcc version 10.2.1 20210130 (Red Hat 10.2.1-11) (GCC) </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">exit</span> <span class="comment">#退出当前版本</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -v 2&gt;&amp;1 | <span class="built_in">tail</span> -n 1</span> </span><br><span class="line">gcc version 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意，scl激活只对当前终端有效，其他终端仍是默认版本。这种方法不需要手动下载源码编译，而是通过SCL来提供和管理系统范围内的不同版本的工具链。</p>
</li>
</ol>
<h3 id="pip安装太慢"><a href="#pip安装太慢" class="headerlink" title="pip安装太慢"></a>pip安装太慢</h3><p>pip安装太慢，使用其他镜像安装：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple numpy</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="CentOS7-美化"><a href="#CentOS7-美化" class="headerlink" title="CentOS7 美化"></a>CentOS7 美化</h3><p>参考<a href="https://zhuanlan.zhihu.com/p/68845973">文章</a></p>
<h3 id="初试Tmux"><a href="#初试Tmux" class="headerlink" title="初试Tmux"></a>初试Tmux</h3><p>参考链接<a href="https://www.bilibili.com/video/BV1Mj411N7xS/?spm_id_from=333.337.search-card.all.click&vd_source=da5120fea3f8bb8d2fe1984a02a9a745">Tmux新手教学</a>       <a href="https://github.com/bryant-video/tmux-tutorial">bryant-video&#x2F;tmux-tutorial</a></p>
<p>配置文件<code>~/.tmux.conf</code>:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">unbind %</span><br><span class="line">bind | split-window -h -c &quot;#&#123;pane_current_path&#125;&quot;</span><br><span class="line"></span><br><span class="line">unbind &#x27;&quot;&#x27;</span><br><span class="line">bind - split-window -v -c &quot;#&#123;pane_current_path&#125;&quot;</span><br><span class="line"></span><br><span class="line">unbind r</span><br><span class="line">bind r source-file ~/.tmux.conf</span><br><span class="line"></span><br><span class="line">bind -r j resize-pane -D 5</span><br><span class="line">bind -r k resize-pane -U 5</span><br><span class="line">bind -r l resize-pane -R 5</span><br><span class="line">bind -r h resize-pane -L 5</span><br><span class="line">bind -r m resize-pane -Z</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">set -g mouse on</span><br><span class="line">set -g mode-keys vi</span><br><span class="line">set -sg escape-time 10 # make delay shorter</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## Copy Mode</span></span></span><br><span class="line">bind-key -T copy-mode-vi &#x27;v&#x27; send -X begin-selection # start selecting text with &quot;v&quot;</span><br><span class="line">bind-key -T copy-mode-vi &#x27;y&#x27; send -X copy-selection # copy text with &quot;y&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## Plugins</span></span> </span><br><span class="line">set -g @plugin &#x27;tmux-plugins/tpm&#x27;</span><br><span class="line"></span><br><span class="line">set -g @plugin &#x27;christoomey/vim-tmux-navigator&#x27;</span><br><span class="line">set -g @plugin &#x27;jimeh/tmux-themepack&#x27;</span><br><span class="line">set -g @plugin &#x27;tmux-plugins/tmux-resurrect&#x27; # persist tmux sessions after computer restart</span><br><span class="line">set -g @plugin &#x27;tmux-plugins/tmux-continuum&#x27; # automatically saves sessions for you every 15 minutes</span><br><span class="line"></span><br><span class="line">set -g @resurrect-capture-pane-contents &#x27;on&#x27;</span><br><span class="line">set -g @continuum-restore &#x27;on&#x27;</span><br><span class="line">run &#x27;~/.tmux/plugins/tpm/tpm&#x27; # Initialize TPM</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>tmux new -s &lt;session name&gt;</code></td>
<td align="center">create a new tmux session</td>
</tr>
<tr>
<td align="center">tmux a -t <code>[Session Name]</code></td>
<td align="center">attach to an existing session</td>
</tr>
<tr>
<td align="center">tmux kill-session -t <code>[Session Name]</code></td>
<td align="center">Delete a specific Session</td>
</tr>
<tr>
<td align="center">tmux detach</td>
<td align="center">detach current session</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + &#96;</td>
<td align="center">&#96;</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>-</code></td>
<td align="center">Split windows up and down</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>↑↓←→</code></td>
<td align="center">switch panne</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>jkhl</code></td>
<td align="center">Resize pane</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>m</code></td>
<td align="center">Maximize&#x2F;Unmaximize current pane</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>c</code></td>
<td align="center">create window</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>,</code></td>
<td align="center">Rename current active window</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>&amp;</code></td>
<td align="center">Kill current window</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>n</code> or <code>p</code></td>
<td align="center">Next&#x2F;Previous window</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>w</code></td>
<td align="center">List all Sessions and windows</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>,</code></td>
<td align="center">Rename current active window</td>
</tr>
<tr>
<td align="center"><code>prefix</code>+<code>x</code></td>
<td align="center">delete current pane</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p>在<code>tmux</code>中，选择文本时需要按住<code>shift</code> , 用<code>ctrl+shift+c</code>复制，<code>ctrl+shift+v</code>粘贴</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Character</span><br><span class="line">You are a scientist who is proficient in computer science, physics, and is able to explain all relevant problems in detail, with pictures and texts</span><br><span class="line"></span><br><span class="line">## Skills</span><br><span class="line">### Skill 1: Proficient in Computer Science</span><br><span class="line">- Proficient in all programming languages such as C/C++, Rust,Python,Systemverilog,Java, etc</span><br><span class="line">- You can search for information from Github and stackoverflow to answer programming related questions</span><br><span class="line"></span><br><span class="line">### Skill 2: Proficient in physics</span><br><span class="line">- Proficient in solid state physics, semiconductor physics, semiconductor device physics, and quantum mechanics</span><br><span class="line">- Able to combine formulas and graphs to explain physics problems</span><br><span class="line"></span><br><span class="line">.</span><br><span class="line"></span><br><span class="line">## Constraints:</span><br><span class="line">- Output your answers in markdown format</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>#linux</p>
]]></content>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>python调试工具pdb</title>
    <url>/posts/9e73dd3c/</url>
    <content><![CDATA[<p><code>pdb</code>是一个内置于<code>Python</code>的调试工具，使用方法与<code>gdb</code>类似。</p>
<span id="more"></span>

<ul>
<li>启动</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python -m pdb test.py</span><br></pre></td></tr></table></figure>

<ul>
<li>步进</li>
</ul>
<p>不同于<code>gdb</code>需要输入<code>start</code>开始运行，进入<code>pdb</code>后程序已经开始运行。</p>
<p><code>l</code>: list 列出源码</p>
<p><code>ll</code>: list all</p>
<p>回车重复上一条命令</p>
<p><code>n</code>: next下一步</p>
<p><code>s</code>: step下一步，可进入函数</p>
<ul>
<li>断点</li>
</ul>
<p><code>b &lt;linenum&gt;</code>: 在第<code>linenum</code>行设置断点</p>
<p><code>b</code>:输出所有断点信息</p>
<p><code>disable &lt;Num&gt;</code>:禁用断点</p>
<p><code>c</code>: continue持续运行程序，直到断点</p>
<ul>
<li>打印</li>
</ul>
<p><code>whatis &lt;variable&gt;</code>查看变量属性</p>
<p><code>p &lt;variable&gt;</code>打印变量</p>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>notes_of_acwing</title>
    <url>/posts/830bf4be/</url>
    <content><![CDATA[<p>……</p>
<span id="more"></span>

<h1 id="一、基础算法"><a href="#一、基础算法" class="headerlink" title="一、基础算法"></a>一、基础算法</h1><h2 id="快排"><a href="#快排" class="headerlink" title="快排"></a>快排</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick_sort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;q , <span class="type">int</span> l , <span class="type">int</span> r )</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r)   <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> i = l - <span class="number">1</span> , j = r + <span class="number">1</span> , x = q[(l+r)&gt;&gt;<span class="number">1</span>] ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        <span class="keyword">do</span> i++ ; <span class="keyword">while</span>(q[i] &lt; x) ;</span><br><span class="line">        <span class="keyword">do</span> j-- ; <span class="keyword">while</span>(q[j] &gt; x) ;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; j)   std::<span class="built_in">swap</span>(q[i] , q[j]) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">quick_sort</span>(q , l , j) ;</span><br><span class="line">    <span class="built_in">quick_sort</span>(q , j+<span class="number">1</span> , r) ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="快速选择-第k个数"><a href="#快速选择-第k个数" class="headerlink" title="快速选择(第k个数)"></a>快速选择(第k个数)</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">quick_sort</span><span class="params">(<span class="type">int</span> *q , <span class="type">int</span> l , <span class="type">int</span> r , <span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r)  <span class="keyword">return</span> q[l];</span><br><span class="line">    <span class="type">int</span> i = l - <span class="number">1</span> , j = r + <span class="number">1</span> , x = q[(l+r)&gt;&gt;<span class="number">1</span>] ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        <span class="keyword">do</span> i++ ; <span class="keyword">while</span>(q[i] &lt; x) ;</span><br><span class="line">        <span class="keyword">do</span> j-- ; <span class="keyword">while</span>(q[j] &gt; x) ;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; j) std::<span class="built_in">swap</span>(q[i] , q[j]) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k &lt;= (j - l + <span class="number">1</span>))    <span class="keyword">return</span> <span class="built_in">quick_sort</span>(q , l , j , k) ;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">quick_sort</span>(q , j+<span class="number">1</span> , r , k - (j - l + <span class="number">1</span>)) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/kth-largest-element-in-an-array/description/">215. 数组中的第K个最大元素 - 力扣（LeetCode）</a></p>
<h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h2><p><strong>分治思想</strong></p>
<p><img src = "https://pic.leetcode-cn.com/1614274007-nBQbZZ-Picture1.png"></img></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line"><span class="type">int</span> q[N] ;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> *q , <span class="type">int</span> l , <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r)  <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span> , i = l , j = mid + <span class="number">1</span> ;</span><br><span class="line">    <span class="built_in">merge_sort</span>(q , l , mid) ;</span><br><span class="line">    <span class="built_in">merge_sort</span>(q , mid+<span class="number">1</span> , r) ;</span><br><span class="line">    <span class="type">int</span> temp[r-l+<span class="number">1</span>] , k = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r)&#123;</span><br><span class="line">        <span class="keyword">if</span>(q[i] &lt; q[j]) temp[k++] = q[i++] ;</span><br><span class="line">        <span class="keyword">else</span> temp[k++] = q[j++] ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid) temp[k++] = q[i++] ;</span><br><span class="line">    <span class="keyword">while</span>(j &lt;= r)   temp[k++] = q[j++] ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = l , j = <span class="number">0</span> ; i &lt;= r ; i++ , j++) </span><br><span class="line">        q[i] = temp[j] ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n ;</span><br><span class="line">    std::cin &gt;&gt; n ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        std::<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;q[i]) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// std::sort(q , q+n) ;</span></span><br><span class="line">    <span class="built_in">merge_sort</span>(q , <span class="number">0</span> , n<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i ; i &lt; n ; i++)  std::<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, q[i]) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="逆序对数量"><a href="#逆序对数量" class="headerlink" title="逆序对数量"></a>逆序对数量</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL ;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line"><span class="type">int</span> q[N] ;</span><br><span class="line"><span class="function">LL <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> *q , <span class="type">int</span> l , <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r)  <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="type">int</span> mid = (l+r) &gt;&gt; <span class="number">1</span> ;</span><br><span class="line">    LL res = <span class="built_in">merge_sort</span>(q , l , mid) + <span class="built_in">merge_sort</span>(q , mid+<span class="number">1</span> , r) ;</span><br><span class="line">    <span class="type">int</span> i = l , j = mid+<span class="number">1</span> , k = <span class="number">0</span> ;</span><br><span class="line">    <span class="type">int</span> temp[r-l+<span class="number">1</span>] ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r)&#123;</span><br><span class="line">        <span class="keyword">if</span>(q[i] &lt;= q[j])    temp[k++] = q[i++] ;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            res += mid - i + <span class="number">1</span> ;</span><br><span class="line">            temp[k++] = q[j++] ;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid) temp[k++] = q[i++] ;</span><br><span class="line">    <span class="keyword">while</span>(j &lt;= r)   temp[k++] = q[j++] ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = l , k = <span class="number">0</span> ; i &lt;= r ; i++ , k++)</span><br><span class="line">        q[i] = temp[k] ;</span><br><span class="line">    <span class="keyword">return</span> res ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n ;</span><br><span class="line">    std::cin &gt;&gt; n ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;q[i]) ;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">merge_sort</span>(q , <span class="number">0</span> , n<span class="number">-1</span>) ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/">LCR 170. 交易逆序对的总数 - 力扣（LeetCode）</a></p>
<h2 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line"><span class="type">int</span> q[N] ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SL</span><span class="params">(<span class="type">int</span> x , <span class="type">int</span> l , <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="comment">//查找第一个≥x的数</span></span><br><span class="line">    <span class="type">int</span> mid ;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        mid = (l+r) &gt;&gt; <span class="number">1</span> ;</span><br><span class="line">        <span class="keyword">if</span>(q[mid] &gt;= x) r = mid ;</span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(q[l] == x)   <span class="keyword">return</span> l ;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SR</span><span class="params">(<span class="type">int</span> x , <span class="type">int</span> l , <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="comment">//查找最后一个≤x的数</span></span><br><span class="line">    <span class="type">int</span> mid ;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">            mid = (l+r+<span class="number">1</span>) &gt;&gt; <span class="number">1</span> ;</span><br><span class="line">            <span class="keyword">if</span>(q[mid] &lt;= x) l = mid ;</span><br><span class="line">            <span class="keyword">else</span> r = mid - <span class="number">1</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(q[l] == x) <span class="keyword">return</span> l ;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , m ; </span><br><span class="line">    std::cin &gt;&gt; n &gt;&gt; m ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">        std::<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;q[i]) ;</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        <span class="type">int</span> x ;</span><br><span class="line">        std::cin &gt;&gt; x ;</span><br><span class="line">        std::cout &lt;&lt; <span class="built_in">SL</span>(x , <span class="number">0</span> , n<span class="number">-1</span>) &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="built_in">SR</span>(x , <span class="number">0</span> , n<span class="number">-1</span> ) &lt;&lt; std::endl ;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/sqrtx/">69. x 的平方根 - 力扣（LeetCode）</a></p>
<h2 id="高精度计算"><a href="#高精度计算" class="headerlink" title="高精度计算"></a>高精度计算</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function">string <span class="title">add</span><span class="params">(<span class="type">const</span> string &amp;a , <span class="type">const</span> string &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span> , i = a.<span class="built_in">size</span>() - <span class="number">1</span> , j = b.<span class="built_in">size</span>() - <span class="number">1</span> ;</span><br><span class="line">    string c ;</span><br><span class="line">    <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= <span class="number">0</span>)  t += a[i--] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">        <span class="keyword">if</span>(j &gt;= <span class="number">0</span>)  t += b[j--] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">        c.<span class="built_in">push_back</span>(t % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">        t /= <span class="number">10</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t)   c.<span class="built_in">push_back</span>(t + <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">    <span class="built_in">reverse</span>(c.<span class="built_in">begin</span>() , c.<span class="built_in">end</span>()) ;</span><br><span class="line">    <span class="keyword">return</span> c ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">const</span> string&amp; a , <span class="type">const</span> string&amp; b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.<span class="built_in">size</span>() != b.<span class="built_in">size</span>())    <span class="keyword">return</span> a.<span class="built_in">size</span>() &gt; b.<span class="built_in">size</span>() ;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">int</span> i ;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span> ; a[i] == b[i] ; i++) ;</span><br><span class="line">        <span class="keyword">return</span> a[i] &gt; b[i] ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">sub</span><span class="params">(<span class="type">const</span> string&amp; a , <span class="type">const</span> string&amp; b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a == b)  <span class="keyword">return</span> <span class="string">&quot;0&quot;</span> ;</span><br><span class="line">    string c ;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">cmp</span>(a , b))&#123;</span><br><span class="line">           <span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span> , j = b.<span class="built_in">size</span>() - <span class="number">1</span> , t = <span class="number">0</span> , k = <span class="number">0</span> ;</span><br><span class="line">           <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            t = k ;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= <span class="number">0</span>)  t += a[i] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= <span class="number">0</span>)  t = t - (b[j] - <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">            c.<span class="built_in">push_back</span>((t+<span class="number">10</span>)%<span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">            k = (t &gt;= <span class="number">0</span>) ? <span class="number">0</span> : <span class="number">-1</span> ;</span><br><span class="line">            i-- , j-- ;</span><br><span class="line">           &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        c.<span class="built_in">push_back</span>(<span class="string">&#x27;-&#x27;</span>) ;</span><br><span class="line">        c += <span class="built_in">sub</span>(b,a) ; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i = c.<span class="built_in">size</span>() - <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">while</span>(c.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; c[i--] == <span class="string">&#x27;0&#x27;</span>)  c.<span class="built_in">pop_back</span>() ;</span><br><span class="line">    <span class="keyword">if</span>(c[<span class="number">0</span>] != <span class="string">&#x27;-&#x27;</span>) <span class="built_in">reverse</span>(c.<span class="built_in">begin</span>() , c.<span class="built_in">end</span>()) ;</span><br><span class="line">    <span class="keyword">return</span> c ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">mul</span><span class="params">(<span class="type">const</span> string &amp;a , <span class="type">const</span> string &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a == <span class="string">&quot;0&quot;</span> || b == <span class="string">&quot;0&quot;</span>)    <span class="keyword">return</span> <span class="string">&quot;0&quot;</span> ;</span><br><span class="line">    <span class="type">int</span> len_a = a.<span class="built_in">size</span>() , len_b = b.<span class="built_in">size</span>()  , t = <span class="number">0</span> ;</span><br><span class="line">    string c = <span class="built_in">string</span>(len_a + len_b , <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = len_a - <span class="number">1</span> ; i &gt;= <span class="number">0</span> ; i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = len_b - <span class="number">1</span> ; j &gt;= <span class="number">0</span> ; j--)&#123;</span><br><span class="line">            t = (a[i] - <span class="string">&#x27;0&#x27;</span>) * (b[j] - <span class="string">&#x27;0&#x27;</span>) + (c[i+j+<span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            c[i+j+<span class="number">1</span>] = t % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">            c[i+j] += t / <span class="number">10</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i ;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span> ; c[i] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; i &lt; len_a + len_b - <span class="number">1</span> ; i++) ;</span><br><span class="line">    c = c.<span class="built_in">substr</span>(i) ;</span><br><span class="line">    <span class="keyword">return</span> c ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">div</span><span class="params">(<span class="type">const</span> string &amp;a , <span class="type">int</span> b , <span class="type">int</span>&amp; r)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> r0 = <span class="number">0</span> ;<span class="comment">//ro is reminder .</span></span><br><span class="line">    string c ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> it = a.<span class="built_in">begin</span>() ; it != a.<span class="built_in">end</span>() ; it++)&#123;</span><br><span class="line">        r0 = r0 * <span class="number">10</span> + (*it - <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">        c.<span class="built_in">push_back</span>(r0 / b + <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">        r0 %= b ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> idx = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(c[idx] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; idx &lt; c.<span class="built_in">size</span>() - <span class="number">1</span>)    idx++ ;</span><br><span class="line">    c = c.<span class="built_in">substr</span>(idx) ;</span><br><span class="line">    r = r0 ;</span><br><span class="line">    <span class="keyword">return</span> c ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="前缀和"><a href="#前缀和" class="headerlink" title="前缀和"></a>前缀和</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , m , l , r ;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m ;</span><br><span class="line">    <span class="type">int</span> q[N] , s[N] ;</span><br><span class="line">    s[<span class="number">0</span>] = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;q[i]) ;</span><br><span class="line">        s[i] = s[i<span class="number">-1</span>] + q[i] ;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r ;</span><br><span class="line">        cout &lt;&lt; s[r] - s[l<span class="number">-1</span>] &lt;&lt; endl ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="子矩阵的和"><a href="#子矩阵的和" class="headerlink" title="子矩阵的和"></a>子矩阵的和</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span> ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a[N][N] = &#123;<span class="number">0</span>&#125; , s[N][N] = &#123;<span class="number">0</span>&#125; ;</span><br><span class="line">    <span class="type">int</span> n , m , q , x1 , y1 , x2 , y2 ;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; q ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span> ; j &lt;= m ; j++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;a[i][j]) ;</span><br><span class="line">            s[i][j] = s[i<span class="number">-1</span>][j] + s[i][j<span class="number">-1</span>] + a[i][j] - s[i<span class="number">-1</span>][j<span class="number">-1</span>] ;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="comment">// cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 ;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d %d&quot;</span> , &amp;x1 , &amp;y1 , &amp;x2 , &amp;y2) ;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span> , s[x2][y2] - s[x2][y1<span class="number">-1</span>] - s[x1<span class="number">-1</span>][y2] + s[x1<span class="number">-1</span>][y1<span class="number">-1</span>]) ; </span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="差分"><a href="#差分" class="headerlink" title="差分"></a>差分</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N] , b[N];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;a[i]);</span><br><span class="line">        b[i] = a[i] - a[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        <span class="type">int</span> l , r  , c ;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span> , &amp;l , &amp;r , &amp;c);</span><br><span class="line">        b[l] += c , b[r+<span class="number">1</span>] -= c;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">        a[i] = a[i<span class="number">-1</span>] + b[i];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span> , a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="双指针"><a href="#双指针" class="headerlink" title="双指针"></a>双指针</h2><p><strong>最长连续不重复子序列</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line">    <span class="type">int</span> a[N] , s[N] = &#123;<span class="number">0</span>&#125; , n , res = <span class="number">0</span> ;</span><br><span class="line">    cin &gt;&gt; n ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;a[i]) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> , j = <span class="number">0</span> ; i &lt; n ; ++i)&#123;</span><br><span class="line">        s[a[i]]++ ;</span><br><span class="line">        <span class="keyword">while</span>(j &lt; i &amp;&amp; s[a[i]] &gt; <span class="number">1</span>) s[a[j++]] -- ;</span><br><span class="line">        res = res &gt; (i-j+<span class="number">1</span>) ? res : (i-j+<span class="number">1</span>) ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; res ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/submissions/492530011/">3. 无重复字符的最长子串 - 力扣（LeetCode）</a></p>
<p><a href="https://leetcode.cn/problems/merge-sorted-array/">88. 合并两个有序数组 - 力扣（LeetCode）</a></p>
<p><strong>数组元素的目标和</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , m , x ;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line">    <span class="type">int</span> a[N] , b[N] ;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; x ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;a[i]) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; m ; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;b[i]) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> , j = m<span class="number">-1</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; a[i]+b[j] &gt; x)    j-- ;</span><br><span class="line">        <span class="keyword">if</span>(j &gt;= <span class="number">0</span> &amp;&amp; a[i]+b[j] == x)&#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; j ;</span><br><span class="line">            <span class="keyword">break</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>位运算</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> x ;</span><br><span class="line">    cin &gt;&gt; x ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">7</span> ; k &gt;= <span class="number">0</span> ; --k)<span class="comment">//8位二进制表示输出</span></span><br><span class="line">        cout &lt;&lt; (x&gt;&gt;k &amp; <span class="number">1</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>lowbit</strong></p>
<p>求出最后一个二进制1所表示的数的大小(描述得不清楚)，看示例：</p>
<p><code>24</code>的8位二进制表示为<code>0001_1000</code> , 则<code>lowbit(24) = 0000_1000</code> ;</p>
<p><code>lowbit(26) = 0000_0010</code> ……</p>
<p>原理是<code>x&amp;(-x)</code> , 本质是<code>x &amp; (~x + 1)</code> , <code>x</code>与其补码相与。</p>
<p><code>lowbit</code>常用于统计二进制数中<code>1</code>的个数</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&amp;(-x) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , x , res = <span class="number">0</span> ;</span><br><span class="line">    cin &gt;&gt; n ;</span><br><span class="line">    <span class="keyword">while</span>(n--)&#123;</span><br><span class="line">        cin &gt;&gt; x ;</span><br><span class="line">        res =  <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">while</span>(x)    x -= <span class="built_in">lowbit</span>(x) , res++ ;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span> , res) ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/submissions/492746547/">LCR 133. 位 1 的个数 - 力扣（LeetCode）</a></p>
<p><a href="https://leetcode.cn/problems/hamming-distance/">461. 汉明距离 - 力扣（LeetCode）</a></p>
<p>利用<code>x&amp;(x-1)</code>也可求二进制表示中1的个数</p>
<p>例如汉明距离：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hammingDistance</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> t = x ^ y , res = <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">while</span>(t)    t = t &amp; (t<span class="number">-1</span>) , res++ ;</span><br><span class="line">        <span class="keyword">return</span> res ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="离散化"><a href="#离散化" class="headerlink" title="离散化"></a>离散化</h2><p>使用场景：<strong>值域大，但稀疏</strong></p>
]]></content>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>windows相关</title>
    <url>/posts/918da884/</url>
    <content><![CDATA[<p>……</p>
<span id="more"></span>

<h3 id="磁盘扩容"><a href="#磁盘扩容" class="headerlink" title="磁盘扩容"></a>磁盘扩容</h3><p>参考文献：<a href="https://www.diskgenius.cn/help/extend-partition.php">无损扩容分区– DiskGenius</a></p>
<p>使用软件：<a href="https://www.tbtool.cn/">图吧工具箱 - 最纯净的硬件工具箱 (tbtool.cn)</a></p>
<p>遇到的问题：</p>
<ul>
<li>参考文献中的第3步中的“调整后的容量”是指腾出空闲空间的盘，在扩充目的盘后剩余的空间大小。例如，原有C盘50G，D盘100G，想在D盘腾出10G给C盘，那么“调整后的容量”应该是90G</li>
<li>如果重启时，windows不能自动进入WinPE的话，可以尝试安装一个<a href="https://www.wepe.com.cn/">微PE工具箱</a> ，安装之后电脑开机时，会出现一个进入<code>WinPE</code>的选项。如果要删除<code>WinPE</code>的开机引导的话，参考<a href="https://blog.csdn.net/lezeqe/article/details/105086599">微PE工具箱怎么卸载</a> ，其实就是把开机引导删除即可。</li>
<li>windows重启进入<code>WinPE</code>后，会自动化操作，不要打断。可能遇到:”检测到下列文件系统错误，分区容量未做调整， 无效的的文件记录”.   可参考<a href="https://blog.csdn.net/QKK612501/article/details/115298382">检测到下列文件系统错误解决方案</a></li>
</ul>
<h3 id="使用Clash后，不打开Clash就无法上网"><a href="#使用Clash后，不打开Clash就无法上网" class="headerlink" title="使用Clash后，不打开Clash就无法上网"></a>使用Clash后，不打开Clash就无法上网</h3><p>把Clash的系统代理关了就行</p>
]]></content>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>shell笔记</title>
    <url>/posts/c3711ab9/</url>
    <content><![CDATA[<p>shell笔记</p>
<span id="more"></span>

<ul>
<li><h3 id="声明脚本执行器"><a href="#声明脚本执行器" class="headerlink" title="声明脚本执行器"></a>声明脚本执行器</h3></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/usr/bin/bash</span></span><br></pre></td></tr></table></figure>

<p>可以用命令<code>which bash</code>查看<code>bash</code>位置</p>
<ul>
<li><h3 id="shell传递参数"><a href="#shell传递参数" class="headerlink" title="shell传递参数"></a>shell传递参数</h3></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./test.sh 1 2 3 4</span><br></pre></td></tr></table></figure>

<p><code>$1</code>接受参数<code>1</code> , <code>$2</code>接受参数2……</p>
<ul>
<li><h3 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h3></li>
</ul>
<p>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，<code>expr</code> 最常用。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">a=$1</span><br><span class="line">b=$2</span><br><span class="line">val=`expr $a + $b`</span><br><span class="line">echo &quot;a + b = $val&quot;</span><br><span class="line">val=`expr $a - $b`</span><br><span class="line">echo &quot;a - b = $val&quot;</span><br><span class="line">val=`expr $a \* $b`</span><br><span class="line">echo &quot;a * b = $val&quot;</span><br><span class="line">val=`expr $a / $b`</span><br><span class="line">echo &quot;a / b = $val&quot;</span><br><span class="line"></span><br><span class="line">if [ $a == $b ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;a is equal to b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a != $b ]  #严格遵循空格</span><br><span class="line">then </span><br><span class="line">    echo &quot;a isn&#x27;t equal to b&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p><strong>乘法需用<code>\*</code>转义表示</strong></p>
<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a><strong>关系运算符</strong></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">if [ $a -eq $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -eq $b : a 等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -eq $b: a 不等于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -ne $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -ne $b: a 不等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -ne $b : a 等于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -gt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -gt $b: a 大于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -gt $b: a 不大于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -lt $b: a 小于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -lt $b: a 不小于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -ge $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -ge $b: a 大于或等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -ge $b: a 小于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -le $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -le $b: a 小于或等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -le $b: a 大于 b&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h3 id="显示命令执行结果"><a href="#显示命令执行结果" class="headerlink" title="显示命令执行结果"></a><strong>显示命令执行结果</strong></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo `date`</span><br></pre></td></tr></table></figure>



<h3 id="shell输入"><a href="#shell输入" class="headerlink" title="shell输入"></a><strong>shell输入</strong></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">read name</span><br><span class="line">echo &quot;$name is excellent!&quot;</span><br></pre></td></tr></table></figure>

<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for loop in 1 2 3 4 5</span><br><span class="line">do </span><br><span class="line">    echo &quot;loop is $loop&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">int=5</span><br><span class="line">while [ $int -ge 0 ]</span><br><span class="line">do</span><br><span class="line">    echo &quot;int = $int&quot;</span><br><span class="line">    let &quot;int--&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="sed-i"><a href="#sed-i" class="headerlink" title="sed -i"></a>sed -i</h3><p><code>sed</code>是一个在Unix和类Unix环境中使用的流编辑器，它可以对输入的文本（文件或管道）进行基本的文本转换。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed -i &#x27;s/old_string/new_string/g&#x27; filename</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-i</code>：表示直接修改文件内容，而不是输出到标准输出。</li>
<li><code>s</code>：表示替换操作。</li>
<li><code>old_string</code>：要被替换的字符串。</li>
<li><code>new_string</code>：用于替换的新字符串。</li>
<li><code>g</code>：表示全局替换，即一行中的所有匹配都会被替换。</li>
<li><code>filename</code>：要进行替换的文件名。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed -i &#x27;10c apple&#x27; banana.txt</span><br></pre></td></tr></table></figure>

<ul>
<li>将<code>banana.txt</code>的第十行修改成<code>apple</code>.</li>
</ul>
<h3 id="grep命令"><a href="#grep命令" class="headerlink" title="grep命令"></a>grep命令</h3><p>正则匹配字符串</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP-FR84659:~/helloworld$ ls | grep &quot;.v&quot;</span><br><span class="line">count4.v</span><br><span class="line">count4_tb.v</span><br><span class="line">counter.v</span><br><span class="line">shift_register.v</span><br></pre></td></tr></table></figure>

<p>↑匹配显示所有<code>.v</code>后缀的文件</p>
]]></content>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>解决文章目录点击不跳转的问题</title>
    <url>/posts/6e206cd9/</url>
    <content><![CDATA[<h3 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h3><p style = "color : green">网页文章目录罢工了？</p>

<p>今天在巡视我的小破站时，突然发现我的网页文章目录罢工了：点击目录文章不发生跳转。STFW找到了NexT主题下的一个2020年的<a href = "https://github.com/theme-next/hexo-theme-next/pull/1540/files">Issue</a> , 但我发现官方现在已经把这个bug修复了。之后我才找到原因：<strong>Hexo没有正确地渲染出我的markdown语法，或者说，我没有正确的书写markdown。</strong> <strong>将h标签写的标题改成markdown语法即可，即<code>&lt;h3&gt;摘要&lt;/h3&gt;</code>改成<code>### 摘要</code></strong> </p>
<span id="more"></span>

<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><ul>
<li><strong>Bug复现</strong></li>
</ul>
<p>点击文章目录不跳转，打开开发者工具，发现：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Unchecked runtime.lastError: A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received</span><br></pre></td></tr></table></figure>

<p>监听器确实监听到了一个response , 但 message channel在response接受前已关闭？不懂什么意思……</p>
<ul>
<li><strong>开发者模式Debug</strong></li>
</ul>
<p>打开开发者工具，选择一个元素进行检查，例如<code>摘要</code>，发现浏览器将其渲染为：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span> = <span class="string">&quot;nav-link&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span> = <span class="string">&quot;nav-number&quot;</span>&gt;</span>1.<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span> = <span class="string">&quot;nav-text&quot;</span>&gt;</span>摘要<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong style = "color : red">这明显没设置锚点链接！！！怎么可能跳转！！！</strong></p>
<p>我又去看了下在建站初，Hexo自己给出的文章实例<code>Hello World</code>,检查<code>Quick Start</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span> = <span class="string">&quot;nav-link&quot;</span> <span class="attr">href</span> = <span class="string">&quot;#Quick-Start&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span> = <span class="string">&quot;nav-number&quot;</span>&gt;</span>1.<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span> = <span class="string">&quot;nav-text&quot;</span>&gt;</span>Quick Start<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>检查文章中的标题<code>Quick Start</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;Quick-Start&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#Quick-Start&quot;</span> <span class="attr">class</span>=<span class="string">&quot;headerlink&quot;</span> <span class="attr">title</span>=<span class="string">&quot;Quick Start&quot;</span>&gt;</span></span><br><span class="line">		Quick Start</span><br><span class="line">	<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>发现文章内的大标题都被加上了&#96;&#96;id&#96;锚点。而我写的文章都没有渲染加上锚点。</p>
<ul>
<li><strong>问题分析</strong></li>
</ul>
<p>同样是<code>_post</code>文件夹里的md文件，渲染结果却不同，问题肯定处在markdown文件内部，我仔细对比了官方参考的<code>Hello World</code>文章与我的文章，发现了问题所在：<strong style = "color:red">原来我的文章内的标题都是用HTML格式写的，而官方文章都是用markdown语法写的</strong>，即：</p>
<p>我的摘要：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;h3&gt;摘要&lt;/h3&gt;</span><br></pre></td></tr></table></figure>

<p>官方的摘要：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section">### 摘要</span></span><br></pre></td></tr></table></figure>

<p>markdown里写的是<code>&lt;h3&gt;摘要&lt;/h3&gt;</code>,那hexo当然要原封不动地渲染为<code>&lt;h3&gt;摘要&lt;/h3&gt;</code> , 难不成还修改你的HTML代码？	被自己傻到了:sweat_smile:</p>
<ul>
<li><strong>解决方案</strong></li>
</ul>
<p>把markdown源文件修改即可，即<code>&lt;h3&gt;摘要&lt;/h3&gt;</code>改成<code>### 摘要</code></p>
]]></content>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>流畅的Python</title>
    <url>/posts/32ffb807/</url>
    <content><![CDATA[<p>《流畅的Python》读书笔记</p>
<span id="more"></span>

<h3 id="第一章-Python数据模型"><a href="#第一章-Python数据模型" class="headerlink" title="第一章 Python数据模型"></a>第一章 Python数据模型</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line">Card = collections.namedtuple(<span class="string">&#x27;Card&#x27;</span> , [<span class="string">&#x27;rank&#x27;</span> , <span class="string">&#x27;suit&#x27;</span>])</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FrenchDeck</span>:</span><br><span class="line">    ranks = [<span class="built_in">str</span>(n) <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">11</span>)] + <span class="built_in">list</span>(<span class="string">&#x27;JQKA&#x27;</span>)</span><br><span class="line">    suits  = <span class="string">&#x27;spades diamonds clubs hearts&#x27;</span>.split()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self._cards = [Card(rank , suit) <span class="keyword">for</span> rank <span class="keyword">in</span> self.ranks </span><br><span class="line">                                         <span class="keyword">for</span> suit <span class="keyword">in</span> self.suits]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self._cards)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self,position</span>):</span><br><span class="line">        <span class="keyword">return</span> self._cards[position]</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    deck = FrenchDeck()</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">len</span>(deck))</span><br><span class="line">    <span class="built_in">print</span>(deck[-<span class="number">1</span>])</span><br><span class="line">    <span class="built_in">print</span>(deck[:<span class="number">3</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="built_in">print</span>(choice(deck))</span><br></pre></td></tr></table></figure>

<ul>
<li><code>namedtuple</code></li>
</ul>
<blockquote>
<p>In Python, NamedTuple is present inside the collections module. It provides a way to create simple, lightweight data structures similar to a class, but without the overhead of defining a full class. Like dictionaries, they contain keys that are hashed to a particular value. On the contrary, it supports both access from key-value and iteration, the functionality that dictionaries lack.</p>
</blockquote>
<p><a href="https://www.geeksforgeeks.org/namedtuple-in-python/">Namedtuple in Python - GeeksforGeeks</a></p>
<p>划重点:①一个轻量的数据结构类；②相比于字典，还有下标索引的功能。</p>
<p><strong>序列协议:</strong></p>
<ul>
<li>在 Python 中，序列是一种通用的数据结构，可以包含多个元素，并且支持<strong>迭代</strong>、<strong>索引</strong>和<strong>切片</strong>操作。</li>
<li>序列协议定义了一组<strong>特殊方法</strong>，例如 <code>__len__</code> 和 <code>__getitem__</code>，用于使对象表现得像序列一样。</li>
<li>如果一个类实现了这些方法，它的<strong>实例</strong>就可以像<strong>列表</strong>、<strong>字符串</strong>或<strong>元组</strong>一样进行操作。</li>
</ul>
<p><code>FrenchDeck</code>类中实现了<code>__len__</code>方法后，对实例化类<code>deck</code>执行<code>len(deck)</code>时，实际上调用的是<code>deck.__len__(self)</code> ; 同理，对<code>deck</code>执行切片、下标索引时实际调用的是<code>__getitem__</code>方法。</p>
<p><strong>sorted</strong>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> card <span class="keyword">in</span> <span class="built_in">sorted</span>(deck , key=card_value):</span><br><span class="line">        <span class="built_in">print</span>(card)</span><br></pre></td></tr></table></figure>

<p>其中<code>card_value</code>不需要传入参数<code>card</code> , <code>sorted</code>会自动将<code>deck</code>中每一个<code>card</code>传入<code>key</code>中,不需要显式传参。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vector</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self , x=<span class="number">0</span> , y=<span class="number">0</span></span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Vector(%r,%r)&#x27;</span>%(self.x , self.y)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__abs__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> sqrt(self.x**<span class="number">2</span> + self.y**<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__bool__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">bool</span>(self.x <span class="keyword">or</span> self.y)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self , other</span>):</span><br><span class="line">        <span class="keyword">return</span> Vector(self.x+other.x , self.y+other.y)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__mul__</span>(<span class="params">self , scalar</span>):</span><br><span class="line">        <span class="keyword">return</span> Vector(self.x*scalar , self.y*scalar) </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    v1 = Vector(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">    v2 = Vector(<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">    v3 = Vector(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(v1+v2)</span><br><span class="line">    <span class="built_in">print</span>(v1*<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">abs</span>(v1))</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">bool</span>(v3))</span><br></pre></td></tr></table></figure>

<h3 id="第二章-数据结构"><a href="#第二章-数据结构" class="headerlink" title="第二章 数据结构"></a>第二章 数据结构</h3><p><strong>列表推导与生成器表达式</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    colors = [<span class="string">&#x27;black&#x27;</span>, <span class="string">&#x27;white&#x27;</span>]</span><br><span class="line">    sizes = [<span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;L&#x27;</span>]</span><br><span class="line">    tshirt = [(color,size) <span class="keyword">for</span> color <span class="keyword">in</span> colors</span><br><span class="line">                            <span class="keyword">for</span> size <span class="keyword">in</span> sizes]</span><br><span class="line">    <span class="built_in">print</span>(tshirt)</span><br><span class="line">    symbols = <span class="string">&#x27;$¢£¥€¤&#x27;</span></span><br><span class="line">    a = <span class="built_in">list</span>(<span class="built_in">ord</span>(symbol) <span class="keyword">for</span> symbol <span class="keyword">in</span> symbols <span class="keyword">if</span> <span class="built_in">ord</span>(symbol) &gt; <span class="number">127</span>)</span><br><span class="line">    b = [ <span class="built_in">ord</span>(symbol) <span class="keyword">for</span> symbol <span class="keyword">in</span> symbols <span class="keyword">if</span> <span class="built_in">ord</span>(symbol) &gt; <span class="number">127</span> ]</span><br><span class="line">    <span class="built_in">print</span>(a , b)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>虽然也可以用列表推导来初始化元组、数组或其他序列类型，但是生成<br>器表达式是更好的选择。这是因为生成器表达式背后遵守了迭代器协<br>议，可以逐个地产出元素，而不是先建立一个完整的列表，然后再把这<br>个列表传递到某个构造函数里。前面那种方式显然能够节省内存。</p>
</blockquote>
<p><strong>元组</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    lax_coordinates = (<span class="number">33.9425</span>, -<span class="number">118.408056</span>)</span><br><span class="line">    city, year, pop, chg, area = (<span class="string">&#x27;Tokyo&#x27;</span>, <span class="number">2003</span>, <span class="number">32450</span>, <span class="number">0.66</span>, <span class="number">8014</span>)</span><br><span class="line">    traveler_ids = [(<span class="string">&#x27;USA&#x27;</span>, <span class="string">&#x27;31195855&#x27;</span>), (<span class="string">&#x27;BRA&#x27;</span>, <span class="string">&#x27;CE342567&#x27;</span>),(<span class="string">&#x27;ESP&#x27;</span>, <span class="string">&#x27;XDA205856&#x27;</span>)]</span><br><span class="line">    <span class="keyword">for</span> passport <span class="keyword">in</span> <span class="built_in">sorted</span>(traveler_ids):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s/%s&#x27;</span> % passport)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我们把元组 (‘Tokyo’, 2003, 32450, 0.66, 8014) 里<br>的元素分别赋值给变量 city、year、pop、chg 和 area，而这所有的<br>赋值我们只用一行声明就写完了。同样，在后面一行中，一个 % 运算符<br>就把 passport 元组里的元素对应到了 print 函数的格式字符串空档<br>中。这两个都是对元组拆包的应用。</p>
</blockquote>
<p>不使用中间变量交换两个变量的值</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a , b = b , a</span><br></pre></td></tr></table></figure>

<p>实际此处涉及到元组的解包:python首先解析右值，组成元组(b,a),再解包赋值给a,b</p>
<p>*<strong>运算符</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">devmode</span>(<span class="params">a , b</span>):</span><br><span class="line">    <span class="keyword">return</span> (a//b , a%b)</span><br><span class="line">t = (<span class="number">12</span>,<span class="number">7</span>)</span><br><span class="line"><span class="built_in">print</span>(devmode(*t))</span><br><span class="line">a , b , *_ = <span class="built_in">range</span>(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(a,b,_)</span><br></pre></td></tr></table></figure>

<p><strong>嵌套元组</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    metro_areas = [</span><br><span class="line">    (<span class="string">&#x27;Tokyo&#x27;</span>,<span class="string">&#x27;JP&#x27;</span>,<span class="number">36.933</span>,(<span class="number">35.689722</span>,<span class="number">139.691667</span>)), </span><br><span class="line">    (<span class="string">&#x27;Delhi NCR&#x27;</span>, <span class="string">&#x27;IN&#x27;</span>, <span class="number">21.935</span>, (<span class="number">28.613889</span>, <span class="number">77.208889</span>)),</span><br><span class="line">    (<span class="string">&#x27;Mexico City&#x27;</span>, <span class="string">&#x27;MX&#x27;</span>, <span class="number">20.142</span>, (<span class="number">19.433333</span>, -<span class="number">99.133333</span>)),</span><br><span class="line">    (<span class="string">&#x27;New York-Newark&#x27;</span>, <span class="string">&#x27;US&#x27;</span>, <span class="number">20.104</span>, (<span class="number">40.808611</span>, -<span class="number">74.020386</span>)),</span><br><span class="line">    (<span class="string">&#x27;Sao Paulo&#x27;</span>, <span class="string">&#x27;BR&#x27;</span>, <span class="number">19.649</span>, (-<span class="number">23.547778</span>, -<span class="number">46.635833</span>)),</span><br><span class="line">    ]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;&#123;:15&#125; | &#123;:^9&#125; | &#123;:^9&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;lat.&#x27;</span>, <span class="string">&#x27;long.&#x27;</span>))</span><br><span class="line">    fmt = <span class="string">&#x27;&#123;:15&#125; | &#123;:9.4f&#125; | &#123;:9.4f&#125;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> name, cc, pop, (latitude, longitude) <span class="keyword">in</span> metro_areas:</span><br><span class="line">        <span class="keyword">if</span> longitude &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(fmt.<span class="built_in">format</span>(name, latitude, longitude))</span><br></pre></td></tr></table></figure>

<p><code>&#123;:15&#125;</code>表示占15格 ， <code>&#123;:^9&#125;</code>表示占9格，字符串居中 ， <code>&#123;:&gt;9&#125;</code>右对齐占9格，<code>&#123;:9.4f&#125;</code>占9格，保留四位小数的浮点数</p>
<p><strong>具名元组collections.namedtuple</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    city = namedtuple(<span class="string">&#x27;city&#x27;</span> , [<span class="string">&#x27;name&#x27;</span> , <span class="string">&#x27;country&#x27;</span> , <span class="string">&#x27;pop&#x27;</span> , <span class="string">&#x27;coordinates&#x27;</span>])</span><br><span class="line">    tokyo = city(<span class="string">&#x27;tokyo&#x27;</span> , <span class="string">&#x27;Japan&#x27;</span> , <span class="string">&#x27;36.933&#x27;</span> , (<span class="number">35</span>,<span class="number">139</span>))</span><br><span class="line">    <span class="built_in">print</span>(tokyo.pop , tokyo.coordinates)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(city._fields)</span><br><span class="line">    delhi_data = (<span class="string">&#x27;Delhi NCR&#x27;</span>, <span class="string">&#x27;IN&#x27;</span>, <span class="number">21.935</span>, (<span class="number">28.613889</span>, <span class="number">77.208889</span>))</span><br><span class="line">    delhi = city._make(delhi_data)</span><br><span class="line">    <span class="built_in">print</span>(delhi._asdict)</span><br></pre></td></tr></table></figure>

<p><code>._fields</code>返回具名元素所有的字段名称</p>
<p><code>._make</code>支持以**元组(或列表)**创建具名元组</p>
<p><code>._asdict</code>把具名元组以 collections.OrderedDict 的形式返回，我们可以利用它来把元组里的信息友好地呈现出来。</p>
<p><strong>切片</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">&#x27;bicycle&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[::<span class="number">3</span>] , s[::-<span class="number">1</span>] , s[::-<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">1</span>:<span class="number">5</span>:<span class="number">2</span>] , s[<span class="number">5</span>:<span class="number">1</span>:-<span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<p><code>start:stop:step</code>    <code>step</code>为负值表示反向切片</p>
<p><strong>对序列使用</strong>*</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">    <span class="built_in">print</span>(l * <span class="number">3</span> , <span class="number">3</span> * <span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line">    board = [[<span class="string">&#x27;_&#x27;</span>]*<span class="number">3</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line">    <span class="built_in">print</span>(board)</span><br><span class="line">    board[<span class="number">1</span>][<span class="number">2</span>] = <span class="string">&#x27;X&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(board)</span><br><span class="line">    board_ = [[<span class="string">&#x27;_&#x27;</span>]*<span class="number">3</span>]*<span class="number">3</span></span><br><span class="line">    board_[<span class="number">1</span>][<span class="number">2</span>] = <span class="string">&#x27;X&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(board_)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">python chapter2.py</span> </span><br><span class="line">[1, 2, 3, 1, 2, 3, 1, 2, 3] abcabcabc</span><br><span class="line">[[&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;]]</span><br><span class="line">[[&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;X&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;]]</span><br><span class="line">[[&#x27;_&#x27;, &#x27;_&#x27;, &#x27;X&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;X&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;X&#x27;]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>board_ = [[&#39;_&#39;]*3]*3</code>  这种方法创建了一个包含三个引用的列表，修改其中一个列表，其他两个列表都会变化。</p>
<h3 id="第三章-字典和集合"><a href="#第三章-字典和集合" class="headerlink" title="第三章 字典和集合"></a>第三章 字典和集合</h3><p><strong>字典初始化</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    a = <span class="built_in">dict</span>(one=<span class="number">1</span>, two=<span class="number">2</span>, three=<span class="number">3</span>)</span><br><span class="line">    b = &#123;<span class="string">&#x27;one&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;two&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;three&#x27;</span>: <span class="number">3</span>&#125;</span><br><span class="line">    c = <span class="built_in">dict</span>(<span class="built_in">zip</span>([<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]))</span><br><span class="line">    d = <span class="built_in">dict</span>([(<span class="string">&#x27;two&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;one&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;three&#x27;</span>, <span class="number">3</span>)])</span><br><span class="line">    e = <span class="built_in">dict</span>(&#123;<span class="string">&#x27;three&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;one&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;two&#x27;</span>: <span class="number">2</span>&#125;)</span><br><span class="line">    <span class="built_in">print</span>(a == b == c == d == e)<span class="comment">#以上五种字典初始化方式等价</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>字典推导</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DIAL_CODES = [(<span class="number">86</span>, <span class="string">&#x27;China&#x27;</span>),(<span class="number">91</span>, <span class="string">&#x27;India&#x27;</span>),(<span class="number">1</span>, <span class="string">&#x27;United States&#x27;</span>),(<span class="number">62</span>, <span class="string">&#x27;Indonesia&#x27;</span>),(<span class="number">55</span>, <span class="string">&#x27;Brazil&#x27;</span>),(<span class="number">92</span>, <span class="string">&#x27;Pakistan&#x27;</span>),(<span class="number">880</span>, <span class="string">&#x27;Bangladesh&#x27;</span>),(<span class="number">234</span>, <span class="string">&#x27;Nigeria&#x27;</span>),(<span class="number">7</span>, <span class="string">&#x27;Russia&#x27;</span>),(<span class="number">81</span>, <span class="string">&#x27;Japan&#x27;</span>)]</span><br><span class="line">country_code = &#123;country : code <span class="keyword">for</span> code,country <span class="keyword">in</span> DIAL_CODES <span class="keyword">if</span> code &gt; <span class="number">66</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(country_code)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>集合</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">    s = <span class="built_in">set</span>(l) </span><br><span class="line">    <span class="built_in">print</span>(s)    </span><br><span class="line"></span><br><span class="line">    s2 = &#123;<span class="number">4</span>,<span class="number">6</span>,<span class="number">9</span>&#125;</span><br><span class="line">    <span class="built_in">print</span>(s&amp;s2)</span><br><span class="line">    <span class="built_in">print</span>(s|s2)</span><br><span class="line">    <span class="built_in">print</span>(s-s2)</span><br><span class="line"></span><br><span class="line">    s3 = <span class="built_in">set</span>()</span><br><span class="line">    s3.add(<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># s3.pop()</span></span><br><span class="line">    <span class="built_in">print</span>(s3)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>s = set(l)</code>会将列表<code>l</code>中元素去重</p>
<p><code>s&amp;s2</code>求交集，<code>s|s2</code>求并集，<code>s-s2</code>求补集</p>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>重学链表</title>
    <url>/posts/14fa845f/</url>
    <content><![CDATA[<p>最近又重学了一遍链表，记得大一学链表时也是很迷，指来指去没指明白哈哈哈。这一次学也是通透多了。</p>
<span id="more"></span>

<h2 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">Lnode</span>&#123;</span><br><span class="line">    <span class="type">int</span> data ;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Lnode</span> *next ;</span><br><span class="line">&#125;Lnode , *Linklist ;</span><br></pre></td></tr></table></figure>

<ul>
<li>结构体内两个元素<code>data</code> 、<code>next</code></li>
<li><code>data</code>是<code>int</code>型，可修改为其他，例如<code>char</code>、<code>double</code></li>
<li><code>next</code>是类型为<code>struct Lnode</code>的指针，可指向<code>struct Lnode</code>这种结构体，在链表中<code>next</code>指向下一个结点，例如<code>1号结点的next</code> &#x3D; <code>2号结点的地址</code></li>
<li><code>Lnode</code>是<code>struct Lnode</code>的别名 ， <code>Linklist</code> 是<code>struct Lnode *</code>的别名</li>
</ul>
<h4 id="声明一个链表"><a href="#声明一个链表" class="headerlink" title="声明一个链表"></a>声明一个链表</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Linklist HEAD = <span class="keyword">new</span> Lnode ;</span><br><span class="line">HEAD-&gt;next = <span class="literal">NULL</span> ;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Linklist HEAD</code>与<code>Lnode *HEAD</code>等价，但我们一般用<code>Linklist HEAD</code>来定义链表(定义链表头结点，链表头结点即代表该链表)。用<code>Lnode *p</code>定义一个结点</li>
<li><code>Linklist HEAD = new Lnode ;</code>为头结点(头指针)分配一个大小为<code>Lnode</code>的空间。</li>
<li>目前链表为空，头指针指向<code>NULL</code>.<code>HEAD-&gt;next</code>表示<code>HEAD</code>下一个结点地址。</li>
<li>头指针<code>HEAD</code>不能严格算一个结点,<code>HEAD-&gt;data</code>未定义。</li>
</ul>
<p><strong>加入结点</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Lnode *p = <span class="keyword">new</span> Lnode ;<span class="comment">//第一个结点p</span></span><br><span class="line">cin &gt;&gt; p-&gt;data ; <span class="comment">//输入该结点存储的数据data</span></span><br><span class="line">HEAD-&gt;next = p ;</span><br><span class="line">p-&gt;next = <span class="literal">NULL</span> ;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>再加一个结点</strong></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Lnode *q = <span class="keyword">new</span> Lnode ;<span class="comment">//第二个结点q</span></span><br><span class="line">cin &gt;&gt; q-&gt;data ;</span><br><span class="line">p-&gt;next = q ;</span><br><span class="line">q-&gt;next = <span class="literal">NULL</span> ;</span><br></pre></td></tr></table></figure>

<ul>
<li>注意最后一个结点的<code>next</code>应该指向<code>NULL</code>，否则<code>q-&gt;next</code>这个野指针无穷无尽。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span> ;</span><br><span class="line"><span class="type">int</span> e[N] , ne[N] , idx , head ;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    head = <span class="number">-1</span> ;</span><br><span class="line">    idx = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_to_head</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    e[idx] = x ;</span><br><span class="line">    ne[idx] = head ;</span><br><span class="line">    head = idx ;</span><br><span class="line">    idx++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> k , <span class="type">int</span> x )</span></span>&#123;</span><br><span class="line">    e[idx] = x ;</span><br><span class="line">    ne[idx] = ne[k] ;</span><br><span class="line">    ne[k] = idx ;</span><br><span class="line">    idx++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    ne[k] = ne[ne[k]] ;   </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_list</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head ; i != <span class="number">-1</span> ; i = ne[i]) cout &lt;&lt; e[i] &lt;&lt; <span class="string">&#x27; &#x27;</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> M , k , x ;</span><br><span class="line">    <span class="type">char</span> operation ;</span><br><span class="line">    <span class="built_in">init</span>() ;</span><br><span class="line">    cin &gt;&gt; M ;</span><br><span class="line">    <span class="keyword">while</span>(M--)&#123;</span><br><span class="line">        cin &gt;&gt; operation ;</span><br><span class="line">        <span class="keyword">switch</span>(operation)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;H&#x27;</span> :</span><br><span class="line">                cin &gt;&gt; x ;</span><br><span class="line">                <span class="built_in">add_to_head</span>(x) ;</span><br><span class="line">                <span class="keyword">break</span> ;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span> :</span><br><span class="line">                cin &gt;&gt; k ;</span><br><span class="line">                <span class="keyword">if</span>(!k)  head = ne[head] ;</span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">remove</span>(k<span class="number">-1</span>) ;</span><br><span class="line">                <span class="keyword">break</span> ;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;I&#x27;</span> :</span><br><span class="line">                cin &gt;&gt; k &gt;&gt; x ;</span><br><span class="line">                <span class="built_in">add</span>(k<span class="number">-1</span> , x) ;</span><br><span class="line">                <span class="keyword">break</span> ;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print_list</span>() ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="https://pic.imgdb.cn/item/6537eb1ec458853aefe7a841.jpg" alt="链表示意图.jpg">

<h3 id="常用函数操作"><a href="#常用函数操作" class="headerlink" title="常用函数操作"></a>常用函数操作</h3><ul>
<li>初始化链表(初始化头指针)</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitList</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    <span class="comment">//调用InitList前得先声明HEAD，例如 Linklist linkedlist_1 ，linkedlist_1即是该链表的名称(用头指针来代表链表名称，类似于用地址a来代表数组)</span></span><br><span class="line">    HEAD = <span class="keyword">new</span> Lnode ; <span class="comment">//为HEAD声明一块Lnode大小的空间</span></span><br><span class="line">    HEAD-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>判断链表是否为空</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">IsEmpty</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(HEAD-&gt;next) <span class="keyword">return</span> <span class="number">0</span> ;<span class="comment">//非空</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> ; <span class="comment">//为空</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>销毁链表</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">DestroyList</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    Lnode *p ;</span><br><span class="line">    <span class="keyword">while</span>(HEAD)&#123;</span><br><span class="line">        p = HEAD ;</span><br><span class="line">        HEAD = HEAD-&gt;next  ;</span><br><span class="line">        <span class="keyword">delete</span> p ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>清空链表</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ClearList</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    Lnode *p , *q ;</span><br><span class="line">    p = HEAD -&gt;next ;</span><br><span class="line">    HEAD-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        q = p-&gt;next ;</span><br><span class="line">        <span class="keyword">delete</span> p ;</span><br><span class="line">        p = q ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>tips:清空链表不释放头指针空间</p>
<ul>
<li>获取链表长度</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetLength</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    Lnode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="type">int</span> length = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        length++ ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> length ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>根据索引获取链表元素</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetElem</span><span class="params">(Linklist &amp;HEAD , <span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt;= <span class="built_in">GetLength</span>(HEAD))   &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid&quot;</span> &lt;&lt; endl ; <span class="keyword">return</span> <span class="number">0</span> ;&#125;</span><br><span class="line">    Lnode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(j != i)&#123;</span><br><span class="line">        j++ ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;data ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>根据值确定结点索引</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">LocateElem</span><span class="params">(Linklist &amp;HEAD , <span class="type">int</span> value)</span></span>&#123;</span><br><span class="line">    Lnode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        <span class="keyword">if</span>(value == p-&gt;data)    <span class="keyword">return</span> i ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">        i++ ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; value &lt;&lt; <span class="string">&quot;not in this linkedlist&quot;</span> &lt;&lt; endl ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>插入结点</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ListInsert</span><span class="params">(Linklist &amp;HEAD , <span class="type">int</span> i , <span class="type">int</span> data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; <span class="built_in">GetLength</span>(HEAD))    &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid&quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    Lnode *p = HEAD ;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">-1</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; (j!=i<span class="number">-1</span>))&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">        j++ ;</span><br><span class="line">    &#125;</span><br><span class="line">    Lnode *s = <span class="keyword">new</span> Lnode ;</span><br><span class="line">    s-&gt;data = data ;</span><br><span class="line">    s-&gt;next = HEAD-&gt;next ;</span><br><span class="line">    HEAD-&gt;next = s ;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Insert &quot;</span> &lt;&lt; data &lt;&lt; <span class="string">&quot; in the index &quot;</span> &lt;&lt; <span class="string">&#x27;[&#x27;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;] successfully !&quot;</span> &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>tips: 此处<code>p = HEAD</code>从<code>HEAD</code>开始，<code>j=-1</code> <code>j</code>从<code>-1</code>开始，是为了<code>i=0</code>的特殊情况。</p>
<ul>
<li>删除元素</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">DeleteElem</span><span class="params">(Linklist &amp;L , <span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt;= <span class="built_in">GetLength</span>(L))  &#123;cout &lt;&lt; <span class="string">&quot;the index i is invalid&quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    Lnode *p = L ;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">-1</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; (j!=i<span class="number">-1</span>))&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">        j++ ;</span><br><span class="line">    &#125;</span><br><span class="line">    Lnode *s = p-&gt;next ;</span><br><span class="line">    p-&gt;next = s-&gt;next ;</span><br><span class="line">    <span class="keyword">delete</span> s ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>打印链表所有元素</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintList</span><span class="params">(Linklist &amp;L)</span></span>&#123;</span><br><span class="line">    Lnode *p = L-&gt;next ;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        cout &lt;&lt; p-&gt;data &lt;&lt; <span class="string">&quot;  &quot;</span> ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>头插法创建链表</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreateList_H</span><span class="params">(Linklist &amp;L , <span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="comment">//insert the nodes from the head of linkedlist</span></span><br><span class="line">    L = <span class="keyword">new</span> Lnode ;</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span> ; i &gt;= <span class="number">0</span> ; i--)&#123;</span><br><span class="line">        Lnode *p = <span class="keyword">new</span> Lnode ;</span><br><span class="line">        cin &gt;&gt; p-&gt;data ;</span><br><span class="line">        p-&gt;next = L-&gt;next ;</span><br><span class="line">        L-&gt;next = p ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>尾插法创建链表</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreateList_T</span><span class="params">(Linklist &amp;L , <span class="type">int</span> n )</span></span>&#123;</span><br><span class="line">    <span class="comment">//Insert elements from the tail of linkedlist</span></span><br><span class="line">    L = <span class="keyword">new</span> Lnode ;</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    Lnode *T = L ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        Lnode *p = <span class="keyword">new</span> Lnode ;</span><br><span class="line">        cin &gt;&gt; p-&gt;data ;</span><br><span class="line">        T-&gt;next = p ;</span><br><span class="line">        T = T-&gt;next ;</span><br><span class="line">        p-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="双向链表"><a href="#双向链表" class="headerlink" title="双向链表"></a>双向链表</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">DoubleLinkedList</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> data ;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">DoubleLinkedList</span> *prior , *next ;</span><br><span class="line">&#125;DLNode , *DLList;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitDLList</span> <span class="params">(DLList &amp;HEAD)</span></span>&#123;</span><br><span class="line">    HEAD = <span class="keyword">new</span> DLNode ;</span><br><span class="line">    HEAD-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    HEAD-&gt;prior = <span class="literal">NULL</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreateList_DL</span><span class="params">(DLList &amp;HEAD , <span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        DLNode *p = <span class="keyword">new</span> DLNode ;</span><br><span class="line">        cin &gt;&gt; p-&gt;data ;</span><br><span class="line">        p-&gt;next = HEAD-&gt;next ;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(HEAD-&gt;next)&#123;</span><br><span class="line">            HEAD-&gt;next-&gt;prior = p ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//i = 0 时，插入第一个元素时，HEAD-&gt;next 为NULL， NULL是没有的，即NULL-&gt;prior是访问不到的，segmentation fault</span></span><br><span class="line">        <span class="comment">//因此当HEAD-&gt;next不为NULL时，才会执行HEAD-&gt;next-&gt;prior = p </span></span><br><span class="line">        <span class="comment">//当HEAD-&gt;next 为NULL，也就是创建第一个结点时，不要让(也没法让)NULL-&gt;prior = p </span></span><br><span class="line"></span><br><span class="line">        HEAD-&gt;next = p ;</span><br><span class="line">        p-&gt;prior = HEAD ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetLength_DL</span><span class="params">(DLList &amp;HEAD)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> length = <span class="number">0</span> ;</span><br><span class="line">    DLNode *p = HEAD-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        length++ ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> length ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintList_DL</span><span class="params">(DLList &amp;HEAD)</span></span>&#123;</span><br><span class="line">    DLNode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="built_in">GetLength_DL</span>(HEAD) ; i++)&#123;</span><br><span class="line">        cout &lt;&lt; p-&gt;data &lt;&lt; <span class="string">&quot;  &quot;</span> ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InsertList_DL</span><span class="params">(DLList &amp;HEAD , <span class="type">int</span> i , <span class="type">int</span> data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( i &lt; <span class="number">0</span> || i &gt; <span class="built_in">GetLength_DL</span>(HEAD))    &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid&quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    DLNode *p = HEAD ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; i ; j++)&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    DLNode *s = <span class="keyword">new</span> DLNode ;</span><br><span class="line">    s-&gt;data = data ;</span><br><span class="line">    s-&gt;next = p-&gt;next ;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;next)&#123;</span><br><span class="line">        p-&gt;next-&gt;prior = s ;</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;next = s ;</span><br><span class="line">    s-&gt;prior = p ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DeleteElem_DL</span><span class="params">(DLList &amp;HEAD  , <span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt;= <span class="built_in">GetLength_DL</span>(HEAD))    &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid &quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    DLNode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="keyword">while</span>(i--)&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;prior-&gt;next = p-&gt;next ;</span><br><span class="line">    p-&gt;next-&gt;prior = p-&gt;prior ;</span><br><span class="line">    <span class="keyword">delete</span> p ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    DLList HEAD ;</span><br><span class="line">    <span class="built_in">InitDLList</span>(HEAD) ;</span><br><span class="line">    <span class="built_in">CreateList_DL</span>(HEAD , <span class="number">6</span>) ;</span><br><span class="line">    <span class="built_in">PrintList_DL</span>(HEAD) ;</span><br><span class="line">    <span class="built_in">InsertList_DL</span>(HEAD , <span class="number">2</span> , <span class="number">821</span>) ;</span><br><span class="line">    <span class="built_in">PrintList_DL</span>(HEAD) ;</span><br><span class="line">    <span class="built_in">DeleteElem_DL</span>(HEAD , <span class="number">1</span>) ;</span><br><span class="line">    <span class="built_in">PrintList_DL</span>(HEAD) ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="常见bugs"><a href="#常见bugs" class="headerlink" title="常见bugs"></a>常见bugs</h2><ul>
<li>未考虑<code>NULL</code>的特殊性，执行<code>NULL-&gt;next</code>操作。编译器还不会爆出错误信息，满大街找bug.</li>
</ul>
<p><strong>解决方案：</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">InsertList_DL</span><span class="params">(DLList &amp;HEAD , <span class="type">int</span> i , <span class="type">int</span> data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( i &lt; <span class="number">0</span> || i &gt; <span class="built_in">GetLength_DL</span>(HEAD))    &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid&quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    DLNode *p = HEAD ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; i ; j++)&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    DLNode *s = <span class="keyword">new</span> DLNode ;</span><br><span class="line">    s-&gt;data = data ;</span><br><span class="line">    s-&gt;next = p-&gt;next ;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;next)&#123;</span><br><span class="line">        p-&gt;next-&gt;prior = s ;</span><br><span class="line">    &#125;<span class="comment">//加入判断p-&gt;next是否为NULL</span></span><br><span class="line">    p-&gt;next = s ;</span><br><span class="line">    s-&gt;prior = p ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="y总的链表算法"><a href="#y总的链表算法" class="headerlink" title="y总的链表算法"></a>y总的链表算法</h2><p>在写AcWing上的题时，发现写的比较吃力。我在想，结构体+指针是否还不是高效的解法，就想着去看看y总的算法，y总提到：</p>
<ul>
<li>指针+结构体实现链表一般出现在面试题中，笔试题一般用数组实现链表</li>
<li><code>new</code>操作太耗时，大数据量时多个<code>new</code>操作可能超时。Acwing单链表那道题，数组模拟链表快10%。</li>
<li>但用数组模拟链表与动态实现链表相比，空间复杂度更大。</li>
</ul>
<h2 id="一些练习题"><a href="#一些练习题" class="headerlink" title="一些练习题"></a>一些练习题</h2><ul>
<li><a href="https://www.acwing.com/activity/content/problem/content/863/">AcWing 826. 单链表 - AcWing</a></li>
<li><a href="https://www.acwing.com/problem/content/description/829/">827. 双链表 - AcWing题库</a></li>
</ul>
]]></content>
  </entry>
</search>
